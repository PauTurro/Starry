(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function _y(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jf={exports:{}},Sa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function hT(){if(V_)return Sa;V_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Sa.Fragment=e,Sa.jsx=i,Sa.jsxs=i,Sa}var q_;function dT(){return q_||(q_=1,Jf.exports=hT()),Jf.exports}var B=dT(),eh={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function pT(){if(Y_)return le;Y_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function y(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function L(b,z,Y){this.props=b,this.context=z,this.refs=M,this.updater=Y||R}L.prototype.isReactComponent={},L.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},L.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function H(){}H.prototype=L.prototype;function G(b,z,Y){this.props=b,this.context=z,this.refs=M,this.updater=Y||R}var K=G.prototype=new H;K.constructor=G,C(K,L.prototype),K.isPureReactComponent=!0;var re=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function ve(b,z,Y,q,$,Se){return Y=Se.ref,{$$typeof:s,type:b,key:z,ref:Y!==void 0?Y:null,props:Se}}function W(b,z){return ve(b.type,z,void 0,void 0,void 0,b.props)}function J(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function Ee(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Y){return z[Y]})}var ge=/\/+/g;function oe(b,z){return typeof b=="object"&&b!==null&&b.key!=null?Ee(""+b.key):z.toString(36)}function _e(){}function $t(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(_e,_e):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function ze(b,z,Y,q,$){var Se=typeof b;(Se==="undefined"||Se==="boolean")&&(b=null);var ae=!1;if(b===null)ae=!0;else switch(Se){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(b.$$typeof){case s:case e:ae=!0;break;case v:return ae=b._init,ze(ae(b._payload),z,Y,q,$)}}if(ae)return $=$(b),ae=q===""?"."+oe(b,0):q,re($)?(Y="",ae!=null&&(Y=ae.replace(ge,"$&/")+"/"),ze($,z,Y,"",function(Kn){return Kn})):$!=null&&(J($)&&($=W($,Y+($.key==null||b&&b.key===$.key?"":(""+$.key).replace(ge,"$&/")+"/")+ae)),z.push($)),1;ae=0;var Nt=q===""?".":q+":";if(re(b))for(var He=0;He<b.length;He++)q=b[He],Se=Nt+oe(q,He),ae+=ze(q,z,Y,Se,$);else if(He=y(b),typeof He=="function")for(b=He.call(b),He=0;!(q=b.next()).done;)q=q.value,Se=Nt+oe(q,He++),ae+=ze(q,z,Y,Se,$);else if(Se==="object"){if(typeof b.then=="function")return ze($t(b),z,Y,q,$);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ae}function x(b,z,Y){if(b==null)return b;var q=[],$=0;return ze(b,q,"","",function(Se){return z.call(Y,Se,$++)}),q}function V(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(Y){(b._status===0||b._status===-1)&&(b._status=1,b._result=Y)},function(Y){(b._status===0||b._status===-1)&&(b._status=2,b._result=Y)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var te=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function xe(){}return le.Children={map:x,forEach:function(b,z,Y){x(b,function(){z.apply(this,arguments)},Y)},count:function(b){var z=0;return x(b,function(){z++}),z},toArray:function(b){return x(b,function(z){return z})||[]},only:function(b){if(!J(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},le.Component=L,le.Fragment=i,le.Profiler=o,le.PureComponent=G,le.StrictMode=a,le.Suspense=p,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,le.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Q.H.useMemoCache(b)}},le.cache=function(b){return function(){return b.apply(null,arguments)}},le.cloneElement=function(b,z,Y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var q=C({},b.props),$=b.key,Se=void 0;if(z!=null)for(ae in z.ref!==void 0&&(Se=void 0),z.key!==void 0&&($=""+z.key),z)!we.call(z,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&z.ref===void 0||(q[ae]=z[ae]);var ae=arguments.length-2;if(ae===1)q.children=Y;else if(1<ae){for(var Nt=Array(ae),He=0;He<ae;He++)Nt[He]=arguments[He+2];q.children=Nt}return ve(b.type,$,void 0,void 0,Se,q)},le.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:u,_context:b},b},le.createElement=function(b,z,Y){var q,$={},Se=null;if(z!=null)for(q in z.key!==void 0&&(Se=""+z.key),z)we.call(z,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&($[q]=z[q]);var ae=arguments.length-2;if(ae===1)$.children=Y;else if(1<ae){for(var Nt=Array(ae),He=0;He<ae;He++)Nt[He]=arguments[He+2];$.children=Nt}if(b&&b.defaultProps)for(q in ae=b.defaultProps,ae)$[q]===void 0&&($[q]=ae[q]);return ve(b,Se,void 0,void 0,null,$)},le.createRef=function(){return{current:null}},le.forwardRef=function(b){return{$$typeof:d,render:b}},le.isValidElement=J,le.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:V}},le.memo=function(b,z){return{$$typeof:m,type:b,compare:z===void 0?null:z}},le.startTransition=function(b){var z=Q.T,Y={};Q.T=Y;try{var q=b(),$=Q.S;$!==null&&$(Y,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(xe,te)}catch(Se){te(Se)}finally{Q.T=z}},le.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},le.use=function(b){return Q.H.use(b)},le.useActionState=function(b,z,Y){return Q.H.useActionState(b,z,Y)},le.useCallback=function(b,z){return Q.H.useCallback(b,z)},le.useContext=function(b){return Q.H.useContext(b)},le.useDebugValue=function(){},le.useDeferredValue=function(b,z){return Q.H.useDeferredValue(b,z)},le.useEffect=function(b,z,Y){var q=Q.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(b,z)},le.useId=function(){return Q.H.useId()},le.useImperativeHandle=function(b,z,Y){return Q.H.useImperativeHandle(b,z,Y)},le.useInsertionEffect=function(b,z){return Q.H.useInsertionEffect(b,z)},le.useLayoutEffect=function(b,z){return Q.H.useLayoutEffect(b,z)},le.useMemo=function(b,z){return Q.H.useMemo(b,z)},le.useOptimistic=function(b,z){return Q.H.useOptimistic(b,z)},le.useReducer=function(b,z,Y){return Q.H.useReducer(b,z,Y)},le.useRef=function(b){return Q.H.useRef(b)},le.useState=function(b){return Q.H.useState(b)},le.useSyncExternalStore=function(b,z,Y){return Q.H.useSyncExternalStore(b,z,Y)},le.useTransition=function(){return Q.H.useTransition()},le.version="19.1.0",le}var F_;function Wh(){return F_||(F_=1,eh.exports=pT()),eh.exports}var I=Wh();const vy=_y(I);var th={exports:{}},ba={},nh={exports:{}},ih={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function mT(){return K_||(K_=1,function(s){function e(x,V){var te=x.length;x.push(V);e:for(;0<te;){var xe=te-1>>>1,b=x[xe];if(0<o(b,V))x[xe]=V,x[te]=b,te=xe;else break e}}function i(x){return x.length===0?null:x[0]}function a(x){if(x.length===0)return null;var V=x[0],te=x.pop();if(te!==V){x[0]=te;e:for(var xe=0,b=x.length,z=b>>>1;xe<z;){var Y=2*(xe+1)-1,q=x[Y],$=Y+1,Se=x[$];if(0>o(q,te))$<b&&0>o(Se,q)?(x[xe]=Se,x[$]=te,xe=$):(x[xe]=q,x[Y]=te,xe=Y);else if($<b&&0>o(Se,te))x[xe]=Se,x[$]=te,xe=$;else break e}}return V}function o(x,V){var te=x.sortIndex-V.sortIndex;return te!==0?te:x.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();s.unstable_now=function(){return f.now()-d}}var p=[],m=[],v=1,E=null,y=3,R=!1,C=!1,M=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function re(x){for(var V=i(m);V!==null;){if(V.callback===null)a(m);else if(V.startTime<=x)a(m),V.sortIndex=V.expirationTime,e(p,V);else break;V=i(m)}}function Q(x){if(M=!1,re(x),!C)if(i(p)!==null)C=!0,we||(we=!0,oe());else{var V=i(m);V!==null&&ze(Q,V.startTime-x)}}var we=!1,ve=-1,W=5,J=-1;function Ee(){return L?!0:!(s.unstable_now()-J<W)}function ge(){if(L=!1,we){var x=s.unstable_now();J=x;var V=!0;try{e:{C=!1,M&&(M=!1,G(ve),ve=-1),R=!0;var te=y;try{t:{for(re(x),E=i(p);E!==null&&!(E.expirationTime>x&&Ee());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,y=E.priorityLevel;var b=xe(E.expirationTime<=x);if(x=s.unstable_now(),typeof b=="function"){E.callback=b,re(x),V=!0;break t}E===i(p)&&a(p),re(x)}else a(p);E=i(p)}if(E!==null)V=!0;else{var z=i(m);z!==null&&ze(Q,z.startTime-x),V=!1}}break e}finally{E=null,y=te,R=!1}V=void 0}}finally{V?oe():we=!1}}}var oe;if(typeof K=="function")oe=function(){K(ge)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,$t=_e.port2;_e.port1.onmessage=ge,oe=function(){$t.postMessage(null)}}else oe=function(){H(ge,0)};function ze(x,V){ve=H(function(){x(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(x){x.callback=null},s.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<x?Math.floor(1e3/x):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(x){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var te=y;y=V;try{return x()}finally{y=te}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(x,V){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var te=y;y=x;try{return V()}finally{y=te}},s.unstable_scheduleCallback=function(x,V,te){var xe=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?xe+te:xe):te=xe,x){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=te+b,x={id:v++,callback:V,priorityLevel:x,startTime:te,expirationTime:b,sortIndex:-1},te>xe?(x.sortIndex=te,e(m,x),i(p)===null&&x===i(m)&&(M?(G(ve),ve=-1):M=!0,ze(Q,te-xe))):(x.sortIndex=b,e(p,x),C||R||(C=!0,we||(we=!0,oe()))),x},s.unstable_shouldYield=Ee,s.unstable_wrapCallback=function(x){var V=y;return function(){var te=y;y=V;try{return x.apply(this,arguments)}finally{y=te}}}}(ih)),ih}var Q_;function gT(){return Q_||(Q_=1,nh.exports=mT()),nh.exports}var sh={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function _T(){if(W_)return mt;W_=1;var s=Wh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:m,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mt.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,v)},mt.flushSync=function(p){var m=f.T,v=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=m,a.p=v,a.d.f()}},mt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},mt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},mt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,E=d(v,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:y,fetchPriority:R}):v==="script"&&a.d.X(p,{crossOrigin:E,integrity:y,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},mt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=d(v,m.crossOrigin);a.d.L(p,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mt.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},mt.requestFormReset=function(p){a.d.r(p)},mt.unstable_batchedUpdates=function(p,m){return p(m)},mt.useFormState=function(p,m,v){return f.H.useFormState(p,m,v)},mt.useFormStatus=function(){return f.H.useHostTransitionStatus()},mt.version="19.1.0",mt}var X_;function vT(){if(X_)return sh.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sh.exports=_T(),sh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function yT(){if($_)return ba;$_=1;var s=gT(),e=Wh(),i=vT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return d(c),t;if(h===l)return d(c),n;h=h.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=h;else{for(var g=!1,_=c.child;_;){if(_===r){g=!0,r=c,l=h;break}if(_===l){g=!0,l=c,r=h;break}_=_.sibling}if(!g){for(_=h.child;_;){if(_===r){g=!0,r=h,l=c;break}if(_===l){g=!0,l=h,r=c;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),K=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function oe(t){return t===null||typeof t!="object"?null:(t=ge&&t[ge]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case we:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case K:return(t.displayName||"Context")+".Provider";case G:return(t._context.displayName||"Context")+".Consumer";case re:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ve:return n=t.displayName||null,n!==null?n:$t(t.type)||"Memo";case W:n=t._payload,t=t._init;try{return $t(t(n))}catch{}}return null}var ze=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},xe=[],b=-1;function z(t){return{current:t}}function Y(t){0>b||(t.current=xe[b],xe[b]=null,b--)}function q(t,n){b++,xe[b]=t.current,t.current=n}var $=z(null),Se=z(null),ae=z(null),Nt=z(null);function He(t,n){switch(q(ae,n),q(Se,t),q($,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?__(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=__(n),t=v_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y($),q($,t)}function Kn(){Y($),Y(Se),Y(ae)}function Pu(t){t.memoizedState!==null&&q(Nt,t);var n=$.current,r=v_(n,t.type);n!==r&&(q(Se,t),q($,r))}function pl(t){Se.current===t&&(Y($),Y(Se)),Nt.current===t&&(Y(Nt),ga._currentValue=te)}var zu=Object.prototype.hasOwnProperty,Hu=s.unstable_scheduleCallback,Bu=s.unstable_cancelCallback,qS=s.unstable_shouldYield,YS=s.unstable_requestPaint,cn=s.unstable_now,FS=s.unstable_getCurrentPriorityLevel,$d=s.unstable_ImmediatePriority,Zd=s.unstable_UserBlockingPriority,ml=s.unstable_NormalPriority,KS=s.unstable_LowPriority,Jd=s.unstable_IdlePriority,QS=s.log,WS=s.unstable_setDisableYieldValue,Cr=null,Ot=null;function Qn(t){if(typeof QS=="function"&&WS(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Cr,t)}catch{}}var It=Math.clz32?Math.clz32:ZS,XS=Math.log,$S=Math.LN2;function ZS(t){return t>>>=0,t===0?32:31-(XS(t)/$S|0)|0}var gl=256,_l=4194304;function Ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~h,l!==0?c=Ui(l):(g&=_,g!==0?c=Ui(g):r||(r=_&~t,r!==0&&(c=Ui(r))))):(_=l&~h,_!==0?c=Ui(_):g!==0?c=Ui(g):r||(r=l&~t,r!==0&&(c=Ui(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function JS(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ep(){var t=gl;return gl<<=1,(gl&4194048)===0&&(gl=256),t}function tp(){var t=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),t}function ju(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Rr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function e0(t,n,r,l,c,h){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,S=t.expirationTimes,N=t.hiddenUpdates;for(r=g&~r;0<r;){var k=31-It(r),P=1<<k;_[k]=0,S[k]=-1;var O=N[k];if(O!==null)for(N[k]=null,k=0;k<O.length;k++){var D=O[k];D!==null&&(D.lane&=-536870913)}r&=~P}l!==0&&np(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function np(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-It(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ip(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-It(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Gu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sp(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function t0(t,n){var r=V.p;try{return V.p=t,n()}finally{V.p=r}}var Wn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Wn,bt="__reactProps$"+Wn,ps="__reactContainer$"+Wn,qu="__reactEvents$"+Wn,n0="__reactListeners$"+Wn,i0="__reactHandles$"+Wn,rp="__reactResources$"+Wn,Ar="__reactMarker$"+Wn;function Yu(t){delete t[dt],delete t[bt],delete t[qu],delete t[n0],delete t[i0]}function ms(t){var n=t[dt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ps]||r[dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=b_(t);t!==null;){if(r=t[dt])return r;t=b_(t)}return n}t=r,r=t.parentNode}return null}function gs(t){if(t=t[dt]||t[ps]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Nr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function _s(t){var n=t[rp];return n||(n=t[rp]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(t){t[Ar]=!0}var ap=new Set,lp={};function Pi(t,n){vs(t,n),vs(t+"Capture",n)}function vs(t,n){for(lp[t]=n,t=0;t<n.length;t++)ap.add(n[t])}var s0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),op={},up={};function r0(t){return zu.call(up,t)?!0:zu.call(op,t)?!1:s0.test(t)?up[t]=!0:(op[t]=!0,!1)}function yl(t,n,r){if(r0(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function El(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Sn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Fu,cp;function ys(t){if(Fu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fu=n&&n[1]||"",cp=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fu+t+cp}var Ku=!1;function Qu(t,n){if(!t||Ku)return"";Ku=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(D){var O=D}Reflect.construct(t,[],P)}else{try{P.call()}catch(D){O=D}t.call(P.prototype)}}else{try{throw Error()}catch(D){O=D}(P=t())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(D){if(D&&O&&typeof D.stack=="string")return[D.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],_=h[1];if(g&&_){var S=g.split(`
`),N=_.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===N.length)for(l=S.length-1,c=N.length-1;1<=l&&0<=c&&S[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==N[c]){var k=`
`+S[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=c);break}}}finally{Ku=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ys(r):""}function a0(t){switch(t.tag){case 26:case 27:case 5:return ys(t.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 15:return Qu(t.type,!1);case 11:return Qu(t.type.render,!1);case 1:return Qu(t.type,!0);case 31:return ys("Activity");default:return""}}function fp(t){try{var n="";do n+=a0(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hp(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function l0(t){var n=hp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Sl(t){t._valueTracker||(t._valueTracker=l0(t))}function dp(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=hp(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var o0=/[\n"\\]/g;function Ht(t){return t.replace(o0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wu(t,n,r,l,c,h,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Xu(t,g,zt(n)):r!=null?Xu(t,g,zt(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+zt(_):t.removeAttribute("name")}function pp(t,n,r,l,c,h,g,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+zt(r):"",n=n!=null?""+zt(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Xu(t,n,r){n==="number"&&bl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Es(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+zt(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function mp(t,n,r){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+zt(r):""}function gp(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ze(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=zt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Ss(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var u0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _p(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||u0.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function vp(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&_p(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&_p(t,h,n[h])}function $u(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tl(t){return f0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zu=null;function Ju(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bs=null,Ts=null;function yp(t){var n=gs(t);if(n&&(t=n.stateNode)){var r=t[bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Wu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[bt]||null;if(!c)throw Error(a(90));Wu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&dp(l)}break e;case"textarea":mp(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Es(t,!!r.multiple,n,!1)}}}var ec=!1;function Ep(t,n,r){if(ec)return t(n,r);ec=!0;try{var l=t(n);return l}finally{if(ec=!1,(bs!==null||Ts!==null)&&(oo(),bs&&(n=bs,t=Ts,Ts=bs=null,yp(n),t)))for(n=0;n<t.length;n++)yp(t[n])}}function Or(t,n){var r=t.stateNode;if(r===null)return null;var l=r[bt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(bn)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){tc=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{tc=!1}var Xn=null,nc=null,Cl=null;function Sp(){if(Cl)return Cl;var t,n=nc,r=n.length,l,c="value"in Xn?Xn.value:Xn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===c[h-l];l++);return Cl=c.slice(t,1<l?1-l:void 0)}function wl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Rl(){return!0}function bp(){return!1}function Tt(t){function n(r,l,c,h,g){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Rl:bp,this.isPropagationStopped=bp,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Tt(zi),Dr=v({},zi,{view:0,detail:0}),h0=Tt(Dr),ic,sc,Mr,Nl=v({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(ic=t.screenX-Mr.screenX,sc=t.screenY-Mr.screenY):sc=ic=0,Mr=t),ic)},movementY:function(t){return"movementY"in t?t.movementY:sc}}),Tp=Tt(Nl),d0=v({},Nl,{dataTransfer:0}),p0=Tt(d0),m0=v({},Dr,{relatedTarget:0}),rc=Tt(m0),g0=v({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),_0=Tt(g0),v0=v({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y0=Tt(v0),E0=v({},zi,{data:0}),Cp=Tt(E0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=T0[t])?!!n[t]:!1}function ac(){return C0}var w0=v({},Dr,{key:function(t){if(t.key){var n=S0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(t){return t.type==="keypress"?wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R0=Tt(w0),A0=v({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wp=Tt(A0),N0=v({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),O0=Tt(N0),I0=v({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0=Tt(I0),M0=v({},Nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=Tt(M0),k0=v({},zi,{newState:0,oldState:0}),L0=Tt(k0),U0=[9,13,27,32],lc=bn&&"CompositionEvent"in window,xr=null;bn&&"documentMode"in document&&(xr=document.documentMode);var P0=bn&&"TextEvent"in window&&!xr,Rp=bn&&(!lc||xr&&8<xr&&11>=xr),Ap=" ",Np=!1;function Op(t,n){switch(t){case"keyup":return U0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function z0(t,n){switch(t){case"compositionend":return Ip(n);case"keypress":return n.which!==32?null:(Np=!0,Ap);case"textInput":return t=n.data,t===Ap&&Np?null:t;default:return null}}function H0(t,n){if(Cs)return t==="compositionend"||!lc&&Op(t,n)?(t=Sp(),Cl=nc=Xn=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rp&&n.locale!=="ko"?null:n.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!B0[t.type]:n==="textarea"}function Mp(t,n,r,l){bs?Ts?Ts.push(l):Ts=[l]:bs=l,n=mo(n,"onChange"),0<n.length&&(r=new Al("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var kr=null,Lr=null;function j0(t){h_(t,0)}function Ol(t){var n=Nr(t);if(dp(n))return t}function xp(t,n){if(t==="change")return n}var kp=!1;if(bn){var oc;if(bn){var uc="oninput"in document;if(!uc){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),uc=typeof Lp.oninput=="function"}oc=uc}else oc=!1;kp=oc&&(!document.documentMode||9<document.documentMode)}function Up(){kr&&(kr.detachEvent("onpropertychange",Pp),Lr=kr=null)}function Pp(t){if(t.propertyName==="value"&&Ol(Lr)){var n=[];Mp(n,Lr,t,Ju(t)),Ep(j0,n)}}function G0(t,n,r){t==="focusin"?(Up(),kr=n,Lr=r,kr.attachEvent("onpropertychange",Pp)):t==="focusout"&&Up()}function V0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ol(Lr)}function q0(t,n){if(t==="click")return Ol(n)}function Y0(t,n){if(t==="input"||t==="change")return Ol(n)}function F0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dt=typeof Object.is=="function"?Object.is:F0;function Ur(t,n){if(Dt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!zu.call(n,c)||!Dt(t[c],n[c]))return!1}return!0}function zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hp(t,n){var r=zp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zp(r)}}function Bp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bl(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=bl(t.document)}return n}function cc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var K0=bn&&"documentMode"in document&&11>=document.documentMode,ws=null,fc=null,Pr=null,hc=!1;function Gp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hc||ws==null||ws!==bl(l)||(l=ws,"selectionStart"in l&&cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pr&&Ur(Pr,l)||(Pr=l,l=mo(fc,"onSelect"),0<l.length&&(n=new Al("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ws)))}function Hi(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Rs={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},dc={},Vp={};bn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Bi(t){if(dc[t])return dc[t];if(!Rs[t])return t;var n=Rs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vp)return dc[t]=n[r];return t}var qp=Bi("animationend"),Yp=Bi("animationiteration"),Fp=Bi("animationstart"),Q0=Bi("transitionrun"),W0=Bi("transitionstart"),X0=Bi("transitioncancel"),Kp=Bi("transitionend"),Qp=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function Zt(t,n){Qp.set(t,n),Pi(n,[t])}var Wp=new WeakMap;function Bt(t,n){if(typeof t=="object"&&t!==null){var r=Wp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:fp(n)},Wp.set(t,n),n)}return{value:t,source:n,stack:fp(n)}}var jt=[],As=0,mc=0;function Il(){for(var t=As,n=mc=As=0;n<t;){var r=jt[n];jt[n++]=null;var l=jt[n];jt[n++]=null;var c=jt[n];jt[n++]=null;var h=jt[n];if(jt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Xp(r,c,h)}}function Dl(t,n,r,l){jt[As++]=t,jt[As++]=n,jt[As++]=r,jt[As++]=l,mc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gc(t,n,r,l){return Dl(t,n,r,l),Ml(t)}function Ns(t,n){return Dl(t,null,null,n),Ml(t)}function Xp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-It(r),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),h):null}function Ml(t){if(50<oa)throw oa=0,Tf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Os={};function $0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,n,r,l){return new $0(t,n,r,l)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tn(t,n){var r=t.alternate;return r===null?(r=Mt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $p(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xl(t,n,r,l,c,h){var g=0;if(l=t,typeof t=="function")_c(t)&&(g=1);else if(typeof t=="string")g=Jb(t,r,$.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case J:return t=Mt(31,r,n,c),t.elementType=J,t.lanes=h,t;case C:return ji(r.children,c,h,n);case M:g=8,c|=24;break;case L:return t=Mt(12,r,n,c|2),t.elementType=L,t.lanes=h,t;case Q:return t=Mt(13,r,n,c),t.elementType=Q,t.lanes=h,t;case we:return t=Mt(19,r,n,c),t.elementType=we,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case K:g=10;break e;case G:g=9;break e;case re:g=11;break e;case ve:g=14;break e;case W:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Mt(g,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ji(t,n,r,l){return t=Mt(7,t,l,n),t.lanes=r,t}function vc(t,n,r){return t=Mt(6,t,null,n),t.lanes=r,t}function yc(t,n,r){return n=Mt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Is=[],Ds=0,kl=null,Ll=0,Gt=[],Vt=0,Gi=null,Cn=1,wn="";function Vi(t,n){Is[Ds++]=Ll,Is[Ds++]=kl,kl=t,Ll=n}function Zp(t,n,r){Gt[Vt++]=Cn,Gt[Vt++]=wn,Gt[Vt++]=Gi,Gi=t;var l=Cn;t=wn;var c=32-It(l)-1;l&=~(1<<c),r+=1;var h=32-It(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Cn=1<<32-It(n)+c|r<<c|l,wn=h+t}else Cn=1<<h|r<<c|l,wn=t}function Ec(t){t.return!==null&&(Vi(t,1),Zp(t,1,0))}function Sc(t){for(;t===kl;)kl=Is[--Ds],Is[Ds]=null,Ll=Is[--Ds],Is[Ds]=null;for(;t===Gi;)Gi=Gt[--Vt],Gt[Vt]=null,wn=Gt[--Vt],Gt[Vt]=null,Cn=Gt[--Vt],Gt[Vt]=null}var gt=null,Ve=null,Ce=!1,qi=null,fn=!1,bc=Error(a(519));function Yi(t){var n=Error(a(418,""));throw Br(Bt(n,t)),bc}function Jp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[dt]=t,n[bt]=l,r){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(r=0;r<ca.length;r++)pe(ca[r],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),pp(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sl(n);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),gp(n,l.value,l.defaultValue,l.children),Sl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||g_(n.textContent,r)?(l.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),l.onScroll!=null&&pe("scroll",n),l.onScrollEnd!=null&&pe("scrollend",n),l.onClick!=null&&(n.onclick=go),n=!0):n=!1,n||Yi(t)}function em(t){for(gt=t.return;gt;)switch(gt.tag){case 5:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:gt=gt.return}}function zr(t){if(t!==gt)return!1;if(!Ce)return em(t),Ce=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Hf(t.type,t.memoizedProps)),r=!r),r&&Ve&&Yi(t),em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ve=en(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ve=null}}else n===27?(n=Ve,hi(t.type)?(t=Vf,Vf=null,Ve=t):Ve=n):Ve=gt?en(t.stateNode.nextSibling):null;return!0}function Hr(){Ve=gt=null,Ce=!1}function tm(){var t=qi;return t!==null&&(Rt===null?Rt=t:Rt.push.apply(Rt,t),qi=null),t}function Br(t){qi===null?qi=[t]:qi.push(t)}var Tc=z(null),Fi=null,Rn=null;function $n(t,n,r){q(Tc,n._currentValue),n._currentValue=r}function An(t){t._currentValue=Tc.current,Y(Tc)}function Cc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function wc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=c;for(var S=0;S<n.length;S++)if(_.context===n[S]){h.lanes|=r,_=h.alternate,_!==null&&(_.lanes|=r),Cc(h.return,r,t),l||(g=null);break e}h=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,h=g.alternate,h!==null&&(h.lanes|=r),Cc(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function jr(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=c.type;Dt(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===Nt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ga):t=[ga])}c=c.return}t!==null&&wc(n,t,r,l),n.flags|=262144}function Ul(t){for(t=t.firstContext;t!==null;){if(!Dt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ki(t){Fi=t,Rn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pt(t){return nm(Fi,t)}function Pl(t,n){return Fi===null&&Ki(t),nm(t,n)}function nm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Rn===null){if(t===null)throw Error(a(308));Rn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Rn=Rn.next=n;return r}var Z0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},J0=s.unstable_scheduleCallback,eb=s.unstable_NormalPriority,$e={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rc(){return{controller:new Z0,data:new Map,refCount:0}}function Gr(t){t.refCount--,t.refCount===0&&J0(eb,function(){t.controller.abort()})}var Vr=null,Ac=0,Ms=0,xs=null;function tb(t,n){if(Vr===null){var r=Vr=[];Ac=0,Ms=If(),xs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ac++,n.then(im,im),n}function im(){if(--Ac===0&&Vr!==null){xs!==null&&(xs.status="fulfilled");var t=Vr;Vr=null,Ms=0,xs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nb(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var sm=x.S;x.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&tb(t,n),sm!==null&&sm(t,n)};var Qi=z(null);function Nc(){var t=Qi.current;return t!==null?t:Le.pooledCache}function zl(t,n){n===null?q(Qi,Qi.current):q(Qi,n.pool)}function rm(){var t=Nc();return t===null?null:{parent:$e._currentValue,pool:t}}var qr=Error(a(460)),am=Error(a(474)),Hl=Error(a(542)),Oc={then:function(){}};function lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bl(){}function om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Bl,Bl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cm(t),t;default:if(typeof n.status=="string")n.then(Bl,Bl);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cm(t),t}throw Yr=n,qr}}var Yr=null;function um(){if(Yr===null)throw Error(a(459));var t=Yr;return Yr=null,t}function cm(t){if(t===qr||t===Hl)throw Error(a(483))}var Zn=!1;function Ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ei(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ml(t),Xp(t,null,r),n}return Dl(t,l,n,r),Ml(t)}function Fr(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ip(t,r)}}function Mc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var xc=!1;function Kr(){if(xc){var t=xs;if(t!==null)throw t}}function Qr(t,n,r,l){xc=!1;var c=t.updateQueue;Zn=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var S=_,N=S.next;S.next=null,g===null?h=N:g.next=N,g=S;var k=t.alternate;k!==null&&(k=k.updateQueue,_=k.lastBaseUpdate,_!==g&&(_===null?k.firstBaseUpdate=N:_.next=N,k.lastBaseUpdate=S))}if(h!==null){var P=c.baseState;g=0,k=N=S=null,_=h;do{var O=_.lane&-536870913,D=O!==_.lane;if(D?(ye&O)===O:(l&O)===O){O!==0&&O===Ms&&(xc=!0),k!==null&&(k=k.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var se=t,Z=_;O=n;var Ie=r;switch(Z.tag){case 1:if(se=Z.payload,typeof se=="function"){P=se.call(Ie,P,O);break e}P=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=Z.payload,O=typeof se=="function"?se.call(Ie,P,O):se,O==null)break e;P=v({},P,O);break e;case 2:Zn=!0}}O=_.callback,O!==null&&(t.flags|=64,D&&(t.flags|=8192),D=c.callbacks,D===null?c.callbacks=[O]:D.push(O))}else D={lane:O,tag:_.tag,payload:_.payload,callback:_.callback,next:null},k===null?(N=k=D,S=P):k=k.next=D,g|=O;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;D=_,_=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);k===null&&(S=P),c.baseState=S,c.firstBaseUpdate=N,c.lastBaseUpdate=k,h===null&&(c.shared.lanes=0),oi|=g,t.lanes=g,t.memoizedState=P}}function fm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fm(r[t],n)}var ks=z(null),jl=z(0);function dm(t,n){t=kn,q(jl,t),q(ks,n),kn=t|n.baseLanes}function kc(){q(jl,kn),q(ks,ks.current)}function Lc(){kn=jl.current,Y(ks),Y(jl)}var ti=0,ue=null,Ne=null,We=null,Gl=!1,Ls=!1,Wi=!1,Vl=0,Wr=0,Us=null,ib=0;function Ke(){throw Error(a(321))}function Uc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Dt(t[r],n[r]))return!1;return!0}function Pc(t,n,r,l,c,h){return ti=h,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,x.H=t===null||t.memoizedState===null?Xm:$m,Wi=!1,h=r(l,c),Wi=!1,Ls&&(h=mm(n,r,l,c)),pm(t),h}function pm(t){x.H=Wl;var n=Ne!==null&&Ne.next!==null;if(ti=0,We=Ne=ue=null,Gl=!1,Wr=0,Us=null,n)throw Error(a(300));t===null||nt||(t=t.dependencies,t!==null&&Ul(t)&&(nt=!0))}function mm(t,n,r,l){ue=t;var c=0;do{if(Ls&&(Us=null),Wr=0,Ls=!1,25<=c)throw Error(a(301));if(c+=1,We=Ne=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}x.H=cb,h=n(r,l)}while(Ls);return h}function sb(){var t=x.H,n=t.useState()[0];return n=typeof n.then=="function"?Xr(n):n,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(ue.flags|=1024),n}function zc(){var t=Vl!==0;return Vl=0,t}function Hc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Bc(t){if(Gl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gl=!1}ti=0,We=Ne=ue=null,Ls=!1,Wr=Vl=0,Us=null}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?ue.memoizedState=We=t:We=We.next=t,We}function Xe(){if(Ne===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var n=We===null?ue.memoizedState:We.next;if(n!==null)We=n,Ne=t;else{if(t===null)throw ue.alternate===null?Error(a(467)):Error(a(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},We===null?ue.memoizedState=We=t:We=We.next=t}return We}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(t){var n=Wr;return Wr+=1,Us===null&&(Us=[]),t=om(Us,t,n),n=ue,(We===null?n.memoizedState:We.next)===null&&(n=n.alternate,x.H=n===null||n.memoizedState===null?Xm:$m),t}function ql(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xr(t);if(t.$$typeof===K)return pt(t)}throw Error(a(438,String(t)))}function Gc(t){var n=null,r=ue.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=jc(),ue.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Ee;return n.index++,r}function Nn(t,n){return typeof n=="function"?n(t):n}function Yl(t){var n=Xe();return Vc(n,Ne,t)}function Vc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var _=g=null,S=null,N=n,k=!1;do{var P=N.lane&-536870913;if(P!==N.lane?(ye&P)===P:(ti&P)===P){var O=N.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),P===Ms&&(k=!0);else if((ti&O)===O){N=N.next,O===Ms&&(k=!0);continue}else P={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=P,g=h):S=S.next=P,ue.lanes|=O,oi|=O;P=N.action,Wi&&r(h,P),h=N.hasEagerState?N.eagerState:r(h,P)}else O={lane:P,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=O,g=h):S=S.next=O,ue.lanes|=P,oi|=P;N=N.next}while(N!==null&&N!==n);if(S===null?g=h:S.next=_,!Dt(h,t.memoizedState)&&(nt=!0,k&&(r=xs,r!==null)))throw r;t.memoizedState=h,t.baseState=g,t.baseQueue=S,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qc(t){var n=Xe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);Dt(h,n.memoizedState)||(nt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function gm(t,n,r){var l=ue,c=Xe(),h=Ce;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Dt((Ne||c).memoizedState,r);g&&(c.memoizedState=r,nt=!0),c=c.queue;var _=ym.bind(null,l,c,t);if($r(2048,8,_,[t]),c.getSnapshot!==n||g||We!==null&&We.memoizedState.tag&1){if(l.flags|=2048,Ps(9,Fl(),vm.bind(null,l,c,r,n),null),Le===null)throw Error(a(349));h||(ti&124)!==0||_m(l,n,r)}return r}function _m(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ue.updateQueue,n===null?(n=jc(),ue.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vm(t,n,r,l){n.value=r,n.getSnapshot=l,Em(n)&&Sm(t)}function ym(t,n,r){return r(function(){Em(n)&&Sm(t)})}function Em(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Dt(t,r)}catch{return!0}}function Sm(t){var n=Ns(t,2);n!==null&&Pt(n,t,2)}function Yc(t){var n=Ct();if(typeof t=="function"){var r=t;if(t=r(),Wi){Qn(!0);try{r()}finally{Qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:t},n}function bm(t,n,r,l){return t.baseState=r,Vc(t,Ne,typeof l=="function"?l:Nn)}function rb(t,n,r,l,c){if(Ql(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};x.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,Tm(n,h)):(h.next=r.next,n.pending=r.next=h)}}function Tm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=x.T,g={};x.T=g;try{var _=r(c,l),S=x.S;S!==null&&S(g,_),Cm(t,n,_)}catch(N){Fc(t,n,N)}finally{x.T=h}}else try{h=r(c,l),Cm(t,n,h)}catch(N){Fc(t,n,N)}}function Cm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wm(t,n,l)},function(l){return Fc(t,n,l)}):wm(t,n,r)}function wm(t,n,r){n.status="fulfilled",n.value=r,Rm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Tm(t,r)))}function Fc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Rm(n),n=n.next;while(n!==l)}t.action=null}function Rm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Am(t,n){return n}function Nm(t,n){if(Ce){var r=Le.formState;if(r!==null){e:{var l=ue;if(Ce){if(Ve){t:{for(var c=Ve,h=fn;c.nodeType!==8;){if(!h){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ve=en(c.nextSibling),l=c.data==="F!";break e}}Yi(l)}l=!1}l&&(n=r[0])}}return r=Ct(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:n},r.queue=l,r=Km.bind(null,ue,l),l.dispatch=r,l=Yc(!1),h=$c.bind(null,ue,!1,l.queue),l=Ct(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=rb.bind(null,ue,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Om(t){var n=Xe();return Im(n,Ne,t)}function Im(t,n,r){if(n=Vc(t,n,Am)[0],t=Yl(Nn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xr(n)}catch(g){throw g===qr?Hl:g}else l=n;n=Xe();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(ue.flags|=2048,Ps(9,Fl(),ab.bind(null,c,r),null)),[l,h,t]}function ab(t,n){t.action=n}function Dm(t){var n=Xe(),r=Ne;if(r!==null)return Im(n,r,t);Xe(),n=n.memoizedState,r=Xe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ps(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=ue.updateQueue,n===null&&(n=jc(),ue.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Fl(){return{destroy:void 0,resource:void 0}}function Mm(){return Xe().memoizedState}function Kl(t,n,r,l){var c=Ct();l=l===void 0?null:l,ue.flags|=t,c.memoizedState=Ps(1|n,Fl(),r,l)}function $r(t,n,r,l){var c=Xe();l=l===void 0?null:l;var h=c.memoizedState.inst;Ne!==null&&l!==null&&Uc(l,Ne.memoizedState.deps)?c.memoizedState=Ps(n,h,r,l):(ue.flags|=t,c.memoizedState=Ps(1|n,h,r,l))}function xm(t,n){Kl(8390656,8,t,n)}function km(t,n){$r(2048,8,t,n)}function Lm(t,n){return $r(4,2,t,n)}function Um(t,n){return $r(4,4,t,n)}function Pm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zm(t,n,r){r=r!=null?r.concat([t]):null,$r(4,4,Pm.bind(null,n,t),r)}function Kc(){}function Hm(t,n){var r=Xe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Uc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bm(t,n){var r=Xe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Uc(n,l[1]))return l[0];if(l=t(),Wi){Qn(!0);try{t()}finally{Qn(!1)}}return r.memoizedState=[l,n],l}function Qc(t,n,r){return r===void 0||(ti&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Vg(),ue.lanes|=t,oi|=t,r)}function jm(t,n,r,l){return Dt(r,n)?r:ks.current!==null?(t=Qc(t,r,l),Dt(t,n)||(nt=!0),t):(ti&42)===0?(nt=!0,t.memoizedState=r):(t=Vg(),ue.lanes|=t,oi|=t,n)}function Gm(t,n,r,l,c){var h=V.p;V.p=h!==0&&8>h?h:8;var g=x.T,_={};x.T=_,$c(t,!1,n,r);try{var S=c(),N=x.S;if(N!==null&&N(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var k=nb(S,l);Zr(t,n,k,Ut(t))}else Zr(t,n,l,Ut(t))}catch(P){Zr(t,n,{then:function(){},status:"rejected",reason:P},Ut())}finally{V.p=h,x.T=g}}function lb(){}function Wc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Vm(t).queue;Gm(t,c,n,te,r===null?lb:function(){return qm(t),r(l)})}function Vm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:te},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qm(t){var n=Vm(t).next.queue;Zr(t,n,{},Ut())}function Xc(){return pt(ga)}function Ym(){return Xe().memoizedState}function Fm(){return Xe().memoizedState}function ob(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ut();t=Jn(r);var l=ei(n,t,r);l!==null&&(Pt(l,n,r),Fr(l,n,r)),n={cache:Rc()},t.payload=n;return}n=n.return}}function ub(t,n,r){var l=Ut();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ql(t)?Qm(n,r):(r=gc(t,n,r,l),r!==null&&(Pt(r,t,l),Wm(r,n,l)))}function Km(t,n,r){var l=Ut();Zr(t,n,r,l)}function Zr(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ql(t))Qm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,_=h(g,r);if(c.hasEagerState=!0,c.eagerState=_,Dt(_,g))return Dl(t,n,c,0),Le===null&&Il(),!1}catch{}finally{}if(r=gc(t,n,c,l),r!==null)return Pt(r,t,l),Wm(r,n,l),!0}return!1}function $c(t,n,r,l){if(l={lane:2,revertLane:If(),action:l,hasEagerState:!1,eagerState:null,next:null},Ql(t)){if(n)throw Error(a(479))}else n=gc(t,r,l,2),n!==null&&Pt(n,t,2)}function Ql(t){var n=t.alternate;return t===ue||n!==null&&n===ue}function Qm(t,n){Ls=Gl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Wm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ip(t,r)}}var Wl={readContext:pt,use:ql,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},Xm={readContext:pt,use:ql,useCallback:function(t,n){return Ct().memoizedState=[t,n===void 0?null:n],t},useContext:pt,useEffect:xm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Kl(4194308,4,Pm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Kl(4194308,4,t,n)},useInsertionEffect:function(t,n){Kl(4,2,t,n)},useMemo:function(t,n){var r=Ct();n=n===void 0?null:n;var l=t();if(Wi){Qn(!0);try{t()}finally{Qn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ct();if(r!==void 0){var c=r(n);if(Wi){Qn(!0);try{r(n)}finally{Qn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ub.bind(null,ue,t),[l.memoizedState,t]},useRef:function(t){var n=Ct();return t={current:t},n.memoizedState=t},useState:function(t){t=Yc(t);var n=t.queue,r=Km.bind(null,ue,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Kc,useDeferredValue:function(t,n){var r=Ct();return Qc(r,t,n)},useTransition:function(){var t=Yc(!1);return t=Gm.bind(null,ue,t.queue,!0,!1),Ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=ue,c=Ct();if(Ce){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Le===null)throw Error(a(349));(ye&124)!==0||_m(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,xm(ym.bind(null,l,h,t),[t]),l.flags|=2048,Ps(9,Fl(),vm.bind(null,l,h,r,n),null),r},useId:function(){var t=Ct(),n=Le.identifierPrefix;if(Ce){var r=wn,l=Cn;r=(l&~(1<<32-It(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Vl++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=ib++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Xc,useFormState:Nm,useActionState:Nm,useOptimistic:function(t){var n=Ct();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=$c.bind(null,ue,!0,r),r.dispatch=n,[t,n]},useMemoCache:Gc,useCacheRefresh:function(){return Ct().memoizedState=ob.bind(null,ue)}},$m={readContext:pt,use:ql,useCallback:Hm,useContext:pt,useEffect:km,useImperativeHandle:zm,useInsertionEffect:Lm,useLayoutEffect:Um,useMemo:Bm,useReducer:Yl,useRef:Mm,useState:function(){return Yl(Nn)},useDebugValue:Kc,useDeferredValue:function(t,n){var r=Xe();return jm(r,Ne.memoizedState,t,n)},useTransition:function(){var t=Yl(Nn)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:Xr(t),n]},useSyncExternalStore:gm,useId:Ym,useHostTransitionStatus:Xc,useFormState:Om,useActionState:Om,useOptimistic:function(t,n){var r=Xe();return bm(r,Ne,t,n)},useMemoCache:Gc,useCacheRefresh:Fm},cb={readContext:pt,use:ql,useCallback:Hm,useContext:pt,useEffect:km,useImperativeHandle:zm,useInsertionEffect:Lm,useLayoutEffect:Um,useMemo:Bm,useReducer:qc,useRef:Mm,useState:function(){return qc(Nn)},useDebugValue:Kc,useDeferredValue:function(t,n){var r=Xe();return Ne===null?Qc(r,t,n):jm(r,Ne.memoizedState,t,n)},useTransition:function(){var t=qc(Nn)[0],n=Xe().memoizedState;return[typeof t=="boolean"?t:Xr(t),n]},useSyncExternalStore:gm,useId:Ym,useHostTransitionStatus:Xc,useFormState:Dm,useActionState:Dm,useOptimistic:function(t,n){var r=Xe();return Ne!==null?bm(r,Ne,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Fm},zs=null,Jr=0;function Xl(t){var n=Jr;return Jr+=1,zs===null&&(zs=[]),om(zs,t,n)}function ea(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $l(t,n){throw n.$$typeof===E?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zm(t){var n=t._init;return n(t._payload)}function Jm(t){function n(w,T){if(t){var A=w.deletions;A===null?(w.deletions=[T],w.flags|=16):A.push(T)}}function r(w,T){if(!t)return null;for(;T!==null;)n(w,T),T=T.sibling;return null}function l(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(w,T){return w=Tn(w,T),w.index=0,w.sibling=null,w}function h(w,T,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<T?(w.flags|=67108866,T):A):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function g(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function _(w,T,A,U){return T===null||T.tag!==6?(T=vc(A,w.mode,U),T.return=w,T):(T=c(T,A),T.return=w,T)}function S(w,T,A,U){var F=A.type;return F===C?k(w,T,A.props.children,U,A.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===W&&Zm(F)===T.type)?(T=c(T,A.props),ea(T,A),T.return=w,T):(T=xl(A.type,A.key,A.props,null,w.mode,U),ea(T,A),T.return=w,T)}function N(w,T,A,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=yc(A,w.mode,U),T.return=w,T):(T=c(T,A.children||[]),T.return=w,T)}function k(w,T,A,U,F){return T===null||T.tag!==7?(T=ji(A,w.mode,U,F),T.return=w,T):(T=c(T,A),T.return=w,T)}function P(w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=vc(""+T,w.mode,A),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case y:return A=xl(T.type,T.key,T.props,null,w.mode,A),ea(A,T),A.return=w,A;case R:return T=yc(T,w.mode,A),T.return=w,T;case W:var U=T._init;return T=U(T._payload),P(w,T,A)}if(ze(T)||oe(T))return T=ji(T,w.mode,A,null),T.return=w,T;if(typeof T.then=="function")return P(w,Xl(T),A);if(T.$$typeof===K)return P(w,Pl(w,T),A);$l(w,T)}return null}function O(w,T,A,U){var F=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return F!==null?null:_(w,T,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case y:return A.key===F?S(w,T,A,U):null;case R:return A.key===F?N(w,T,A,U):null;case W:return F=A._init,A=F(A._payload),O(w,T,A,U)}if(ze(A)||oe(A))return F!==null?null:k(w,T,A,U,null);if(typeof A.then=="function")return O(w,T,Xl(A),U);if(A.$$typeof===K)return O(w,T,Pl(w,A),U);$l(w,A)}return null}function D(w,T,A,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return w=w.get(A)||null,_(T,w,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return w=w.get(U.key===null?A:U.key)||null,S(T,w,U,F);case R:return w=w.get(U.key===null?A:U.key)||null,N(T,w,U,F);case W:var ce=U._init;return U=ce(U._payload),D(w,T,A,U,F)}if(ze(U)||oe(U))return w=w.get(A)||null,k(T,w,U,F,null);if(typeof U.then=="function")return D(w,T,A,Xl(U),F);if(U.$$typeof===K)return D(w,T,A,Pl(T,U),F);$l(T,U)}return null}function se(w,T,A,U){for(var F=null,ce=null,X=T,ee=T=0,st=null;X!==null&&ee<A.length;ee++){X.index>ee?(st=X,X=null):st=X.sibling;var be=O(w,X,A[ee],U);if(be===null){X===null&&(X=st);break}t&&X&&be.alternate===null&&n(w,X),T=h(be,T,ee),ce===null?F=be:ce.sibling=be,ce=be,X=st}if(ee===A.length)return r(w,X),Ce&&Vi(w,ee),F;if(X===null){for(;ee<A.length;ee++)X=P(w,A[ee],U),X!==null&&(T=h(X,T,ee),ce===null?F=X:ce.sibling=X,ce=X);return Ce&&Vi(w,ee),F}for(X=l(X);ee<A.length;ee++)st=D(X,w,ee,A[ee],U),st!==null&&(t&&st.alternate!==null&&X.delete(st.key===null?ee:st.key),T=h(st,T,ee),ce===null?F=st:ce.sibling=st,ce=st);return t&&X.forEach(function(_i){return n(w,_i)}),Ce&&Vi(w,ee),F}function Z(w,T,A,U){if(A==null)throw Error(a(151));for(var F=null,ce=null,X=T,ee=T=0,st=null,be=A.next();X!==null&&!be.done;ee++,be=A.next()){X.index>ee?(st=X,X=null):st=X.sibling;var _i=O(w,X,be.value,U);if(_i===null){X===null&&(X=st);break}t&&X&&_i.alternate===null&&n(w,X),T=h(_i,T,ee),ce===null?F=_i:ce.sibling=_i,ce=_i,X=st}if(be.done)return r(w,X),Ce&&Vi(w,ee),F;if(X===null){for(;!be.done;ee++,be=A.next())be=P(w,be.value,U),be!==null&&(T=h(be,T,ee),ce===null?F=be:ce.sibling=be,ce=be);return Ce&&Vi(w,ee),F}for(X=l(X);!be.done;ee++,be=A.next())be=D(X,w,ee,be.value,U),be!==null&&(t&&be.alternate!==null&&X.delete(be.key===null?ee:be.key),T=h(be,T,ee),ce===null?F=be:ce.sibling=be,ce=be);return t&&X.forEach(function(fT){return n(w,fT)}),Ce&&Vi(w,ee),F}function Ie(w,T,A,U){if(typeof A=="object"&&A!==null&&A.type===C&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case y:e:{for(var F=A.key;T!==null;){if(T.key===F){if(F=A.type,F===C){if(T.tag===7){r(w,T.sibling),U=c(T,A.props.children),U.return=w,w=U;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===W&&Zm(F)===T.type){r(w,T.sibling),U=c(T,A.props),ea(U,A),U.return=w,w=U;break e}r(w,T);break}else n(w,T);T=T.sibling}A.type===C?(U=ji(A.props.children,w.mode,U,A.key),U.return=w,w=U):(U=xl(A.type,A.key,A.props,null,w.mode,U),ea(U,A),U.return=w,w=U)}return g(w);case R:e:{for(F=A.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){r(w,T.sibling),U=c(T,A.children||[]),U.return=w,w=U;break e}else{r(w,T);break}else n(w,T);T=T.sibling}U=yc(A,w.mode,U),U.return=w,w=U}return g(w);case W:return F=A._init,A=F(A._payload),Ie(w,T,A,U)}if(ze(A))return se(w,T,A,U);if(oe(A)){if(F=oe(A),typeof F!="function")throw Error(a(150));return A=F.call(A),Z(w,T,A,U)}if(typeof A.then=="function")return Ie(w,T,Xl(A),U);if(A.$$typeof===K)return Ie(w,T,Pl(w,A),U);$l(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(r(w,T.sibling),U=c(T,A),U.return=w,w=U):(r(w,T),U=vc(A,w.mode,U),U.return=w,w=U),g(w)):r(w,T)}return function(w,T,A,U){try{Jr=0;var F=Ie(w,T,A,U);return zs=null,F}catch(X){if(X===qr||X===Hl)throw X;var ce=Mt(29,X,null,w.mode);return ce.lanes=U,ce.return=w,ce}finally{}}}var Hs=Jm(!0),eg=Jm(!1),qt=z(null),hn=null;function ni(t){var n=t.alternate;q(Ze,Ze.current&1),q(qt,t),hn===null&&(n===null||ks.current!==null||n.memoizedState!==null)&&(hn=t)}function tg(t){if(t.tag===22){if(q(Ze,Ze.current),q(qt,t),hn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(hn=t)}}else ii()}function ii(){q(Ze,Ze.current),q(qt,qt.current)}function On(t){Y(qt),hn===t&&(hn=null),Y(Ze)}var Ze=z(0);function Zl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Gf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Zc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:v({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Ut(),c=Jn(l);c.payload=n,r!=null&&(c.callback=r),n=ei(t,c,l),n!==null&&(Pt(n,t,l),Fr(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Ut(),c=Jn(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ei(t,c,l),n!==null&&(Pt(n,t,l),Fr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Ut(),l=Jn(r);l.tag=2,n!=null&&(l.callback=n),n=ei(t,l,r),n!==null&&(Pt(n,t,r),Fr(n,t,r))}};function ng(t,n,r,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!Ur(r,l)||!Ur(c,h):!0}function ig(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Jc.enqueueReplaceState(n,n.state,null)}function Xi(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=v({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Jl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sg(t){Jl(t)}function rg(t){console.error(t)}function ag(t){Jl(t)}function eo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function lg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ef(t,n,r){return r=Jn(r),r.tag=3,r.payload={element:null},r.callback=function(){eo(t,n)},r}function og(t){return t=Jn(t),t.tag=3,t}function ug(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){lg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){lg(n,r,l),typeof c!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function fb(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&jr(n,r,c,!0),r=qt.current,r!==null){switch(r.tag){case 13:return hn===null?wf():r.alternate===null&&qe===0&&(qe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Oc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Af(t,l,c)),!1;case 22:return r.flags|=65536,l===Oc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Af(t,l,c)),!1}throw Error(a(435,r.tag))}return Af(t,l,c),wf(),!1}if(Ce)return n=qt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==bc&&(t=Error(a(422),{cause:l}),Br(Bt(t,r)))):(l!==bc&&(n=Error(a(423),{cause:l}),Br(Bt(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Bt(l,r),c=ef(t.stateNode,l,c),Mc(t,c),qe!==4&&(qe=2)),!1;var h=Error(a(520),{cause:l});if(h=Bt(h,r),la===null?la=[h]:la.push(h),qe!==4&&(qe=2),n===null)return!0;l=Bt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=ef(r.stateNode,l,t),Mc(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ui===null||!ui.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=og(c),ug(c,t,r,l),Mc(r,c),!1}r=r.return}while(r!==null);return!1}var cg=Error(a(461)),nt=!1;function ot(t,n,r,l){n.child=t===null?eg(n,null,r,l):Hs(n,t.child,r,l)}function fg(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Ki(n),l=Pc(t,n,r,g,h,c),_=zc(),t!==null&&!nt?(Hc(t,n,c),In(t,n,c)):(Ce&&_&&Ec(n),n.flags|=1,ot(t,n,l,c),n.child)}function hg(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!_c(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,dg(t,n,h,l,c)):(t=xl(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!uf(t,c)){var g=h.memoizedProps;if(r=r.compare,r=r!==null?r:Ur,r(g,l)&&t.ref===n.ref)return In(t,n,c)}return n.flags|=1,t=Tn(h,l),t.ref=n.ref,t.return=n,n.child=t}function dg(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(Ur(h,l)&&t.ref===n.ref)if(nt=!1,n.pendingProps=l=h,uf(t,c))(t.flags&131072)!==0&&(nt=!0);else return n.lanes=t.lanes,In(t,n,c)}return tf(t,n,r,l,c)}function pg(t,n,r){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return mg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zl(n,h!==null?h.cachePool:null),h!==null?dm(n,h):kc(),tg(n);else return n.lanes=n.childLanes=536870912,mg(t,n,h!==null?h.baseLanes|r:r,r)}else h!==null?(zl(n,h.cachePool),dm(n,h),ii(),n.memoizedState=null):(t!==null&&zl(n,null),kc(),ii());return ot(t,n,c,r),n.child}function mg(t,n,r,l){var c=Nc();return c=c===null?null:{parent:$e._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zl(n,null),kc(),tg(n),t!==null&&jr(t,n,l,!0),null}function to(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function tf(t,n,r,l,c){return Ki(n),r=Pc(t,n,r,l,void 0,c),l=zc(),t!==null&&!nt?(Hc(t,n,c),In(t,n,c)):(Ce&&l&&Ec(n),n.flags|=1,ot(t,n,r,c),n.child)}function gg(t,n,r,l,c,h){return Ki(n),n.updateQueue=null,r=mm(n,l,r,c),pm(t),l=zc(),t!==null&&!nt?(Hc(t,n,h),In(t,n,h)):(Ce&&l&&Ec(n),n.flags|=1,ot(t,n,r,h),n.child)}function _g(t,n,r,l,c){if(Ki(n),n.stateNode===null){var h=Os,g=r.contextType;typeof g=="object"&&g!==null&&(h=pt(g)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Jc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Ic(n),g=r.contextType,h.context=typeof g=="object"&&g!==null?pt(g):Os,h.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Zc(n,r,g,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Jc.enqueueReplaceState(h,h.state,null),Qr(n,l,h,c),Kr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var _=n.memoizedProps,S=Xi(r,_);h.props=S;var N=h.context,k=r.contextType;g=Os,typeof k=="object"&&k!==null&&(g=pt(k));var P=r.getDerivedStateFromProps;k=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,k||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||N!==g)&&ig(n,h,l,g),Zn=!1;var O=n.memoizedState;h.state=O,Qr(n,l,h,c),Kr(),N=n.memoizedState,_||O!==N||Zn?(typeof P=="function"&&(Zc(n,r,P,l),N=n.memoizedState),(S=Zn||ng(n,r,S,l,O,N,g))?(k||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),h.props=l,h.state=N,h.context=g,l=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Dc(t,n),g=n.memoizedProps,k=Xi(r,g),h.props=k,P=n.pendingProps,O=h.context,N=r.contextType,S=Os,typeof N=="object"&&N!==null&&(S=pt(N)),_=r.getDerivedStateFromProps,(N=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||O!==S)&&ig(n,h,l,S),Zn=!1,O=n.memoizedState,h.state=O,Qr(n,l,h,c),Kr();var D=n.memoizedState;g!==P||O!==D||Zn||t!==null&&t.dependencies!==null&&Ul(t.dependencies)?(typeof _=="function"&&(Zc(n,r,_,l),D=n.memoizedState),(k=Zn||ng(n,r,k,l,O,D,S)||t!==null&&t.dependencies!==null&&Ul(t.dependencies))?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,D,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,D,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),h.props=l,h.state=D,h.context=S,l=k):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,to(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Hs(n,t.child,null,c),n.child=Hs(n,null,r,c)):ot(t,n,r,c),n.memoizedState=h.state,t=n.child):t=In(t,n,c),t}function vg(t,n,r,l){return Hr(),n.flags|=256,ot(t,n,r,l),n.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(t){return{baseLanes:t,cachePool:rm()}}function rf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Yt),t}function yg(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Ze.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ce){if(c?ni(n):ii(),Ce){var _=Ve,S;if(S=_){e:{for(S=_,_=fn;S.nodeType!==8;){if(!_){_=null;break e}if(S=en(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(n.memoizedState={dehydrated:_,treeContext:Gi!==null?{id:Cn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},S=Mt(18,null,null,0),S.stateNode=_,S.return=n,n.child=S,gt=n,Ve=null,S=!0):S=!1}S||Yi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Gf(_)?n.lanes=32:n.lanes=536870912,null;On(n)}return _=l.children,l=l.fallback,c?(ii(),c=n.mode,_=no({mode:"hidden",children:_},c),l=ji(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=sf(r),c.childLanes=rf(t,g,r),n.memoizedState=nf,l):(ni(n),af(n,_))}if(S=t.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(h)n.flags&256?(ni(n),n.flags&=-257,n=lf(t,n,r)):n.memoizedState!==null?(ii(),n.child=t.child,n.flags|=128,n=null):(ii(),c=l.fallback,_=n.mode,l=no({mode:"visible",children:l.children},_),c=ji(c,_,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Hs(n,t.child,null,r),l=n.child,l.memoizedState=sf(r),l.childLanes=rf(t,g,r),n.memoizedState=nf,n=c);else if(ni(n),Gf(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var N=g.dgst;g=N,l=Error(a(419)),l.stack="",l.digest=g,Br({value:l,source:null,stack:null}),n=lf(t,n,r)}else if(nt||jr(t,n,r,!1),g=(r&t.childLanes)!==0,nt||g){if(g=Le,g!==null&&(l=r&-r,l=(l&42)!==0?1:Gu(l),l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,Ns(t,l),Pt(g,t,l),cg;_.data==="$?"||wf(),n=lf(t,n,r)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,Ve=en(_.nextSibling),gt=n,Ce=!0,qi=null,fn=!1,t!==null&&(Gt[Vt++]=Cn,Gt[Vt++]=wn,Gt[Vt++]=Gi,Cn=t.id,wn=t.overflow,Gi=n),n=af(n,l.children),n.flags|=4096);return n}return c?(ii(),c=l.fallback,_=n.mode,S=t.child,N=S.sibling,l=Tn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,N!==null?c=Tn(N,c):(c=ji(c,_,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=sf(r):(S=_.cachePool,S!==null?(N=$e._currentValue,S=S.parent!==N?{parent:N,pool:N}:S):S=rm(),_={baseLanes:_.baseLanes|r,cachePool:S}),c.memoizedState=_,c.childLanes=rf(t,g,r),n.memoizedState=nf,l):(ni(n),r=t.child,t=r.sibling,r=Tn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function af(t,n){return n=no({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function no(t,n){return t=Mt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function lf(t,n,r){return Hs(n,t.child,null,r),t=af(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Eg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Cc(t.return,n,r)}function of(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function Sg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(ot(t,n,l.children,r),l=Ze.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eg(t,r,n);else if(t.tag===19)Eg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(q(Ze,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Zl(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),of(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zl(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}of(n,!0,r,null,h);break;case"together":of(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function In(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),oi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(jr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Tn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Tn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function uf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ul(t)))}function hb(t,n,r){switch(n.tag){case 3:He(n,n.stateNode.containerInfo),$n(n,$e,t.memoizedState.cache),Hr();break;case 27:case 5:Pu(n);break;case 4:He(n,n.stateNode.containerInfo);break;case 10:$n(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ni(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yg(t,n,r):(ni(n),t=In(t,n,r),t!==null?t.sibling:null);ni(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(jr(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Sg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),q(Ze,Ze.current),l)break;return null;case 22:case 23:return n.lanes=0,pg(t,n,r);case 24:$n(n,$e,t.memoizedState.cache)}return In(t,n,r)}function bg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)nt=!0;else{if(!uf(t,r)&&(n.flags&128)===0)return nt=!1,hb(t,n,r);nt=(t.flags&131072)!==0}else nt=!1,Ce&&(n.flags&1048576)!==0&&Zp(n,Ll,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")_c(l)?(t=Xi(l,t),n.tag=1,n=_g(null,n,l,t,r)):(n.tag=0,n=tf(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===re){n.tag=11,n=fg(null,n,l,t,r);break e}else if(c===ve){n.tag=14,n=hg(null,n,l,t,r);break e}}throw n=$t(l)||l,Error(a(306,n,""))}}return n;case 0:return tf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Xi(l,n.pendingProps),_g(t,n,l,c,r);case 3:e:{if(He(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Dc(t,n),Qr(n,l,null,r);var g=n.memoizedState;if(l=g.cache,$n(n,$e,l),l!==h.cache&&wc(n,[$e],r,!0),Kr(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=vg(t,n,l,r);break e}else if(l!==c){c=Bt(Error(a(424)),n),Br(c),n=vg(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=en(t.firstChild),gt=n,Ce=!0,qi=null,fn=!0,r=eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Hr(),l===c){n=In(t,n,r);break e}ot(t,n,l,r)}n=n.child}return n;case 26:return to(t,n),t===null?(r=R_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ce||(r=n.type,t=n.pendingProps,l=_o(ae.current).createElement(r),l[dt]=n,l[bt]=t,ct(l,r,t),tt(l),n.stateNode=l):n.memoizedState=R_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pu(n),t===null&&Ce&&(l=n.stateNode=T_(n.type,n.pendingProps,ae.current),gt=n,fn=!0,c=Ve,hi(n.type)?(Vf=c,Ve=en(l.firstChild)):Ve=c),ot(t,n,n.pendingProps.children,r),to(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ce&&((c=l=Ve)&&(l=Bb(l,n.type,n.pendingProps,fn),l!==null?(n.stateNode=l,gt=n,Ve=en(l.firstChild),fn=!1,c=!0):c=!1),c||Yi(n)),Pu(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,Hf(c,h)?l=null:g!==null&&Hf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Pc(t,n,sb,null,null,r),ga._currentValue=c),to(t,n),ot(t,n,l,r),n.child;case 6:return t===null&&Ce&&((t=r=Ve)&&(r=jb(r,n.pendingProps,fn),r!==null?(n.stateNode=r,gt=n,Ve=null,t=!0):t=!1),t||Yi(n)),null;case 13:return yg(t,n,r);case 4:return He(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Hs(n,null,l,r):ot(t,n,l,r),n.child;case 11:return fg(t,n,n.type,n.pendingProps,r);case 7:return ot(t,n,n.pendingProps,r),n.child;case 8:return ot(t,n,n.pendingProps.children,r),n.child;case 12:return ot(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,$n(n,n.type,l.value),ot(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ki(n),c=pt(c),l=l(c),n.flags|=1,ot(t,n,l,r),n.child;case 14:return hg(t,n,n.type,n.pendingProps,r);case 15:return dg(t,n,n.type,n.pendingProps,r);case 19:return Sg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=no(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Tn(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return pg(t,n,r);case 24:return Ki(n),l=pt($e),t===null?(c=Nc(),c===null&&(c=Le,h=Rc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},Ic(n),$n(n,$e,c)):((t.lanes&r)!==0&&(Dc(t,n),Qr(n,null,null,r),Kr()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),$n(n,$e,l)):(l=h.cache,$n(n,$e,l),l!==c.cache&&wc(n,[$e],r,!0))),ot(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Dn(t){t.flags|=4}function Tg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D_(n)){if(n=qt.current,n!==null&&((ye&4194048)===ye?hn!==null:(ye&62914560)!==ye&&(ye&536870912)===0||n!==hn))throw Yr=Oc,am;t.flags|=8192}}function io(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?tp():536870912,t.lanes|=n,Vs|=n)}function ta(t,n){if(!Ce)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ge(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function db(t,n,r){var l=n.pendingProps;switch(Sc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),An($e),Kn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zr(n)?Dn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tm())),Ge(n),null;case 26:return r=n.memoizedState,t===null?(Dn(n),r!==null?(Ge(n),Tg(n,r)):(Ge(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Dn(n),Ge(n),Tg(n,r)):(Ge(n),n.flags&=-16777217):(t.memoizedProps!==l&&Dn(n),Ge(n),n.flags&=-16777217),null;case 27:pl(n),r=ae.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Dn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}t=$.current,zr(n)?Jp(n):(t=T_(c,l,r),n.stateNode=t,Dn(n))}return Ge(n),null;case 5:if(pl(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Dn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(t=$.current,zr(n))Jp(n);else{switch(c=_o(ae.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[dt]=n,t[bt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(ct(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Dn(n)}}return Ge(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Dn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ae.current,zr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=gt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[dt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||g_(t.nodeValue,r)),t||Yi(n)}else t=_o(t).createTextNode(l),t[dt]=n,n.stateNode=t}return Ge(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=zr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[dt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),c=!1}else c=tm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(On(n),n):(On(n),null)}if(On(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),io(n,n.updateQueue),Ge(n),null;case 4:return Kn(),t===null&&kf(n.stateNode.containerInfo),Ge(n),null;case 10:return An(n.type),Ge(n),null;case 19:if(Y(Ze),c=n.memoizedState,c===null)return Ge(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)ta(c,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Zl(t),h!==null){for(n.flags|=128,ta(c,!1),t=h.updateQueue,n.updateQueue=t,io(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)$p(r,t),r=r.sibling;return q(Ze,Ze.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>ao&&(n.flags|=128,l=!0,ta(c,!1),n.lanes=4194304)}else{if(!l)if(t=Zl(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,io(n,t),ta(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ce)return Ge(n),null}else 2*cn()-c.renderingStartTime>ao&&r!==536870912&&(n.flags|=128,l=!0,ta(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=Ze.current,q(Ze,l?t&1|2:t&1),n):(Ge(n),null);case 22:case 23:return On(n),Lc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),r=n.updateQueue,r!==null&&io(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Qi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),An($e),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function pb(t,n){switch(Sc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return An($e),Kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pl(n),null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Ze),null;case 4:return Kn(),null;case 10:return An(n.type),null;case 22:case 23:return On(n),Lc(),t!==null&&Y(Qi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return An($e),null;case 25:return null;default:return null}}function Cg(t,n){switch(Sc(n),n.tag){case 3:An($e),Kn();break;case 26:case 27:case 5:pl(n);break;case 4:Kn();break;case 13:On(n);break;case 19:Y(Ze);break;case 10:An(n.type);break;case 22:case 23:On(n),Lc(),t!==null&&Y(Qi);break;case 24:An($e)}}function na(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,g=r.inst;l=h(),g.destroy=l}r=r.next}while(r!==c)}}catch(_){ke(n,n.return,_)}}function si(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var S=r,N=_;try{N()}catch(k){ke(c,S,k)}}}l=l.next}while(l!==h)}}catch(k){ke(n,n.return,k)}}function wg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hm(n,r)}catch(l){ke(t,t.return,l)}}}function Rg(t,n,r){r.props=Xi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){ke(t,n,l)}}function ia(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){ke(t,n,c)}}function dn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){ke(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){ke(t,n,c)}else r.current=null}function Ag(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){ke(t,t.return,c)}}function cf(t,n,r){try{var l=t.stateNode;Lb(l,t.type,r,n),l[bt]=n}catch(c){ke(t,t.return,c)}}function Ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hi(t.type)||t.tag===4}function ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=go));else if(l!==4&&(l===27&&hi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(hf(t,n,r),t=t.sibling;t!==null;)hf(t,n,r),t=t.sibling}function so(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&hi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(so(t,n,r),t=t.sibling;t!==null;)so(t,n,r),t=t.sibling}function Og(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ct(n,l,r),n[dt]=t,n[bt]=r}catch(h){ke(t,t.return,h)}}var Mn=!1,Qe=!1,df=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,it=null;function mb(t,n){if(t=t.containerInfo,Pf=To,t=jp(t),cc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var g=0,_=-1,S=-1,N=0,k=0,P=t,O=null;t:for(;;){for(var D;P!==r||c!==0&&P.nodeType!==3||(_=g+c),P!==h||l!==0&&P.nodeType!==3||(S=g+l),P.nodeType===3&&(g+=P.nodeValue.length),(D=P.firstChild)!==null;)O=P,P=D;for(;;){if(P===t)break t;if(O===r&&++N===c&&(_=g),O===h&&++k===l&&(S=g),(D=P.nextSibling)!==null)break;P=O,O=P.parentNode}P=D}r=_===-1||S===-1?null:{start:_,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(zf={focusedElem:t,selectionRange:r},To=!1,it=n;it!==null;)if(n=it,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,it=t;else for(;it!==null;){switch(n=it,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var se=Xi(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(se,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(Z){ke(r,r.return,Z)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)jf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,it=t;break}it=n.return}}function Dg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ri(t,r),l&4&&na(5,r);break;case 1:if(ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){ke(r,r.return,g)}else{var c=Xi(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ke(r,r.return,g)}}l&64&&wg(r),l&512&&ia(r,r.return);break;case 3:if(ri(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hm(t,n)}catch(g){ke(r,r.return,g)}}break;case 27:n===null&&l&4&&Og(r);case 26:case 5:ri(t,r),n===null&&l&4&&Ag(r),l&512&&ia(r,r.return);break;case 12:ri(t,r);break;case 13:ri(t,r),l&4&&kg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Cb.bind(null,r),Gb(t,r))));break;case 22:if(l=r.memoizedState!==null||Mn,!l){n=n!==null&&n.memoizedState!==null||Qe,c=Mn;var h=Qe;Mn=l,(Qe=n)&&!h?ai(t,r,(r.subtreeFlags&8772)!==0):ri(t,r),Mn=c,Qe=h}break;case 30:break;default:ri(t,r)}}function Mg(t){var n=t.alternate;n!==null&&(t.alternate=null,Mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Yu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,wt=!1;function xn(t,n,r){for(r=r.child;r!==null;)xg(t,n,r),r=r.sibling}function xg(t,n,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Cr,r)}catch{}switch(r.tag){case 26:Qe||dn(r,n),xn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Qe||dn(r,n);var l=Be,c=wt;hi(r.type)&&(Be=r.stateNode,wt=!1),xn(t,n,r),ha(r.stateNode),Be=l,wt=c;break;case 5:Qe||dn(r,n);case 6:if(l=Be,c=wt,Be=null,xn(t,n,r),Be=l,wt=c,Be!==null)if(wt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(r.stateNode)}catch(h){ke(r,n,h)}else try{Be.removeChild(r.stateNode)}catch(h){ke(r,n,h)}break;case 18:Be!==null&&(wt?(t=Be,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ea(t)):S_(Be,r.stateNode));break;case 4:l=Be,c=wt,Be=r.stateNode.containerInfo,wt=!0,xn(t,n,r),Be=l,wt=c;break;case 0:case 11:case 14:case 15:Qe||si(2,r,n),Qe||si(4,r,n),xn(t,n,r);break;case 1:Qe||(dn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Rg(r,n,l)),xn(t,n,r);break;case 21:xn(t,n,r);break;case 22:Qe=(l=Qe)||r.memoizedState!==null,xn(t,n,r),Qe=l;break;default:xn(t,n,r)}}function kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ea(t)}catch(r){ke(n,n.return,r)}}function gb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ig),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ig),n;default:throw Error(a(435,t.tag))}}function pf(t,n){var r=gb(t);n.forEach(function(l){var c=wb.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function xt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(hi(_.type)){Be=_.stateNode,wt=!1;break e}break;case 5:Be=_.stateNode,wt=!1;break e;case 3:case 4:Be=_.stateNode.containerInfo,wt=!0;break e}_=_.return}if(Be===null)throw Error(a(160));xg(h,g,c),Be=null,wt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lg(n,t),n=n.sibling}var Jt=null;function Lg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(n,t),kt(t),l&4&&(si(3,t,t.return),na(3,t),si(5,t,t.return));break;case 1:xt(n,t),kt(t),l&512&&(Qe||r===null||dn(r,r.return)),l&64&&Mn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Jt;if(xt(n,t),kt(t),l&512&&(Qe||r===null||dn(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ar]||h[dt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),ct(h,l,r),h[dt]=t,tt(h),l=h;break e;case"link":var g=O_("link","href",c).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(h=g[_],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}h=c.createElement(l),ct(h,l,r),c.head.appendChild(h);break;case"meta":if(g=O_("meta","content",c).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(h=g[_],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}h=c.createElement(l),ct(h,l,r),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[dt]=t,tt(h),l=h}t.stateNode=l}else I_(c,t.type,t.stateNode);else t.stateNode=N_(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?I_(c,t.type,t.stateNode):N_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cf(t,t.memoizedProps,r.memoizedProps)}break;case 27:xt(n,t),kt(t),l&512&&(Qe||r===null||dn(r,r.return)),r!==null&&l&4&&cf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xt(n,t),kt(t),l&512&&(Qe||r===null||dn(r,r.return)),t.flags&32){c=t.stateNode;try{Ss(c,"")}catch(D){ke(t,t.return,D)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,cf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(df=!0);break;case 6:if(xt(n,t),kt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(D){ke(t,t.return,D)}}break;case 3:if(Eo=null,c=Jt,Jt=vo(n.containerInfo),xt(n,t),Jt=c,kt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ea(n.containerInfo)}catch(D){ke(t,t.return,D)}df&&(df=!1,Ug(t));break;case 4:l=Jt,Jt=vo(t.stateNode.containerInfo),xt(n,t),kt(t),Jt=l;break;case 12:xt(n,t),kt(t);break;case 13:xt(n,t),kt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ef=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 22:c=t.memoizedState!==null;var S=r!==null&&r.memoizedState!==null,N=Mn,k=Qe;if(Mn=N||c,Qe=k||S,xt(n,t),Qe=k,Mn=N,kt(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||S||Mn||Qe||$i(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){S=r=n;try{if(h=S.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=S.stateNode;var P=S.memoizedProps.style,O=P!=null&&P.hasOwnProperty("display")?P.display:null;_.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(D){ke(S,S.return,D)}}}else if(n.tag===6){if(r===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(D){ke(S,S.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,pf(t,r))));break;case 19:xt(n,t),kt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 30:break;case 21:break;default:xt(n,t),kt(t)}}function kt(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ng(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,h=ff(t);so(t,h,c);break;case 5:var g=r.stateNode;r.flags&32&&(Ss(g,""),r.flags&=-33);var _=ff(t);so(t,_,g);break;case 3:case 4:var S=r.stateNode.containerInfo,N=ff(t);hf(t,N,S);break;default:throw Error(a(161))}}catch(k){ke(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ug(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dg(t,n.alternate,n),n=n.sibling}function $i(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:si(4,n,n.return),$i(n);break;case 1:dn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Rg(n,n.return,r),$i(n);break;case 27:ha(n.stateNode);case 26:case 5:dn(n,n.return),$i(n);break;case 22:n.memoizedState===null&&$i(n);break;case 30:$i(n);break;default:$i(n)}t=t.sibling}}function ai(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:ai(c,h,r),na(4,h);break;case 1:if(ai(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){ke(l,l.return,N)}if(l=h,c=l.updateQueue,c!==null){var _=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)fm(S[c],_)}catch(N){ke(l,l.return,N)}}r&&g&64&&wg(h),ia(h,h.return);break;case 27:Og(h);case 26:case 5:ai(c,h,r),r&&l===null&&g&4&&Ag(h),ia(h,h.return);break;case 12:ai(c,h,r);break;case 13:ai(c,h,r),r&&g&4&&kg(c,h);break;case 22:h.memoizedState===null&&ai(c,h,r),ia(h,h.return);break;case 30:break;default:ai(c,h,r)}n=n.sibling}}function mf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Gr(r))}function gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gr(t))}function pn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pg(t,n,r,l),n=n.sibling}function Pg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:pn(t,n,r,l),c&2048&&na(9,n);break;case 1:pn(t,n,r,l);break;case 3:pn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gr(t)));break;case 12:if(c&2048){pn(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,_=h.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){ke(n,n.return,S)}}else pn(t,n,r,l);break;case 13:pn(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?pn(t,n,r,l):sa(t,n):h._visibility&2?pn(t,n,r,l):(h._visibility|=2,Bs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&mf(g,n);break;case 24:pn(t,n,r,l),c&2048&&gf(n.alternate,n);break;default:pn(t,n,r,l)}}function Bs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,g=n,_=r,S=l,N=g.flags;switch(g.tag){case 0:case 11:case 15:Bs(h,g,_,S,c),na(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?Bs(h,g,_,S,c):sa(h,g):(k._visibility|=2,Bs(h,g,_,S,c)),c&&N&2048&&mf(g.alternate,g);break;case 24:Bs(h,g,_,S,c),c&&N&2048&&gf(g.alternate,g);break;default:Bs(h,g,_,S,c)}n=n.sibling}}function sa(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:sa(r,l),c&2048&&mf(l.alternate,l);break;case 24:sa(r,l),c&2048&&gf(l.alternate,l);break;default:sa(r,l)}n=n.sibling}}var ra=8192;function js(t){if(t.subtreeFlags&ra)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 26:js(t),t.flags&ra&&t.memoizedState!==null&&tT(Jt,t.memoizedState,t.memoizedProps);break;case 5:js(t);break;case 3:case 4:var n=Jt;Jt=vo(t.stateNode.containerInfo),js(t),Jt=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ra,ra=16777216,js(t),ra=n):js(t));break;default:js(t)}}function Hg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function aa(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];it=l,jg(l,t)}Hg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 0:case 11:case 15:aa(t),t.flags&2048&&si(9,t,t.return);break;case 3:aa(t);break;case 12:aa(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ro(t)):aa(t);break;default:aa(t)}}function ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];it=l,jg(l,t)}Hg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:si(8,n,n.return),ro(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ro(n));break;default:ro(n)}t=t.sibling}}function jg(t,n){for(;it!==null;){var r=it;switch(r.tag){case 0:case 11:case 15:si(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,it=l;else e:for(r=t;it!==null;){l=it;var c=l.sibling,h=l.return;if(Mg(l),l===r){it=null;break e}if(c!==null){c.return=h,it=c;break e}it=h}}}var _b={getCacheForType:function(t){var n=pt($e),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},vb=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,de=null,ye=0,Ae=0,Lt=null,li=!1,Gs=!1,_f=!1,kn=0,qe=0,oi=0,Zi=0,vf=0,Yt=0,Vs=0,la=null,Rt=null,yf=!1,Ef=0,ao=1/0,lo=null,ui=null,ut=0,ci=null,qs=null,Ys=0,Sf=0,bf=null,Gg=null,oa=0,Tf=null;function Ut(){if((Re&2)!==0&&ye!==0)return ye&-ye;if(x.T!==null){var t=Ms;return t!==0?t:If()}return sp()}function Vg(){Yt===0&&(Yt=(ye&536870912)===0||Ce?ep():536870912);var t=qt.current;return t!==null&&(t.flags|=32),Yt}function Pt(t,n,r){(t===Le&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(Fs(t,0),fi(t,ye,Yt,!1)),Rr(t,r),((Re&2)===0||t!==Le)&&(t===Le&&((Re&2)===0&&(Zi|=r),qe===4&&fi(t,ye,Yt,!1)),mn(t))}function qg(t,n,r){if((Re&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||wr(t,n),c=l?Sb(t,n):Rf(t,n,!0),h=l;do{if(c===0){Gs&&!l&&fi(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!yb(r)){c=Rf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=la;var S=_.current.memoizedState.isDehydrated;if(S&&(Fs(_,g).flags|=256),g=Rf(_,g,!1),g!==2){if(_f&&!S){_.errorRecoveryDisabledLanes|=h,Zi|=h,c=4;break e}h=Rt,Rt=c,h!==null&&(Rt===null?Rt=h:Rt.push.apply(Rt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Fs(t,0),fi(t,n,0,!0);break}e:{switch(l=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:fi(l,n,Yt,!li);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Ef+300-cn(),10<c)){if(fi(l,n,Yt,!li),vl(l,0,!0)!==0)break e;l.timeoutHandle=y_(Yg.bind(null,l,r,Rt,lo,yf,n,Yt,Zi,Vs,li,h,2,-0,0),c);break e}Yg(l,r,Rt,lo,yf,n,Yt,Zi,Vs,li,h,0,-0,0)}}break}while(!0);mn(t)}function Yg(t,n,r,l,c,h,g,_,S,N,k,P,O,D){if(t.timeoutHandle=-1,P=n.subtreeFlags,(P&8192||(P&16785408)===16785408)&&(ma={stylesheets:null,count:0,unsuspend:eT},zg(n),P=nT(),P!==null)){t.cancelPendingCommit=P(Zg.bind(null,t,n,h,r,l,c,g,_,S,k,1,O,D)),fi(t,h,g,!N);return}Zg(t,n,h,r,l,c,g,_,S)}function yb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!Dt(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fi(t,n,r,l){n&=~vf,n&=~Zi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-It(c),g=1<<h;l[h]=-1,c&=~g}r!==0&&np(t,r,n)}function oo(){return(Re&6)===0?(ua(0),!1):!0}function Cf(){if(de!==null){if(Ae===0)var t=de.return;else t=de,Rn=Fi=null,Bc(t),zs=null,Jr=0,t=de;for(;t!==null;)Cg(t.alternate,t),t=t.return;de=null}}function Fs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Pb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Cf(),Le=t,de=r=Tn(t.current,null),ye=n,Ae=0,Lt=null,li=!1,Gs=wr(t,n),_f=!1,Vs=Yt=vf=Zi=oi=qe=0,Rt=la=null,yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-It(l),h=1<<c;n|=t[c],l&=~h}return kn=n,Il(),r}function Fg(t,n){ue=null,x.H=Wl,n===qr||n===Hl?(n=um(),Ae=3):n===am?(n=um(),Ae=4):Ae=n===cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lt=n,de===null&&(qe=1,eo(t,Bt(n,t.current)))}function Kg(){var t=x.H;return x.H=Wl,t===null?Wl:t}function Qg(){var t=x.A;return x.A=_b,t}function wf(){qe=4,li||(ye&4194048)!==ye&&qt.current!==null||(Gs=!0),(oi&134217727)===0&&(Zi&134217727)===0||Le===null||fi(Le,ye,Yt,!1)}function Rf(t,n,r){var l=Re;Re|=2;var c=Kg(),h=Qg();(Le!==t||ye!==n)&&(lo=null,Fs(t,n)),n=!1;var g=qe;e:do try{if(Ae!==0&&de!==null){var _=de,S=Lt;switch(Ae){case 8:Cf(),g=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(n=!0);var N=Ae;if(Ae=0,Lt=null,Ks(t,_,S,N),r&&Gs){g=0;break e}break;default:N=Ae,Ae=0,Lt=null,Ks(t,_,S,N)}}Eb(),g=qe;break}catch(k){Fg(t,k)}while(!0);return n&&t.shellSuspendCounter++,Rn=Fi=null,Re=l,x.H=c,x.A=h,de===null&&(Le=null,ye=0,Il()),g}function Eb(){for(;de!==null;)Wg(de)}function Sb(t,n){var r=Re;Re|=2;var l=Kg(),c=Qg();Le!==t||ye!==n?(lo=null,ao=cn()+500,Fs(t,n)):Gs=wr(t,n);e:do try{if(Ae!==0&&de!==null){n=de;var h=Lt;t:switch(Ae){case 1:Ae=0,Lt=null,Ks(t,n,h,1);break;case 2:case 9:if(lm(h)){Ae=0,Lt=null,Xg(n);break}n=function(){Ae!==2&&Ae!==9||Le!==t||(Ae=7),mn(t)},h.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:lm(h)?(Ae=0,Lt=null,Xg(n)):(Ae=0,Lt=null,Ks(t,n,h,7));break;case 5:var g=null;switch(de.tag){case 26:g=de.memoizedState;case 5:case 27:var _=de;if(!g||D_(g)){Ae=0,Lt=null;var S=_.sibling;if(S!==null)de=S;else{var N=_.return;N!==null?(de=N,uo(N)):de=null}break t}}Ae=0,Lt=null,Ks(t,n,h,5);break;case 6:Ae=0,Lt=null,Ks(t,n,h,6);break;case 8:Cf(),qe=6;break e;default:throw Error(a(462))}}bb();break}catch(k){Fg(t,k)}while(!0);return Rn=Fi=null,x.H=l,x.A=c,Re=r,de!==null?0:(Le=null,ye=0,Il(),qe)}function bb(){for(;de!==null&&!qS();)Wg(de)}function Wg(t){var n=bg(t.alternate,t,kn);t.memoizedProps=t.pendingProps,n===null?uo(t):de=n}function Xg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=gg(r,n,n.pendingProps,n.type,void 0,ye);break;case 11:n=gg(r,n,n.pendingProps,n.type.render,n.ref,ye);break;case 5:Bc(n);default:Cg(r,n),n=de=$p(n,kn),n=bg(r,n,kn)}t.memoizedProps=t.pendingProps,n===null?uo(t):de=n}function Ks(t,n,r,l){Rn=Fi=null,Bc(n),zs=null,Jr=0;var c=n.return;try{if(fb(t,c,n,r,ye)){qe=1,eo(t,Bt(r,t.current)),de=null;return}}catch(h){if(c!==null)throw de=c,h;qe=1,eo(t,Bt(r,t.current)),de=null;return}n.flags&32768?(Ce||l===1?t=!0:Gs||(ye&536870912)!==0?t=!1:(li=t=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),$g(n,t)):uo(n)}function uo(t){var n=t;do{if((n.flags&32768)!==0){$g(n,li);return}t=n.return;var r=db(n.alternate,n,kn);if(r!==null){de=r;return}if(n=n.sibling,n!==null){de=n;return}de=n=t}while(n!==null);qe===0&&(qe=5)}function $g(t,n){do{var r=pb(t.alternate,t);if(r!==null){r.flags&=32767,de=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){de=t;return}de=t=r}while(t!==null);qe=6,de=null}function Zg(t,n,r,l,c,h,g,_,S){t.cancelPendingCommit=null;do co();while(ut!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=mc,e0(t,r,h,g,_,S),t===Le&&(de=Le=null,ye=0),qs=n,ci=t,Ys=r,Sf=h,bf=c,Gg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Rb(ml,function(){return i_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=x.T,x.T=null,c=V.p,V.p=2,g=Re,Re|=4;try{mb(t,n,r)}finally{Re=g,V.p=c,x.T=l}}ut=1,Jg(),e_(),t_()}}function Jg(){if(ut===1){ut=0;var t=ci,n=qs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=x.T,x.T=null;var l=V.p;V.p=2;var c=Re;Re|=4;try{Lg(n,t);var h=zf,g=jp(t.containerInfo),_=h.focusedElem,S=h.selectionRange;if(g!==_&&_&&_.ownerDocument&&Bp(_.ownerDocument.documentElement,_)){if(S!==null&&cc(_)){var N=S.start,k=S.end;if(k===void 0&&(k=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(k,_.value.length);else{var P=_.ownerDocument||document,O=P&&P.defaultView||window;if(O.getSelection){var D=O.getSelection(),se=_.textContent.length,Z=Math.min(S.start,se),Ie=S.end===void 0?Z:Math.min(S.end,se);!D.extend&&Z>Ie&&(g=Ie,Ie=Z,Z=g);var w=Hp(_,Z),T=Hp(_,Ie);if(w&&T&&(D.rangeCount!==1||D.anchorNode!==w.node||D.anchorOffset!==w.offset||D.focusNode!==T.node||D.focusOffset!==T.offset)){var A=P.createRange();A.setStart(w.node,w.offset),D.removeAllRanges(),Z>Ie?(D.addRange(A),D.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),D.addRange(A))}}}}for(P=[],D=_;D=D.parentNode;)D.nodeType===1&&P.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<P.length;_++){var U=P[_];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}To=!!Pf,zf=Pf=null}finally{Re=c,V.p=l,x.T=r}}t.current=n,ut=2}}function e_(){if(ut===2){ut=0;var t=ci,n=qs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=x.T,x.T=null;var l=V.p;V.p=2;var c=Re;Re|=4;try{Dg(t,n.alternate,n)}finally{Re=c,V.p=l,x.T=r}}ut=3}}function t_(){if(ut===4||ut===3){ut=0,YS();var t=ci,n=qs,r=Ys,l=Gg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ut=5:(ut=0,qs=ci=null,n_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ui=null),Vu(r),n=n.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Cr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=x.T,c=V.p,V.p=2,x.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var _=l[g];h(_.value,{componentStack:_.stack})}}finally{x.T=n,V.p=c}}(Ys&3)!==0&&co(),mn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Tf?oa++:(oa=0,Tf=t):oa=0,ua(0)}}function n_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gr(n)))}function co(t){return Jg(),e_(),t_(),i_()}function i_(){if(ut!==5)return!1;var t=ci,n=Sf;Sf=0;var r=Vu(Ys),l=x.T,c=V.p;try{V.p=32>r?32:r,x.T=null,r=bf,bf=null;var h=ci,g=Ys;if(ut=0,qs=ci=null,Ys=0,(Re&6)!==0)throw Error(a(331));var _=Re;if(Re|=4,Bg(h.current),Pg(h,h.current,g,r),Re=_,ua(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Cr,h)}catch{}return!0}finally{V.p=c,x.T=l,n_(t,n)}}function s_(t,n,r){n=Bt(r,n),n=ef(t.stateNode,n,2),t=ei(t,n,2),t!==null&&(Rr(t,2),mn(t))}function ke(t,n,r){if(t.tag===3)s_(t,t,r);else for(;n!==null;){if(n.tag===3){s_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ui===null||!ui.has(l))){t=Bt(r,t),r=og(2),l=ei(n,r,2),l!==null&&(ug(r,l,n,t),Rr(l,2),mn(l));break}}n=n.return}}function Af(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new vb;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(_f=!0,c.add(r),t=Tb.bind(null,t,n,r),n.then(t,t))}function Tb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Le===t&&(ye&r)===r&&(qe===4||qe===3&&(ye&62914560)===ye&&300>cn()-Ef?(Re&2)===0&&Fs(t,0):vf|=r,Vs===ye&&(Vs=0)),mn(t)}function r_(t,n){n===0&&(n=tp()),t=Ns(t,n),t!==null&&(Rr(t,n),mn(t))}function Cb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),r_(t,r)}function wb(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),r_(t,r)}function Rb(t,n){return Hu(t,n)}var fo=null,Qs=null,Nf=!1,ho=!1,Of=!1,Ji=0;function mn(t){t!==Qs&&t.next===null&&(Qs===null?fo=Qs=t:Qs=Qs.next=t),ho=!0,Nf||(Nf=!0,Nb())}function ua(t,n){if(!Of&&ho){Of=!0;do for(var r=!1,l=fo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,_=l.pingedLanes;h=(1<<31-It(42|t)+1)-1,h&=c&~(g&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,u_(l,h))}else h=ye,h=vl(l,l===Le?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||wr(l,h)||(r=!0,u_(l,h));l=l.next}while(r);Of=!1}}function Ab(){a_()}function a_(){ho=Nf=!1;var t=0;Ji!==0&&(Ub()&&(t=Ji),Ji=0);for(var n=cn(),r=null,l=fo;l!==null;){var c=l.next,h=l_(l,n);h===0?(l.next=null,r===null?fo=c:r.next=c,c===null&&(Qs=r)):(r=l,(t!==0||(h&3)!==0)&&(ho=!0)),l=c}ua(t)}function l_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-It(h),_=1<<g,S=c[g];S===-1?((_&r)===0||(_&l)!==0)&&(c[g]=JS(_,n)):S<=n&&(t.expiredLanes|=_),h&=~_}if(n=Le,r=ye,r=vl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Bu(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Bu(l),Vu(r)){case 2:case 8:r=Zd;break;case 32:r=ml;break;case 268435456:r=Jd;break;default:r=ml}return l=o_.bind(null,t),r=Hu(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Bu(l),t.callbackPriority=2,t.callbackNode=null,2}function o_(t,n){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(co()&&t.callbackNode!==r)return null;var l=ye;return l=vl(t,t===Le?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qg(t,l,n),l_(t,cn()),t.callbackNode!=null&&t.callbackNode===r?o_.bind(null,t):null)}function u_(t,n){if(co())return null;qg(t,n,!0)}function Nb(){zb(function(){(Re&6)!==0?Hu($d,Ab):a_()})}function If(){return Ji===0&&(Ji=ep()),Ji}function c_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tl(""+t)}function f_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Ob(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=c_((c[bt]||null).action),g=l.submitter;g&&(n=(n=g[bt]||null)?c_(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var _=new Al("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ji!==0){var S=g?f_(c,g):new FormData(c);Wc(r,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(_.preventDefault(),S=g?f_(c,g):new FormData(c),Wc(r,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var Df=0;Df<pc.length;Df++){var Mf=pc[Df],Ib=Mf.toLowerCase(),Db=Mf[0].toUpperCase()+Mf.slice(1);Zt(Ib,"on"+Db)}Zt(qp,"onAnimationEnd"),Zt(Yp,"onAnimationIteration"),Zt(Fp,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Q0,"onTransitionRun"),Zt(W0,"onTransitionStart"),Zt(X0,"onTransitionCancel"),Zt(Kp,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ca));function h_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],S=_.instance,N=_.currentTarget;if(_=_.listener,S!==h&&c.isPropagationStopped())break e;h=_,c.currentTarget=N;try{h(c)}catch(k){Jl(k)}c.currentTarget=null,h=S}else for(g=0;g<l.length;g++){if(_=l[g],S=_.instance,N=_.currentTarget,_=_.listener,S!==h&&c.isPropagationStopped())break e;h=_,c.currentTarget=N;try{h(c)}catch(k){Jl(k)}c.currentTarget=null,h=S}}}}function pe(t,n){var r=n[qu];r===void 0&&(r=n[qu]=new Set);var l=t+"__bubble";r.has(l)||(d_(n,t,2,!1),r.add(l))}function xf(t,n,r){var l=0;n&&(l|=4),d_(r,t,l,n)}var po="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[po]){t[po]=!0,ap.forEach(function(r){r!=="selectionchange"&&(Mb.has(r)||xf(r,!1,t),xf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[po]||(n[po]=!0,xf("selectionchange",!1,n))}}function d_(t,n,r,l){switch(P_(n)){case 2:var c=rT;break;case 8:c=aT;break;default:c=Qf}r=c.bind(null,n,r,t),c=void 0,!tc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Lf(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;_!==null;){if(g=ms(_),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=h=g;continue e}_=_.parentNode}}l=l.return}Ep(function(){var N=h,k=Ju(r),P=[];e:{var O=Qp.get(t);if(O!==void 0){var D=Al,se=t;switch(t){case"keypress":if(wl(r)===0)break e;case"keydown":case"keyup":D=R0;break;case"focusin":se="focus",D=rc;break;case"focusout":se="blur",D=rc;break;case"beforeblur":case"afterblur":D=rc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=O0;break;case qp:case Yp:case Fp:D=_0;break;case Kp:D=D0;break;case"scroll":case"scrollend":D=h0;break;case"wheel":D=x0;break;case"copy":case"cut":case"paste":D=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=wp;break;case"toggle":case"beforetoggle":D=L0}var Z=(n&4)!==0,Ie=!Z&&(t==="scroll"||t==="scrollend"),w=Z?O!==null?O+"Capture":null:O;Z=[];for(var T=N,A;T!==null;){var U=T;if(A=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||A===null||w===null||(U=Or(T,w),U!=null&&Z.push(fa(T,U,A))),Ie)break;T=T.return}0<Z.length&&(O=new D(O,se,null,r,k),P.push({event:O,listeners:Z}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",D=t==="mouseout"||t==="pointerout",O&&r!==Zu&&(se=r.relatedTarget||r.fromElement)&&(ms(se)||se[ps]))break e;if((D||O)&&(O=k.window===k?k:(O=k.ownerDocument)?O.defaultView||O.parentWindow:window,D?(se=r.relatedTarget||r.toElement,D=N,se=se?ms(se):null,se!==null&&(Ie=u(se),Z=se.tag,se!==Ie||Z!==5&&Z!==27&&Z!==6)&&(se=null)):(D=null,se=N),D!==se)){if(Z=Tp,U="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(Z=wp,U="onPointerLeave",w="onPointerEnter",T="pointer"),Ie=D==null?O:Nr(D),A=se==null?O:Nr(se),O=new Z(U,T+"leave",D,r,k),O.target=Ie,O.relatedTarget=A,U=null,ms(k)===N&&(Z=new Z(w,T+"enter",se,r,k),Z.target=A,Z.relatedTarget=Ie,U=Z),Ie=U,D&&se)t:{for(Z=D,w=se,T=0,A=Z;A;A=Ws(A))T++;for(A=0,U=w;U;U=Ws(U))A++;for(;0<T-A;)Z=Ws(Z),T--;for(;0<A-T;)w=Ws(w),A--;for(;T--;){if(Z===w||w!==null&&Z===w.alternate)break t;Z=Ws(Z),w=Ws(w)}Z=null}else Z=null;D!==null&&p_(P,O,D,Z,!1),se!==null&&Ie!==null&&p_(P,Ie,se,Z,!0)}}e:{if(O=N?Nr(N):window,D=O.nodeName&&O.nodeName.toLowerCase(),D==="select"||D==="input"&&O.type==="file")var F=xp;else if(Dp(O))if(kp)F=Y0;else{F=V0;var ce=G0}else D=O.nodeName,!D||D.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&$u(N.elementType)&&(F=xp):F=q0;if(F&&(F=F(t,N))){Mp(P,F,r,k);break e}ce&&ce(t,O,N),t==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&Xu(O,"number",O.value)}switch(ce=N?Nr(N):window,t){case"focusin":(Dp(ce)||ce.contentEditable==="true")&&(ws=ce,fc=N,Pr=null);break;case"focusout":Pr=fc=ws=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,Gp(P,r,k);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":Gp(P,r,k)}var X;if(lc)e:{switch(t){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Cs?Op(t,r)&&(ee="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ee="onCompositionStart");ee&&(Rp&&r.locale!=="ko"&&(Cs||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Cs&&(X=Sp()):(Xn=k,nc="value"in Xn?Xn.value:Xn.textContent,Cs=!0)),ce=mo(N,ee),0<ce.length&&(ee=new Cp(ee,t,null,r,k),P.push({event:ee,listeners:ce}),X?ee.data=X:(X=Ip(r),X!==null&&(ee.data=X)))),(X=P0?z0(t,r):H0(t,r))&&(ee=mo(N,"onBeforeInput"),0<ee.length&&(ce=new Cp("onBeforeInput","beforeinput",null,r,k),P.push({event:ce,listeners:ee}),ce.data=X)),Ob(P,t,N,r,k)}h_(P,n)})}function fa(t,n,r){return{instance:t,listener:n,currentTarget:r}}function mo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Or(t,r),c!=null&&l.unshift(fa(t,c,h)),c=Or(t,n),c!=null&&l.push(fa(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p_(t,n,r,l,c){for(var h=n._reactName,g=[];r!==null&&r!==l;){var _=r,S=_.alternate,N=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||N===null||(S=N,c?(N=Or(r,h),N!=null&&g.unshift(fa(r,N,S))):c||(N=Or(r,h),N!=null&&g.push(fa(r,N,S)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var xb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(kb,"")}function g_(t,n){return n=m_(n),m_(t)===n}function go(){}function Oe(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ss(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ss(t,""+l);break;case"className":El(t,"class",l);break;case"tabIndex":El(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":El(t,r,l);break;case"style":vp(t,l,h);break;case"data":if(n!=="object"){El(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Tl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Oe(t,n,"name",c.name,c,null),Oe(t,n,"formEncType",c.formEncType,c,null),Oe(t,n,"formMethod",c.formMethod,c,null),Oe(t,n,"formTarget",c.formTarget,c,null)):(Oe(t,n,"encType",c.encType,c,null),Oe(t,n,"method",c.method,c,null),Oe(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Tl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=go);break;case"onScroll":l!=null&&pe("scroll",t);break;case"onScrollEnd":l!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Tl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":pe("beforetoggle",t),pe("toggle",t),yl(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=c0.get(r)||r,yl(t,r,l))}}function Uf(t,n,r,l,c,h){switch(r){case"style":vp(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ss(t,l):(typeof l=="number"||typeof l=="bigint")&&Ss(t,""+l);break;case"onScroll":l!=null&&pe("scroll",t);break;case"onScrollEnd":l!=null&&pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lp.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[bt]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):yl(t,r,l)}}}function ct(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var g=r[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Oe(t,n,h,g,r,null)}}c&&Oe(t,n,"srcSet",r.srcSet,r,null),l&&Oe(t,n,"src",r.src,r,null);return;case"input":pe("invalid",t);var _=h=g=c=null,S=null,N=null;for(l in r)if(r.hasOwnProperty(l)){var k=r[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":S=k;break;case"defaultChecked":N=k;break;case"value":h=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Oe(t,n,l,k,r,null)}}pp(t,h,_,S,N,g,c,!1),Sl(t);return;case"select":pe("invalid",t),l=g=h=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":h=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Oe(t,n,c,_,r,null)}n=h,r=g,t.multiple=!!l,n!=null?Es(t,!!l,n,!1):r!=null&&Es(t,!!l,r,!0);return;case"textarea":pe("invalid",t),h=c=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Oe(t,n,g,_,r,null)}gp(t,l,c,h),Sl(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Oe(t,n,S,l,r,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(l=0;l<ca.length;l++)pe(ca[l],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Oe(t,n,N,l,r,null)}return;default:if($u(n)){for(k in r)r.hasOwnProperty(k)&&(l=r[k],l!==void 0&&Uf(t,n,k,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Oe(t,n,_,l,r,null))}function Lb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,_=null,S=null,N=null,k=null;for(D in r){var P=r[D];if(r.hasOwnProperty(D)&&P!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":S=P;default:l.hasOwnProperty(D)||Oe(t,n,D,null,l,P)}}for(var O in l){var D=l[O];if(P=r[O],l.hasOwnProperty(O)&&(D!=null||P!=null))switch(O){case"type":h=D;break;case"name":c=D;break;case"checked":N=D;break;case"defaultChecked":k=D;break;case"value":g=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:D!==P&&Oe(t,n,O,D,l,P)}}Wu(t,g,_,S,N,k,h,c);return;case"select":D=g=_=O=null;for(h in r)if(S=r[h],r.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":D=S;default:l.hasOwnProperty(h)||Oe(t,n,h,null,l,S)}for(c in l)if(h=l[c],S=r[c],l.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":O=h;break;case"defaultValue":_=h;break;case"multiple":g=h;default:h!==S&&Oe(t,n,c,h,l,S)}n=_,r=g,l=D,O!=null?Es(t,!!r,O,!1):!!l!=!!r&&(n!=null?Es(t,!!r,n,!0):Es(t,!!r,r?[]:"",!1));return;case"textarea":D=O=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(t,n,_,null,l,c)}for(g in l)if(c=l[g],h=r[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":O=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Oe(t,n,g,c,l,h)}mp(t,O,D);return;case"option":for(var se in r)if(O=r[se],r.hasOwnProperty(se)&&O!=null&&!l.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:Oe(t,n,se,null,l,O)}for(S in l)if(O=l[S],D=r[S],l.hasOwnProperty(S)&&O!==D&&(O!=null||D!=null))switch(S){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Oe(t,n,S,O,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Z in r)O=r[Z],r.hasOwnProperty(Z)&&O!=null&&!l.hasOwnProperty(Z)&&Oe(t,n,Z,null,l,O);for(N in l)if(O=l[N],D=r[N],l.hasOwnProperty(N)&&O!==D&&(O!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Oe(t,n,N,O,l,D)}return;default:if($u(n)){for(var Ie in r)O=r[Ie],r.hasOwnProperty(Ie)&&O!==void 0&&!l.hasOwnProperty(Ie)&&Uf(t,n,Ie,void 0,l,O);for(k in l)O=l[k],D=r[k],!l.hasOwnProperty(k)||O===D||O===void 0&&D===void 0||Uf(t,n,k,O,l,D);return}}for(var w in r)O=r[w],r.hasOwnProperty(w)&&O!=null&&!l.hasOwnProperty(w)&&Oe(t,n,w,null,l,O);for(P in l)O=l[P],D=r[P],!l.hasOwnProperty(P)||O===D||O==null&&D==null||Oe(t,n,P,O,l,D)}var Pf=null,zf=null;function _o(t){return t.nodeType===9?t:t.ownerDocument}function __(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Bf=null;function Ub(){var t=window.event;return t&&t.type==="popstate"?t===Bf?!1:(Bf=t,!0):(Bf=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch(Hb)}:y_;function Hb(t){setTimeout(function(){throw t})}function hi(t){return t==="head"}function S_(t,n){var r=n,l=0,c=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<l&&8>l){r=l;var g=t.ownerDocument;if(r&1&&ha(g.documentElement),r&2&&ha(g.body),r&4)for(r=g.head,ha(r),g=r.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[Ar]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=_}}if(c===0){t.removeChild(h),Ea(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=h}while(r);Ea(n)}function jf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":jf(r),Yu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Bb(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ar])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function jb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=en(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Gb(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function en(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Vf=null;function b_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function T_(t,n,r){switch(n=_o(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ha(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Yu(t)}var Ft=new Map,C_=new Set;function vo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ln=V.d;V.d={f:Vb,r:qb,D:Yb,C:Fb,L:Kb,m:Qb,X:Xb,S:Wb,M:$b};function Vb(){var t=Ln.f(),n=oo();return t||n}function qb(t){var n=gs(t);n!==null&&n.tag===5&&n.type==="form"?qm(n):Ln.r(t)}var Xs=typeof document>"u"?null:document;function w_(t,n,r){var l=Xs;if(l&&typeof n=="string"&&n){var c=Ht(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),C_.has(c)||(C_.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ct(n,"link",t),tt(n),l.head.appendChild(n)))}}function Yb(t){Ln.D(t),w_("dns-prefetch",t,null)}function Fb(t,n){Ln.C(t,n),w_("preconnect",t,n)}function Kb(t,n,r){Ln.L(t,n,r);var l=Xs;if(l&&t&&n){var c='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Ht(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Ht(r.imageSizes)+'"]')):c+='[href="'+Ht(t)+'"]';var h=c;switch(n){case"style":h=$s(t);break;case"script":h=Zs(t)}Ft.has(h)||(t=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Ft.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(da(h))||n==="script"&&l.querySelector(pa(h))||(n=l.createElement("link"),ct(n,"link",t),tt(n),l.head.appendChild(n)))}}function Qb(t,n){Ln.m(t,n);var r=Xs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ht(l)+'"][href="'+Ht(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Zs(t)}if(!Ft.has(h)&&(t=v({rel:"modulepreload",href:t},n),Ft.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(pa(h)))return}l=r.createElement("link"),ct(l,"link",t),tt(l),r.head.appendChild(l)}}}function Wb(t,n,r){Ln.S(t,n,r);var l=Xs;if(l&&t){var c=_s(l).hoistableStyles,h=$s(t);n=n||"default";var g=c.get(h);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(da(h)))_.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Ft.get(h))&&qf(t,r);var S=g=l.createElement("link");tt(S),ct(S,"link",t),S._p=new Promise(function(N,k){S.onload=N,S.onerror=k}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,yo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(h,g)}}}function Xb(t,n){Ln.X(t,n);var r=Xs;if(r&&t){var l=_s(r).hoistableScripts,c=Zs(t),h=l.get(c);h||(h=r.querySelector(pa(c)),h||(t=v({src:t,async:!0},n),(n=Ft.get(c))&&Yf(t,n),h=r.createElement("script"),tt(h),ct(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function $b(t,n){Ln.M(t,n);var r=Xs;if(r&&t){var l=_s(r).hoistableScripts,c=Zs(t),h=l.get(c);h||(h=r.querySelector(pa(c)),h||(t=v({src:t,async:!0,type:"module"},n),(n=Ft.get(c))&&Yf(t,n),h=r.createElement("script"),tt(h),ct(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function R_(t,n,r,l){var c=(c=ae.current)?vo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=$s(r.href),r=_s(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=$s(r.href);var h=_s(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(da(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Ft.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ft.set(t,r),h||Zb(c,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zs(r),r=_s(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $s(t){return'href="'+Ht(t)+'"'}function da(t){return'link[rel="stylesheet"]['+t+"]"}function A_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Zb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ct(n,"link",r),tt(n),t.head.appendChild(n))}function Zs(t){return'[src="'+Ht(t)+'"]'}function pa(t){return"script[async]"+t}function N_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ht(r.href)+'"]');if(l)return n.instance=l,tt(l),l;var c=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),tt(l),ct(l,"style",c),yo(l,r.precedence,t),n.instance=l;case"stylesheet":c=$s(r.href);var h=t.querySelector(da(c));if(h)return n.state.loading|=4,n.instance=h,tt(h),h;l=A_(r),(c=Ft.get(c))&&qf(l,c),h=(t.ownerDocument||t).createElement("link"),tt(h);var g=h;return g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),ct(h,"link",l),n.state.loading|=4,yo(h,r.precedence,t),n.instance=h;case"script":return h=Zs(r.src),(c=t.querySelector(pa(h)))?(n.instance=c,tt(c),c):(l=r,(c=Ft.get(h))&&(l=v({},r),Yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),tt(c),ct(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yo(l,r.precedence,t));return n.instance}function yo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)h=_;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eo=null;function O_(t,n,r){if(Eo===null){var l=new Map,c=Eo=new Map;c.set(r,l)}else c=Eo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Ar]||h[dt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(h):l.set(g,[h])}}return l}function I_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Jb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ma=null;function eT(){}function tT(t,n,r){if(ma===null)throw Error(a(475));var l=ma;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=$s(r.href),h=t.querySelector(da(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=So.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,tt(h);return}h=t.ownerDocument||t,r=A_(r),(c=Ft.get(c))&&qf(r,c),h=h.createElement("link"),tt(h);var g=h;g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),ct(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=So.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function nT(){if(ma===null)throw Error(a(475));var t=ma;return t.stylesheets&&t.count===0&&Ff(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function So(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bo=null;function Ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bo=new Map,n.forEach(iT,t),bo=null,So.call(t))}function iT(t,n){if(!(n.state.loading&4)){var r=bo.get(t);if(r)var l=r.get(null);else{r=new Map,bo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=r.get(g)||l,h===l&&r.set(null,c),r.set(g,c),this.count++,l=So.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ga={$$typeof:K,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function sT(t,n,r,l,c,h,g,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ju(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.hiddenUpdates=ju(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function M_(t,n,r,l,c,h,g,_,S,N,k,P){return t=new sT(t,n,r,g,_,S,N,P),n=1,h===!0&&(n|=24),h=Mt(3,null,null,n),t.current=h,h.stateNode=t,n=Rc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},Ic(h),t}function x_(t){return t?(t=Os,t):Os}function k_(t,n,r,l,c,h){c=x_(c),l.context===null?l.context=c:l.pendingContext=c,l=Jn(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=ei(t,l,n),r!==null&&(Pt(r,t,n),Fr(r,t,n))}function L_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Kf(t,n){L_(t,n),(t=t.alternate)&&L_(t,n)}function U_(t){if(t.tag===13){var n=Ns(t,67108864);n!==null&&Pt(n,t,67108864),Kf(t,67108864)}}var To=!0;function rT(t,n,r,l){var c=x.T;x.T=null;var h=V.p;try{V.p=2,Qf(t,n,r,l)}finally{V.p=h,x.T=c}}function aT(t,n,r,l){var c=x.T;x.T=null;var h=V.p;try{V.p=8,Qf(t,n,r,l)}finally{V.p=h,x.T=c}}function Qf(t,n,r,l){if(To){var c=Wf(l);if(c===null)Lf(t,n,l,Co,r),z_(t,l);else if(oT(c,t,n,r,l))l.stopPropagation();else if(z_(t,l),n&4&&-1<lT.indexOf(t)){for(;c!==null;){var h=gs(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Ui(h.pendingLanes);if(g!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var S=1<<31-It(g);_.entanglements[1]|=S,g&=~S}mn(h),(Re&6)===0&&(ao=cn()+500,ua(0))}}break;case 13:_=Ns(h,2),_!==null&&Pt(_,h,2),oo(),Kf(h,2)}if(h=Wf(l),h===null&&Lf(t,n,l,Co,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else Lf(t,n,l,null,r)}}function Wf(t){return t=Ju(t),Xf(t)}var Co=null;function Xf(t){if(Co=null,t=ms(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Co=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(FS()){case $d:return 2;case Zd:return 8;case ml:case KS:return 32;case Jd:return 268435456;default:return 32}default:return 32}}var $f=!1,di=null,pi=null,mi=null,_a=new Map,va=new Map,gi=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(t,n){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":_a.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(n.pointerId)}}function ya(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=gs(n),n!==null&&U_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function oT(t,n,r,l,c){switch(n){case"focusin":return di=ya(di,t,n,r,l,c),!0;case"dragenter":return pi=ya(pi,t,n,r,l,c),!0;case"mouseover":return mi=ya(mi,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return _a.set(h,ya(_a.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,va.set(h,ya(va.get(h)||null,t,n,r,l,c)),!0}return!1}function H_(t){var n=ms(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,t0(t.priority,function(){if(r.tag===13){var l=Ut();l=Gu(l);var c=Ns(r,l);c!==null&&Pt(c,r,l),Kf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Wf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Zu=l,r.target.dispatchEvent(l),Zu=null}else return n=gs(r),n!==null&&U_(n),t.blockedOn=r,!1;n.shift()}return!0}function B_(t,n,r){wo(t)&&r.delete(n)}function uT(){$f=!1,di!==null&&wo(di)&&(di=null),pi!==null&&wo(pi)&&(pi=null),mi!==null&&wo(mi)&&(mi=null),_a.forEach(B_),va.forEach(B_)}function Ro(t,n){t.blockedOn===n&&(t.blockedOn=null,$f||($f=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,uT)))}var Ao=null;function j_(t){Ao!==t&&(Ao=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ao===t&&(Ao=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Xf(l||r)===null)continue;break}var h=gs(r);h!==null&&(t.splice(n,3),n-=3,Wc(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ea(t){function n(S){return Ro(S,t)}di!==null&&Ro(di,t),pi!==null&&Ro(pi,t),mi!==null&&Ro(mi,t),_a.forEach(n),va.forEach(n);for(var r=0;r<gi.length;r++){var l=gi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gi.length&&(r=gi[0],r.blockedOn===null);)H_(r),r.blockedOn===null&&gi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],g=c[bt]||null;if(typeof h=="function")g||j_(r);else if(g){var _=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[bt]||null)_=g.formAction;else if(Xf(c)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),j_(r)}}}function Zf(t){this._internalRoot=t}No.prototype.render=Zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Ut();k_(r,l,t,n,null,null)},No.prototype.unmount=Zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;k_(t.current,2,null,t,null,null),oo(),n[ps]=null}};function No(t){this._internalRoot=t}No.prototype.unstable_scheduleHydration=function(t){if(t){var n=sp();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gi.length&&n!==0&&n<gi[r].priority;r++);gi.splice(r,0,t),r===0&&H_(t)}};var G_=e.version;if(G_!=="19.1.0")throw Error(a(527,G_,"19.1.0"));V.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var cT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Cr=Oo.inject(cT),Ot=Oo}catch{}}return ba.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=sg,h=rg,g=ag,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=M_(t,1,!1,null,null,r,l,c,h,g,_,null),t[ps]=n.current,kf(t),new Zf(n)},ba.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",h=sg,g=rg,_=ag,S=null,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(N=r.formState)),n=M_(t,1,!0,n,r??null,l,c,h,g,_,S,N),n.context=x_(null),r=n.current,l=Ut(),l=Gu(l),c=Jn(l),c.callback=null,ei(r,c,l),r=l,n.current.lanes=r,Rr(n,r),mn(n),t[ps]=n.current,kf(t),new No(n)},ba.version="19.1.0",ba}var Z_;function ET(){if(Z_)return th.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),th.exports=yT(),th.exports}var ST=ET();const bT=_y(ST);var Ta={},J_;function TT(){if(J_)return Ta;J_=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.parse=f,Ta.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function f(y,R){const C=new u,M=y.length;if(M<2)return C;const L=(R==null?void 0:R.decode)||v;let H=0;do{const G=y.indexOf("=",H);if(G===-1)break;const K=y.indexOf(";",H),re=K===-1?M:K;if(G>re){H=y.lastIndexOf(";",G-1)+1;continue}const Q=d(y,H,G),we=p(y,G,Q),ve=y.slice(Q,we);if(C[ve]===void 0){let W=d(y,G+1,re),J=p(y,re,W);const Ee=L(y.slice(W,J));C[ve]=Ee}H=re+1}while(H<M);return C}function d(y,R,C){do{const M=y.charCodeAt(R);if(M!==32&&M!==9)return R}while(++R<C);return C}function p(y,R,C){for(;R>C;){const M=y.charCodeAt(--R);if(M!==32&&M!==9)return R+1}return C}function m(y,R,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(y))throw new TypeError(`argument name is invalid: ${y}`);const L=M(R);if(!e.test(L))throw new TypeError(`argument val is invalid: ${R}`);let H=y+"="+L;if(!C)return H;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);H+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);H+="; Domain="+C.domain}if(C.path){if(!a.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);H+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);H+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(H+="; HttpOnly"),C.secure&&(H+="; Secure"),C.partitioned&&(H+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return H}function v(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function E(y){return o.call(y)==="[object Date]"}return Ta}TT();var ev="popstate";function CT(s={}){function e(a,o){let{pathname:u,search:f,hash:d}=a.location;return bh("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Ha(o)}return RT(e,i,null,s)}function je(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ln(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function tv(s,e){return{usr:s.state,key:s.key,idx:e}}function bh(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?pr(e):e,state:i,key:e&&e.key||a||wT()}}function Ha({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function pr(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function RT(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,d="POP",p=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function E(){d="POP";let L=v(),H=L==null?null:L-m;m=L,p&&p({action:d,location:M.location,delta:H})}function y(L,H){d="PUSH";let G=bh(M.location,L,H);m=v()+1;let K=tv(G,m),re=M.createHref(G);try{f.pushState(K,"",re)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(re)}u&&p&&p({action:d,location:M.location,delta:1})}function R(L,H){d="REPLACE";let G=bh(M.location,L,H);m=v();let K=tv(G,m),re=M.createHref(G);f.replaceState(K,"",re),u&&p&&p({action:d,location:M.location,delta:0})}function C(L){return AT(L)}let M={get action(){return d},get location(){return s(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ev,E),p=L,()=>{o.removeEventListener(ev,E),p=null}},createHref(L){return e(o,L)},createURL:C,encodeLocation(L){let H=C(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:y,replace:R,go(L){return f.go(L)}};return M}function AT(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),je(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Ha(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function yy(s,e,i="/"){return NT(s,e,i,!1)}function NT(s,e,i,a){let o=typeof e=="string"?pr(e):e,u=Gn(o.pathname||"/",i);if(u==null)return null;let f=Ey(s);OT(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let m=BT(u);d=zT(f[p],m,a)}return d}function Ey(s,e=[],i=[],a=""){let o=(u,f,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(je(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let m=Hn([a,p.relativePath]),v=i.concat(p);u.children&&u.children.length>0&&(je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ey(u.children,e,v,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:UT(m,u.index),routesMeta:v})};return s.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let p of Sy(u.path))o(u,f,p)}),e}function Sy(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=Sy(a.join("/")),d=[];return d.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...f),d.map(p=>s.startsWith("/")&&p===""?"/":p)}function OT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:PT(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var IT=/^:[\w-]+$/,DT=3,MT=2,xT=1,kT=10,LT=-2,nv=s=>s==="*";function UT(s,e){let i=s.split("/"),a=i.length;return i.some(nv)&&(a+=LT),e&&(a+=MT),i.filter(o=>!nv(o)).reduce((o,u)=>o+(IT.test(u)?DT:u===""?xT:kT),a)}function PT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function zT(s,e,i=!1){let{routesMeta:a}=s,o={},u="/",f=[];for(let d=0;d<a.length;++d){let p=a[d],m=d===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=Vo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),y=p.route;if(!E&&m&&i&&!a[a.length-1].route.index&&(E=Vo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:Hn([u,E.pathname]),pathnameBase:qT(Hn([u,E.pathnameBase])),route:y}),E.pathnameBase!=="/"&&(u=Hn([u,E.pathnameBase]))}return f}function Vo(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=HT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:E},y)=>{if(v==="*"){let C=d[y]||"";f=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const R=d[y];return E&&!R?m[v]=void 0:m[v]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:s}}function HT(s,e=!1,i=!0){ln(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function BT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ln(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Gn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function jT(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?pr(s):s;return{pathname:i?i.startsWith("/")?i:GT(i,e):e,search:YT(a),hash:FT(o)}}function GT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function rh(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Xh(s){let e=VT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function $h(s,e,i,a=!1){let o;typeof s=="string"?o=pr(s):(o={...s},je(!o.pathname||!o.pathname.includes("?"),rh("?","pathname","search",o)),je(!o.pathname||!o.pathname.includes("#"),rh("#","pathname","hash",o)),je(!o.search||!o.search.includes("#"),rh("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=i;else{let E=e.length-1;if(!a&&f.startsWith("..")){let y=f.split("/");for(;y[0]==="..";)y.shift(),E-=1;o.pathname=y.join("/")}d=E>=0?e[E]:"/"}let p=jT(o,d),m=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Hn=s=>s.join("/").replace(/\/\/+/g,"/"),qT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,FT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function KT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var by=["POST","PUT","PATCH","DELETE"];new Set(by);var QT=["GET",...by];new Set(QT);var mr=I.createContext(null);mr.displayName="DataRouter";var gu=I.createContext(null);gu.displayName="DataRouterState";var Ty=I.createContext({isTransitioning:!1});Ty.displayName="ViewTransition";var WT=I.createContext(new Map);WT.displayName="Fetchers";var XT=I.createContext(null);XT.displayName="Await";var un=I.createContext(null);un.displayName="Navigation";var Za=I.createContext(null);Za.displayName="Location";var vn=I.createContext({outlet:null,matches:[],isDataRoute:!1});vn.displayName="Route";var Zh=I.createContext(null);Zh.displayName="RouteError";function $T(s,{relative:e}={}){je(gr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=I.useContext(un),{hash:o,pathname:u,search:f}=Ja(s,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:Hn([i,u])),a.createHref({pathname:d,search:f,hash:o})}function gr(){return I.useContext(Za)!=null}function yn(){return je(gr(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Za).location}var Cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wy(s){I.useContext(un).static||I.useLayoutEffect(s)}function _u(){let{isDataRoute:s}=I.useContext(vn);return s?cC():ZT()}function ZT(){je(gr(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(mr),{basename:e,navigator:i}=I.useContext(un),{matches:a}=I.useContext(vn),{pathname:o}=yn(),u=JSON.stringify(Xh(a)),f=I.useRef(!1);return wy(()=>{f.current=!0}),I.useCallback((p,m={})=>{if(ln(f.current,Cy),!f.current)return;if(typeof p=="number"){i.go(p);return}let v=$h(p,JSON.parse(u),o,m.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hn([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,u,o,s])}I.createContext(null);function Ja(s,{relative:e}={}){let{matches:i}=I.useContext(vn),{pathname:a}=yn(),o=JSON.stringify(Xh(i));return I.useMemo(()=>$h(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function JT(s,e){return Ry(s,e)}function Ry(s,e,i,a){var H;je(gr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=I.useContext(un),{matches:u}=I.useContext(vn),f=u[u.length-1],d=f?f.params:{},p=f?f.pathname:"/",m=f?f.pathnameBase:"/",v=f&&f.route;{let G=v&&v.path||"";Ay(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let E=yn(),y;if(e){let G=typeof e=="string"?pr(e):e;je(m==="/"||((H=G.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${G.pathname}" was given in the \`location\` prop.`),y=G}else y=E;let R=y.pathname||"/",C=R;if(m!=="/"){let G=m.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(G.length).join("/")}let M=yy(s,{pathname:C});ln(v||M!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ln(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=sC(M&&M.map(G=>Object.assign({},G,{params:Object.assign({},d,G.params),pathname:Hn([m,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?m:Hn([m,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,i,a);return e&&L?I.createElement(Za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},L):L}function eC(){let s=uC(),e=KT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:o},i):null,f)}var tC=I.createElement(eC,null),nC=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?I.createElement(vn.Provider,{value:this.props.routeContext},I.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iC({routeContext:s,match:e,children:i}){let a=I.useContext(mr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(vn.Provider,{value:s},i)}function sC(s,e=[],i=null,a=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let o=s,u=i==null?void 0:i.errors;if(u!=null){let p=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,d=-1;if(i)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:E}=i,y=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||y){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,v)=>{let E,y=!1,R=null,C=null;i&&(E=u&&m.route.id?u[m.route.id]:void 0,R=m.route.errorElement||tC,f&&(d<0&&v===0?(Ay("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,C=null):d===v&&(y=!0,C=m.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,v+1)),L=()=>{let H;return E?H=R:y?H=C:m.route.Component?H=I.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=p,I.createElement(iC,{match:m,routeContext:{outlet:p,matches:M,isDataRoute:i!=null},children:H})};return i&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?I.createElement(nC,{location:i.location,revalidation:i.revalidation,component:R,error:E,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):L()},null)}function Jh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(s){let e=I.useContext(mr);return je(e,Jh(s)),e}function aC(s){let e=I.useContext(gu);return je(e,Jh(s)),e}function lC(s){let e=I.useContext(vn);return je(e,Jh(s)),e}function ed(s){let e=lC(s),i=e.matches[e.matches.length-1];return je(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function oC(){return ed("useRouteId")}function uC(){var a;let s=I.useContext(Zh),e=aC("useRouteError"),i=ed("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[i]}function cC(){let{router:s}=rC("useNavigate"),e=ed("useNavigate"),i=I.useRef(!1);return wy(()=>{i.current=!0}),I.useCallback(async(o,u={})=>{ln(i.current,Cy),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var iv={};function Ay(s,e,i){!e&&!iv[s]&&(iv[s]=!0,ln(!1,i))}I.memo(fC);function fC({routes:s,future:e,state:i}){return Ry(s,void 0,i,e)}function ah({to:s,replace:e,state:i,relative:a}){je(gr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(un);ln(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=I.useContext(vn),{pathname:f}=yn(),d=_u(),p=$h(s,Xh(u),f,a==="path"),m=JSON.stringify(p);return I.useEffect(()=>{d(JSON.parse(m),{replace:e,state:i,relative:a})},[d,m,a,e,i]),null}function yi(s){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hC({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:u=!1}){je(!gr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=pr(i));let{pathname:p="/",search:m="",hash:v="",state:E=null,key:y="default"}=i,R=I.useMemo(()=>{let C=Gn(p,f);return C==null?null:{location:{pathname:C,search:m,hash:v,state:E,key:y},navigationType:a}},[f,p,m,v,E,y,a]);return ln(R!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:I.createElement(un.Provider,{value:d},I.createElement(Za.Provider,{children:e,value:R}))}function dC({children:s,location:e}){return JT(Th(s),e)}function Th(s,e=[]){let i=[];return I.Children.forEach(s,(a,o)=>{if(!I.isValidElement(a))return;let u=[...e,o];if(a.type===I.Fragment){i.push.apply(i,Th(a.props.children,u));return}je(a.type===yi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Th(a.props.children,u)),i.push(f)}),i}var Uo="get",Po="application/x-www-form-urlencoded";function vu(s){return s!=null&&typeof s.tagName=="string"}function pC(s){return vu(s)&&s.tagName.toLowerCase()==="button"}function mC(s){return vu(s)&&s.tagName.toLowerCase()==="form"}function gC(s){return vu(s)&&s.tagName.toLowerCase()==="input"}function _C(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function vC(s,e){return s.button===0&&(!e||e==="_self")&&!_C(s)}var Io=null;function yC(){if(Io===null)try{new FormData(document.createElement("form"),0),Io=!1}catch{Io=!0}return Io}var EC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lh(s){return s!=null&&!EC.has(s)?(ln(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):s}function SC(s,e){let i,a,o,u,f;if(mC(s)){let d=s.getAttribute("action");a=d?Gn(d,e):null,i=s.getAttribute("method")||Uo,o=lh(s.getAttribute("enctype"))||Po,u=new FormData(s)}else if(pC(s)||gC(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||d.getAttribute("action");if(a=p?Gn(p,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||Uo,o=lh(s.getAttribute("formenctype"))||lh(d.getAttribute("enctype"))||Po,u=new FormData(d,s),!yC()){let{name:m,type:v,value:E}=s;if(v==="image"){let y=m?`${m}.`:"";u.append(`${y}x`,"0"),u.append(`${y}y`,"0")}else m&&u.append(m,E)}}else{if(vu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Uo,a=null,o=Po,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:f}}function td(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function bC(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function CC(s,e,i){let a=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await bC(u,i);return f.links?f.links():[]}return[]}));return NC(a.flat(1).filter(TC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sv(s,e,i,a,o,u){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,d=(p,m)=>{var v;return i[m].pathname!==p.pathname||((v=i[m].route.path)==null?void 0:v.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>f(p,m)||d(p,m)):u==="data"?e.filter((p,m)=>{var E;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function wC(s,e,{includeHydrateFallback:i}={}){return RC(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function RC(s){return[...new Set(s)]}function AC(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function NC(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let u=JSON.stringify(AC(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OC=new Set([100,101,204,205]);function IC(s,e){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":e&&Gn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Ny(){let s=I.useContext(mr);return td(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function DC(){let s=I.useContext(gu);return td(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var nd=I.createContext(void 0);nd.displayName="FrameworkContext";function Oy(){let s=I.useContext(nd);return td(s,"You must render this element inside a <HydratedRouter> element"),s}function MC(s,e){let i=I.useContext(nd),[a,o]=I.useState(!1),[u,f]=I.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,y=I.useRef(null);I.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let M=H=>{H.forEach(G=>{f(G.isIntersecting)})},L=new IntersectionObserver(M,{threshold:.5});return y.current&&L.observe(y.current),()=>{L.disconnect()}}},[s]),I.useEffect(()=>{if(a){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[a]);let R=()=>{o(!0)},C=()=>{o(!1),f(!1)};return i?s!=="intent"?[u,y,{}]:[u,y,{onFocus:Ca(d,R),onBlur:Ca(p,C),onMouseEnter:Ca(m,R),onMouseLeave:Ca(v,C),onTouchStart:Ca(E,R)}]:[!1,y,{}]}function Ca(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function xC({page:s,...e}){let{router:i}=Ny(),a=I.useMemo(()=>yy(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?I.createElement(LC,{page:s,matches:a,...e}):null}function kC(s){let{manifest:e,routeModules:i}=Oy(),[a,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return CC(s,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,i]),a}function LC({page:s,matches:e,...i}){let a=yn(),{manifest:o,routeModules:u}=Oy(),{basename:f}=Ny(),{loaderData:d,matches:p}=DC(),m=I.useMemo(()=>sv(s,e,p,o,a,"data"),[s,e,p,o,a]),v=I.useMemo(()=>sv(s,e,p,o,a,"assets"),[s,e,p,o,a]),E=I.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let C=new Set,M=!1;if(e.forEach(H=>{var K;let G=o.routes[H.route.id];!G||!G.hasLoader||(!m.some(re=>re.route.id===H.route.id)&&H.route.id in d&&((K=u[H.route.id])!=null&&K.shouldRevalidate)||G.hasClientLoader?M=!0:C.add(H.route.id))}),C.size===0)return[];let L=IC(s,f);return M&&C.size>0&&L.searchParams.set("_routes",e.filter(H=>C.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[f,d,a,o,m,e,s,u]),y=I.useMemo(()=>wC(v,o),[v,o]),R=kC(v);return I.createElement(I.Fragment,null,E.map(C=>I.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),y.map(C=>I.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),R.map(({key:C,link:M})=>I.createElement("link",{key:C,...M})))}function UC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iy&&(window.__reactRouterVersion="7.6.2")}catch{}function PC({basename:s,children:e,window:i}){let a=I.useRef();a.current==null&&(a.current=CT({window:i,v5Compat:!0}));let o=a.current,[u,f]=I.useState({action:o.action,location:o.location}),d=I.useCallback(p=>{I.startTransition(()=>f(p))},[f]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(hC,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var Dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,My=I.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:d,target:p,to:m,preventScrollReset:v,viewTransition:E,...y},R){let{basename:C}=I.useContext(un),M=typeof m=="string"&&Dy.test(m),L,H=!1;if(typeof m=="string"&&M&&(L=m,Iy))try{let J=new URL(window.location.href),Ee=m.startsWith("//")?new URL(J.protocol+m):new URL(m),ge=Gn(Ee.pathname,C);Ee.origin===J.origin&&ge!=null?m=ge+Ee.search+Ee.hash:H=!0}catch{ln(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=$T(m,{relative:o}),[K,re,Q]=MC(a,y),we=jC(m,{replace:f,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:E});function ve(J){e&&e(J),J.defaultPrevented||we(J)}let W=I.createElement("a",{...y,...Q,href:L||G,onClick:H||u?e:ve,ref:UC(R,re),target:p,"data-discover":!M&&i==="render"?"true":void 0});return K&&!M?I.createElement(I.Fragment,null,W,I.createElement(xC,{page:G})):W});My.displayName="Link";var zC=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:d,children:p,...m},v){let E=Ja(f,{relative:m.relative}),y=yn(),R=I.useContext(gu),{navigator:C,basename:M}=I.useContext(un),L=R!=null&&FC(E)&&d===!0,H=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,G=y.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(G=G.toLowerCase(),K=K?K.toLowerCase():null,H=H.toLowerCase()),K&&M&&(K=Gn(K,M)||K);const re=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Q=G===H||!o&&G.startsWith(H)&&G.charAt(re)==="/",we=K!=null&&(K===H||!o&&K.startsWith(H)&&K.charAt(H.length)==="/"),ve={isActive:Q,isPending:we,isTransitioning:L},W=Q?e:void 0,J;typeof a=="function"?J=a(ve):J=[a,Q?"active":null,we?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof u=="function"?u(ve):u;return I.createElement(My,{...m,"aria-current":W,className:J,ref:v,style:Ee,to:f,viewTransition:d},typeof p=="function"?p(ve):p)});zC.displayName="NavLink";var HC=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:u,method:f=Uo,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:E,...y},R)=>{let C=qC(),M=YC(d,{relative:m}),L=f.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Dy.test(d),G=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,Q=(re==null?void 0:re.getAttribute("formmethod"))||f;C(re||K.currentTarget,{fetcherKey:e,method:Q,navigate:i,replace:o,state:u,relative:m,preventScrollReset:v,viewTransition:E})};return I.createElement("form",{ref:R,method:L,action:M,onSubmit:a?p:G,...y,"data-discover":!H&&s==="render"?"true":void 0})});HC.displayName="Form";function BC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xy(s){let e=I.useContext(mr);return je(e,BC(s)),e}function jC(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=_u(),p=yn(),m=Ja(s,{relative:u});return I.useCallback(v=>{if(vC(v,e)){v.preventDefault();let E=i!==void 0?i:Ha(p)===Ha(m);d(s,{replace:E,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,d,m,i,a,e,s,o,u,f])}var GC=0,VC=()=>`__${String(++GC)}__`;function qC(){let{router:s}=xy("useSubmit"),{basename:e}=I.useContext(un),i=oC();return I.useCallback(async(a,o={})=>{let{action:u,method:f,encType:d,formData:p,body:m}=SC(a,e);if(o.navigate===!1){let v=o.fetcherKey||VC();await s.fetch(v,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function YC(s,{relative:e}={}){let{basename:i}=I.useContext(un),a=I.useContext(vn);je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Ja(s||".",{relative:e})},f=yn();if(s==null){u.search=f.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Hn([i,u.pathname])),Ha(u)}function FC(s,e={}){let i=I.useContext(Ty);je(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xy("useViewTransitionState"),o=Ja(s,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Gn(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=Gn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Vo(o.pathname,f)!=null||Vo(o.pathname,u)!=null}[...OC];const qo={NUM_TOKENS:15,ERROR_TIMEOUT:4e3,VIBRATION_DURATION:1e3,MOBILE_BREAKPOINT:600},Oa={apiKey:"AIzaSyDWMkL3P7OWlosSFXXRg8gvUQg6-7Y9uu8",authDomain:"esp32door-control.firebaseapp.com",databaseURL:"https://esp32door-control-default-rtdb.firebaseio.com/",projectId:"esp32door-control",storageBucket:"esp32door-control.appspot.com",messagingSenderId:"605127991992",appId:"1:605127991992:web:4d0dccf6ae2d874603ca4d",measurementId:"G-91SJ3GLZ0Z"},_t={ANIMATION_DELAYS:{BUTTON_STAGGER:.1},STORAGE_KEYS:{SETTINGS_MESSAGES:"settingsMessages"},BUTTON_STATES:{OPEN:"open",CLOSED:"closed",HELLO:"hello"},ERROR_MESSAGES:{UPDATE_NAME_FAILED:"Failed to update name."}},at={HOME:"/home",SETTINGS:"/settings",CAMERA:"/camera",PROFILE:"/profile",AUTH:"/auth"},rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Kt={SET_SETTINGS_MESSAGES:"SET_SETTINGS_MESSAGES",ADD_SETTINGS_MESSAGE:"ADD_SETTINGS_MESSAGE",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",SET_CAMERA_LOADING:"SET_CAMERA_LOADING",SET_CAMERA_FADING:"SET_CAMERA_FADING"},KC={settingsMessages:[],error:null,isCameraLoading:!0,isCameraFading:!1};function QC(s,e){switch(e.type){case Kt.SET_SETTINGS_MESSAGES:return{...s,settingsMessages:e.payload};case Kt.ADD_SETTINGS_MESSAGE:return{...s,settingsMessages:[...s.settingsMessages,e.payload]};case Kt.SET_ERROR:return{...s,error:e.payload};case Kt.CLEAR_ERROR:return{...s,error:null};case Kt.SET_CAMERA_LOADING:return{...s,isCameraLoading:e.payload};case Kt.SET_CAMERA_FADING:return{...s,isCameraFading:e.payload};default:return s}}const ky=I.createContext(),WC=s=>{const e=localStorage.getItem(_t.STORAGE_KEYS.SETTINGS_MESSAGES);if(e)try{const i=JSON.parse(e);return{...s,settingsMessages:i}}catch(i){console.error("Failed to parse settings messages:",i)}return s};function XC({children:s}){const[e,i]=I.useReducer(QC,KC,WC);I.useEffect(()=>{localStorage.setItem(_t.STORAGE_KEYS.SETTINGS_MESSAGES,JSON.stringify(e.settingsMessages))},[e.settingsMessages]);const a=I.useCallback(v=>{i({type:Kt.ADD_SETTINGS_MESSAGE,payload:v})},[]),o=I.useCallback(v=>{i({type:Kt.SET_SETTINGS_MESSAGES,payload:v})},[]),u=I.useCallback(v=>{i({type:Kt.SET_ERROR,payload:v})},[]),f=I.useCallback(()=>{i({type:Kt.CLEAR_ERROR})},[]),d=I.useCallback(v=>{i({type:Kt.SET_CAMERA_LOADING,payload:v})},[]),p=I.useCallback(v=>{i({type:Kt.SET_CAMERA_FADING,payload:v})},[]),m={...e,addSettingsMessage:a,setSettingsMessages:o,setError:u,clearError:f,setCameraLoading:d,setCameraFading:p};return B.jsx(ky.Provider,{value:m,children:s})}const $C=()=>{};var av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(s,e){if(!s)throw _r(e)},_r=function(s){return new Error("Firebase Database ("+Ly.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZC=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],d=s[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],f=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},id={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,d=f?s[o+1]:0,p=o+2<s.length,m=p?s[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let y=(d&15)<<2|m>>6,R=m&63;p||(R=64,f||(y=64)),a.push(i[v],i[E],i[y],i[R])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Uy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ZC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const E=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||d==null||m==null||E==null)throw new JC;const y=u<<2|d>>4;if(a.push(y),m!==64){const R=d<<4&240|m>>2;if(a.push(R),E!==64){const C=m<<6&192|E;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class JC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Py=function(s){const e=Uy(s);return id.encodeByteArray(e,!0)},Yo=function(s){return Py(s).replace(/\./g,"")},Fo=function(s){try{return id.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(s){return zy(void 0,s)}function zy(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!t1(i)||(s[i]=zy(s[i],e[i]));return s}function t1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=()=>n1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof av>"u")return;const s=av.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},r1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Fo(s[1]);return e&&JSON.parse(e)},sd=()=>{try{return $C()||i1()||s1()||r1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Hy=s=>{var e,i;return(i=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},a1=s=>{const e=Hy(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},By=()=>{var s;return(s=sd())===null||s===void 0?void 0:s.config},jy=s=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(s){return s.endsWith(".cloudworkstations.dev")}async function Gy(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Yo(JSON.stringify(i)),Yo(JSON.stringify(f)),""].join(".")}const Ma={};function o1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ma))Ma[e]?s.emulator.push(e):s.prod.push(e);return s}function u1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let lv=!1;function yu(s,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Ma[s]===e||Ma[s]||lv)return;Ma[s]=e;function i(y){return`__firebase__banner__${y}`}const a="__firebase__banner",u=o1().prod.length>0;function f(){const y=document.getElementById(a);y&&y.remove()}function d(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function p(y,R){y.setAttribute("width","24"),y.setAttribute("id",R),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function m(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{lv=!0,f()},y}function v(y,R){y.setAttribute("id",R),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function E(){const y=u1(a),R=i("text"),C=document.getElementById(R)||document.createElement("span"),M=i("learnmore"),L=document.getElementById(M)||document.createElement("a"),H=i("preprendIcon"),G=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const K=y.element;d(K),v(L,M);const re=m();p(G,H),K.append(G,C,L,re),document.body.appendChild(K)}u?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function c1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Vy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h1(){const s=Et();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function d1(){return Ly.NODE_ADMIN===!0}function p1(){try{return typeof indexedDB=="object"}catch{return!1}}function m1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="FirebaseError";class xi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=g1,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?_1(u,a):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new xi(o,d,a)}}function _1(s,e){return s.replace(v1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const v1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(s){return JSON.parse(s)}function et(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=function(s){let e={},i={},a={},o="";try{const u=s.split(".");e=Ba(Fo(u[0])||""),i=Ba(Fo(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},y1=function(s){const e=qy(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},E1=function(s){const e=qy(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function lr(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function Ch(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ko(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function ss(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=s[o],f=e[o];if(ov(u)&&ov(f)){if(!ss(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function ov(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ia(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Da(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)a[E]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let E=0;E<16;E++)a[E]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let E=16;E<80;E++){const y=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,v;for(let E=0;E<80;E++){E<40?E<20?(m=d^u&(f^d),v=1518500249):(m=u^f^d,v=1859775393):E<60?(m=u&f|d&(u|f),v=2400959708):(m=u^f^d,v=3395469782);const y=(o<<5|o>>>27)+m+p+v+a[E]&4294967295;p=d,d=f,f=(u<<30|u>>>2)&4294967295,u=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[o]>>u&255,++a;return e}}function b1(s,e){const i=new T1(s,e);return i.subscribe.bind(i)}class T1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");C1(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=oh),o.error===void 0&&(o.error=oh),o.complete===void 0&&(o.complete=oh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function oh(){}function Eu(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,j(a<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(a)-56320;o=65536+(u<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Su=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(s){return s&&s._delegate?s._delegate:s}class rs{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new el;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N1(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&f.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:A1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A1(s){return s===ts?void 0:s}function N1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new R1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const I1={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},D1=De.INFO,M1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},x1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=M1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ad{constructor(e){this.name=e,this._logLevel=D1,this._logHandler=x1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const k1=(s,e)=>e.some(i=>s instanceof i);let uv,cv;function L1(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yy=new WeakMap,wh=new WeakMap,Fy=new WeakMap,uh=new WeakMap,ld=new WeakMap;function P1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(wi(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Yy.set(i,s)}).catch(()=>{}),ld.set(e,s),e}function z1(s){if(wh.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});wh.set(s,e)}let Rh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return wh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Fy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function H1(s){Rh=s(Rh)}function B1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(ch(this),e,...i);return Fy.set(a,e.sort?e.sort():[e]),wi(a)}:U1().includes(s)?function(...e){return s.apply(ch(this),e),wi(Yy.get(this))}:function(...e){return wi(s.apply(ch(this),e))}}function j1(s){return typeof s=="function"?B1(s):(s instanceof IDBTransaction&&z1(s),k1(s,L1())?new Proxy(s,Rh):s)}function wi(s){if(s instanceof IDBRequest)return P1(s);if(uh.has(s))return uh.get(s);const e=j1(s);return e!==s&&(uh.set(s,e),ld.set(e,s)),e}const ch=s=>ld.get(s);function G1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),d=wi(f);return a&&f.addEventListener("upgradeneeded",p=>{a(wi(f.result),p.oldVersion,p.newVersion,wi(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const V1=["get","getKey","getAll","getAllKeys","count"],q1=["put","add","delete","clear"],fh=new Map;function fv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=q1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||V1.includes(i)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let m=p.store;return a&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),o&&p.done]))[0]};return fh.set(e,u),u}H1(s=>({...s,get:(e,i,a)=>fv(e,i)||s.get(e,i,a),has:(e,i)=>!!fv(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(F1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function F1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ah="@firebase/app",hv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new ad("@firebase/app"),K1="@firebase/app-compat",Q1="@firebase/analytics-compat",W1="@firebase/analytics",X1="@firebase/app-check-compat",$1="@firebase/app-check",Z1="@firebase/auth",J1="@firebase/auth-compat",ew="@firebase/database",tw="@firebase/data-connect",nw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",rw="@firebase/installations",aw="@firebase/installations-compat",lw="@firebase/messaging",ow="@firebase/messaging-compat",uw="@firebase/performance",cw="@firebase/performance-compat",fw="@firebase/remote-config",hw="@firebase/remote-config-compat",dw="@firebase/storage",pw="@firebase/storage-compat",mw="@firebase/firestore",gw="@firebase/vertexai",_w="@firebase/firestore-compat",vw="firebase",yw="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="[DEFAULT]",Ew={[Ah]:"fire-core",[K1]:"fire-core-compat",[W1]:"fire-analytics",[Q1]:"fire-analytics-compat",[$1]:"fire-app-check",[X1]:"fire-app-check-compat",[Z1]:"fire-auth",[J1]:"fire-auth-compat",[ew]:"fire-rtdb",[tw]:"fire-data-connect",[nw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[rw]:"fire-iid",[aw]:"fire-iid-compat",[lw]:"fire-fcm",[ow]:"fire-fcm-compat",[uw]:"fire-perf",[cw]:"fire-perf-compat",[fw]:"fire-rc",[hw]:"fire-rc-compat",[dw]:"fire-gcs",[pw]:"fire-gcs-compat",[mw]:"fire-fst",[_w]:"fire-fst-compat",[gw]:"fire-vertex","fire-js":"fire-js",[vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Map,Sw=new Map,Oh=new Map;function dv(s,e){try{s.container.addComponent(e)}catch(i){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function or(s){const e=s.name;if(Oh.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Oh.set(e,s);for(const i of Qo.values())dv(i,s);for(const i of Sw.values())dv(i,s);return!0}function od(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Qt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new nl("app","Firebase",bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=yw;function Ky(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Nh,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(i||(i=By()),!i)throw Ri.create("no-options");const u=Qo.get(o);if(u){if(ss(i,u.options)&&ss(a,u.config))return u;throw Ri.create("duplicate-app",{appName:o})}const f=new O1(o);for(const p of Oh.values())f.addComponent(p);const d=new Tw(i,a,f);return Qo.set(o,d),d}function Qy(s=Nh){const e=Qo.get(s);if(!e&&s===Nh&&By())return Ky();if(!e)throw Ri.create("no-app",{appName:s});return e}function Ai(s,e,i){var a;let o=(a=Ew[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(d.join(" "));return}or(new rs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebase-heartbeat-database",ww=1,ja="firebase-heartbeat-store";let hh=null;function Wy(){return hh||(hh=G1(Cw,ww,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ja)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ri.create("idb-open",{originalErrorMessage:s.message})})),hh}async function Rw(s){try{const i=(await Wy()).transaction(ja),a=await i.objectStore(ja).get(Xy(s));return await i.done,a}catch(e){if(e instanceof xi)Vn.warn(e.message);else{const i=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vn.warn(i.message)}}}async function pv(s,e){try{const a=(await Wy()).transaction(ja,"readwrite");await a.objectStore(ja).put(e,Xy(s)),await a.done}catch(i){if(i instanceof xi)Vn.warn(i.message);else{const a=Ri.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vn.warn(a.message)}}}function Xy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,Nw=30;class Ow{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Dw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=mv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Nw){const f=Mw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vn.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=mv(),{heartbeatsToSend:a,unsentEntries:o}=Iw(this._heartbeatsCache.heartbeats),u=Yo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Vn.warn(i),""}}}function mv(){return new Date().toISOString().substring(0,10)}function Iw(s,e=Aw){const i=[];let a=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),gv(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),gv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Dw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p1()?m1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Rw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function gv(s){return Yo(JSON.stringify({version:2,heartbeats:s})).length}function Mw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(s){or(new rs("platform-logger",e=>new Y1(e),"PRIVATE")),or(new rs("heartbeat",e=>new Ow(e),"PRIVATE")),Ai(Ah,hv,s),Ai(Ah,hv,"esm2017"),Ai("fire-js","")}xw("");function ud(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function $y(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kw=$y,Zy=new nl("auth","Firebase",$y());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new ad("@firebase/auth");function Lw(s,...e){Wo.logLevel<=De.WARN&&Wo.warn(`Auth (${yr}): ${s}`,...e)}function zo(s,...e){Wo.logLevel<=De.ERROR&&Wo.error(`Auth (${yr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(s,...e){throw cd(s,...e)}function gn(s,...e){return cd(s,...e)}function Jy(s,e,i){const a=Object.assign(Object.assign({},kw()),{[e]:i});return new nl("auth","Firebase",a).create(e,{appName:s.name})}function Bn(s){return Jy(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cd(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Zy.create(s,...e)}function ne(s,e,...i){if(!s)throw cd(e,...i)}function Un(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zo(e),new Error(e)}function qn(s,e){s||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function Uw(){return _v()==="http:"||_v()==="https:"}function _v(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uw()||f1()||"connection"in navigator)?navigator.onLine:!0}function zw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,i){this.shortDelay=e,this.longDelay=i,qn(i>e,"Short delay should be less than long delay!"),this.isMobile=rd()||Vy()}get(){return Pw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(s,e){qn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jw=new il(3e4,6e4);function ki(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Li(s,e,i,a,o={}){return tE(s,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const d=vr(Object.assign({key:s.config.apiKey},f)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const m=Object.assign({method:e,headers:p},u);return c1()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&tl(s.emulatorConfig.host)&&(m.credentials="include"),eE.fetch()(await nE(s,s.config.apiHost,i,d),m)})}async function tE(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},Hw),e);try{const o=new Vw(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Do(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Do(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Do(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Do(s,"user-disabled",f);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Jy(s,v,m);on(s,v)}}catch(o){if(o instanceof xi)throw o;on(s,"network-request-failed",{message:String(o)})}}async function sl(s,e,i,a,o={}){const u=await Li(s,e,i,a,o);return"mfaPendingCredential"in u&&on(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function nE(s,e,i,a){const o=`${e}${i}?${a}`,u=s,f=u.config.emulator?fd(s.config,o):`${s.config.apiScheme}://${o}`;return Bw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Gw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(gn(this.auth,"network-request-failed")),jw.get())})}}function Do(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=gn(s,e,a);return o.customData._tokenResponse=i,o}function vv(s){return s!==void 0&&s.enterprise!==void 0}class qw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Gw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yw(s,e){return Li(s,"GET","/v2/recaptchaConfig",ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(s,e){return Li(s,"POST","/v1/accounts:delete",e)}async function Xo(s,e){return Li(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kw(s,e=!1){const i=St(s),a=await i.getIdToken(e),o=hd(a);ne(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:xa(dh(o.auth_time)),issuedAtTime:xa(dh(o.iat)),expirationTime:xa(dh(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dh(s){return Number(s)*1e3}function hd(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fo(i);return o?JSON.parse(o):(zo("Failed to decode base64 JWT payload"),null)}catch(o){return zo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function yv(s){const e=hd(s);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof xi&&Qw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Qw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(s){var e;const i=s.auth,a=await s.getIdToken(),o=await Ga(s,Xo(i,{idToken:a}));ne(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?iE(u.providerUserInfo):[],d=$w(s.providerData,f),p=s.isAnonymous,m=!(s.email&&u.passwordHash)&&!(d!=null&&d.length),v=p?m:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Dh(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(s,E)}async function Xw(s){const e=St(s);await $o(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $w(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function iE(s){return s.map(e=>{var{providerId:i}=e,a=ud(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(s,e){const i=await tE(s,{},async()=>{const a=vr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await nE(s,o,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",eE.fetch()(f,{method:"POST",headers:d,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jw(s,e){return Li(s,"POST","/v2/accounts:revokeToken",ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const i=yv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await Zw(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,f=new nr;return a&&(ne(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ne(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ne(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nr,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(s,e){ne(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class sn{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,u=ud(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ww(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Dh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return ne(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Kw(this,e)}reload(){return Xw(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new sn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await $o(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(Bn(this.auth));const e=await this.getIdToken();return await Ga(this,Fw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,u,f,d,p,m,v;const E=(a=i.displayName)!==null&&a!==void 0?a:void 0,y=(o=i.email)!==null&&o!==void 0?o:void 0,R=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,C=(f=i.photoURL)!==null&&f!==void 0?f:void 0,M=(d=i.tenantId)!==null&&d!==void 0?d:void 0,L=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,H=(m=i.createdAt)!==null&&m!==void 0?m:void 0,G=(v=i.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:re,isAnonymous:Q,providerData:we,stsTokenManager:ve}=i;ne(K&&ve,e,"internal-error");const W=nr.fromJSON(this.name,ve);ne(typeof K=="string",e,"internal-error"),vi(E,e.name),vi(y,e.name),ne(typeof re=="boolean",e,"internal-error"),ne(typeof Q=="boolean",e,"internal-error"),vi(R,e.name),vi(C,e.name),vi(M,e.name),vi(L,e.name),vi(H,e.name),vi(G,e.name);const J=new sn({uid:K,auth:e,email:y,emailVerified:re,displayName:E,isAnonymous:Q,photoURL:C,phoneNumber:R,tenantId:M,stsTokenManager:W,createdAt:H,lastLoginAt:G});return we&&Array.isArray(we)&&(J.providerData=we.map(Ee=>Object.assign({},Ee))),L&&(J._redirectEventId=L),J}static async _fromIdTokenResponse(e,i,a=!1){const o=new nr;o.updateFromServerResponse(i);const u=new sn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $o(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ne(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?iE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new nr;d.updateFromIdToken(a);const p=new sn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function Pn(s){qn(s instanceof Function,"Expected a class definition");let e=Ev.get(s);return e?(qn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Ev.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}sE.type="NONE";const Sv=sE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(s,e,i){return`firebase:${s}:${e}:${i}`}class ir{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Ho(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ho("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Xo(this.auth,{idToken:e}).catch(()=>{});return i?sn._fromGetAccountInfoResponse(this.auth,i,e):null}return sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ir(Pn(Sv),e,a);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||Pn(Sv);const f=Ho(a,e.config.apiKey,e.name);let d=null;for(const m of i)try{const v=await m._get(f);if(v){let E;if(typeof v=="string"){const y=await Xo(e,{idToken:v}).catch(()=>{});if(!y)break;E=await sn._fromGetAccountInfoResponse(e,y,v)}else E=sn._fromJSON(e,v);m!==u&&(d=E),u=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ir(u,e,a):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new ir(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(fE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||lE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function rE(s=Et()){return/firefox\//i.test(s)}function aE(s=Et()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lE(s=Et()){return/crios\//i.test(s)}function oE(s=Et()){return/iemobile/i.test(s)}function uE(s=Et()){return/android/i.test(s)}function cE(s=Et()){return/blackberry/i.test(s)}function fE(s=Et()){return/webos/i.test(s)}function dd(s=Et()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function eR(s=Et()){var e;return dd(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tR(){return h1()&&document.documentMode===10}function hE(s=Et()){return dd(s)||uE(s)||fE(s)||cE(s)||/windows phone/i.test(s)||oE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s,e=[]){let i;switch(s){case"Browser":i=bv(Et());break;case"Worker":i=`${bv(Et())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((f,d)=>{try{const p=e(u);f(p)}catch(p){d(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(s,e={}){return Li(s,"GET","/v2/passwordPolicy",ki(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=6;class rR{constructor(e){var i,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:sR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,u,f,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tv(this),this.idTokenSubscription=new Tv(this),this.beforeStateQueue=new nR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Pn(i)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await ir.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Xo(this,{idToken:e}),a=await sn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Qt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await $o(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(Bn(this));const i=e?St(e):null;return i&&ne(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(Bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(Bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iR(this),i=new rR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Jw(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Pn(e)||this._popupRedirectResolver;ne(i,this,"argument-error"),this.redirectPersistenceManager=await ir.create(this,[Pn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&Lw(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function fs(s){return St(s)}class Tv{constructor(e){this.auth=e,this.observer=null,this.addObserver=b1(i=>this.observer=i)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lR(s){bu=s}function pE(s){return bu.loadJS(s)}function oR(){return bu.recaptchaEnterpriseScript}function uR(){return bu.gapiScript}function cR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class fR{constructor(){this.enterprise=new hR}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class hR{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const dR="recaptcha-enterprise",mE="NO_RECAPTCHA";class pR{constructor(e){this.type=dR,this.auth=fs(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{Yw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new qw(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{d(p)})})}function o(u,f,d){const p=window.grecaptcha;vv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(mE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(d=>{if(!i&&vv(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oR();p.length!==0&&(p+=d),pE(p).then(()=>{o(d,u,f)}).catch(m=>{f(m)})}}).catch(d=>{f(d)})})}}async function Cv(s,e,i,a=!1,o=!1){const u=new pR(s);let f;if(o)f=mE;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Mh(s,e,i,a,o){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Cv(s,e,i,i==="getOobCode");return a(s,f)}else return a(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Cv(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(s,e){const i=od(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(ss(u,e??{}))return o;on(o,"already-initialized")}return i.initialize({options:e})}function gR(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Pn);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function _R(s,e,i){const a=fs(s);ne(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=gE(e),{host:f,port:d}=vR(e),p=d===null?"":`:${d}`,m={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ne(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ne(ss(m,a.config.emulator)&&ss(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,tl(f)?(yu("Auth",!0),Gy(`${u}//${f}${p}`)):yR()}function gE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function vR(s){const e=gE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:wv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:wv(f)}}}function wv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function yR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,i){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}async function ER(s,e){return Li(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(s,e){return sl(s,"POST","/v1/accounts:signInWithPassword",ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(s,e){return sl(s,"POST","/v1/accounts:signInWithEmailLink",ki(s,e))}async function TR(s,e){return sl(s,"POST","/v1/accounts:signInWithEmailLink",ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends pd{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Va(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Va(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,i,"signInWithPassword",SR);case"emailLink":return bR(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,a,"signUpPassword",ER);case"emailLink":return TR(e,{idToken:i,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sr(s,e){return sl(s,"POST","/v1/accounts:signInWithIdp",ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="http://localhost";class as extends pd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):on("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,u=ud(i,["providerId","signInMethod"]);if(!a||!o)return null;const f=new as(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return sr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,sr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,sr(e,i)}buildRequest(){const e={requestUri:CR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=vr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RR(s){const e=Ia(Da(s)).link,i=e?Ia(Da(e)).deep_link_id:null,a=Ia(Da(s)).deep_link_id;return(a?Ia(Da(a)).link:null)||a||i||e||s}class md{constructor(e){var i,a,o,u,f,d;const p=Ia(Da(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,v=(a=p.oobCode)!==null&&a!==void 0?a:null,E=wR((o=p.mode)!==null&&o!==void 0?o:null);ne(m&&v&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=RR(e);try{return new md(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.providerId=Er.PROVIDER_ID}static credential(e,i){return Va._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=md.parseLink(i);return ne(a,"argument-error"),Va._fromEmailAndCode(e,a.code,a.tenantId)}}Er.PROVIDER_ID="password";Er.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Er.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends _E{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends rl{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return as._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Si.credential(i,a)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends rl{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends rl{constructor(){super("twitter.com")}static credential(e,i){return as._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ti.credential(i,a)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(s,e){return sl(s,"POST","/v1/accounts:signUp",ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await sn._fromIdTokenResponse(e,a,o),f=Rv(a);return new ls({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Rv(a);return new ls({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Rv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends xi{constructor(e,i,a,o){var u;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Zo.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Zo(e,i,a,o)}}function vE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zo._fromErrorAndOperation(s,u,e,a):u})}async function NR(s,e,i=!1){const a=await Ga(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ls._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(s,e,i=!1){const{auth:a}=s;if(Qt(a.app))return Promise.reject(Bn(a));const o="reauthenticate";try{const u=await Ga(s,vE(a,o,e,s),i);ne(u.idToken,a,"internal-error");const f=hd(u.idToken);ne(f,a,"internal-error");const{sub:d}=f;return ne(s.uid===d,a,"user-mismatch"),ls._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&on(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(s,e,i=!1){if(Qt(s.app))return Promise.reject(Bn(s));const a="signIn",o=await vE(s,a,e),u=await ls._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}async function IR(s,e){return yE(fs(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(s){const e=fs(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DR(s,e,i){if(Qt(s.app))return Promise.reject(Bn(s));const a=fs(s),f=await Mh(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&EE(s),p}),d=await ls._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(d.user),d}function MR(s,e,i){return Qt(s.app)?Promise.reject(Bn(s)):IR(St(s),Er.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&EE(s),a})}function xR(s,e,i,a){return St(s).onIdTokenChanged(e,i,a)}function kR(s,e,i){return St(s).beforeAuthStateChanged(e,i)}function LR(s,e,i,a){return St(s).onAuthStateChanged(e,i,a)}function UR(s){return St(s).signOut()}const Jo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1e3,zR=10;class bE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);tR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zR):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}bE.type="LOCAL";const HR=bE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}TE.type="SESSION";const CE=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Tu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(f).map(async m=>m(i.origin,u)),p=await BR(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const m=gd("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(E){const y=E;if(y.data.eventId===m)switch(y.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(y.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function GR(s){_n().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function VR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function YR(){return wE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firebaseLocalStorageDb",FR=1,eu="firebaseLocalStorage",AE="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Cu(s,e){return s.transaction([eu],e?"readwrite":"readonly").objectStore(eu)}function KR(){const s=indexedDB.deleteDatabase(RE);return new al(s).toPromise()}function xh(){const s=indexedDB.open(RE,FR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eu,{keyPath:AE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eu)?e(a):(a.close(),await KR(),e(await xh()))})})}async function Av(s,e,i){const a=Cu(s,!0).put({[AE]:e,value:i});return new al(a).toPromise()}async function QR(s,e){const i=Cu(s,!1).get(e),a=await new al(i).toPromise();return a===void 0?null:a.value}function Nv(s,e){const i=Cu(s,!0).delete(e);return new al(i).toPromise()}const WR=800,XR=3;class NE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>XR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tu._getInstance(YR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await VR(),!this.activeServiceWorker)return;this.sender=new jR(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xh();return await Av(e,Jo,"1"),await Nv(e,Jo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Av(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>QR(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Cu(o,!1).getAll();return new al(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NE.type="LOCAL";const $R=NE;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(s,e){return e?Pn(e):(ne(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends pd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return sr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return sr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function JR(s){return yE(s.auth,new _d(s),s.bypassAuthState)}function eA(s){const{auth:e,user:i}=s;return ne(i,e,"internal-error"),OR(i,new _d(s),s.bypassAuthState)}async function tA(s){const{auth:e,user:i}=s;return ne(i,e,"internal-error"),NR(i,new _d(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JR;case"linkViaPopup":case"linkViaRedirect":return tA;case"reauthViaPopup":case"reauthViaRedirect":return eA;default:on(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new il(2e3,1e4);class er extends OE{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,er.currentPopupAction&&er.currentPopupAction.cancel(),er.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=gd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,er.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nA.get())};e()}}er.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="pendingRedirect",Bo=new Map;class sA extends OE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bo.get(this.auth._key());if(!e){try{const a=await rA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bo.set(this.auth._key(),e)}return this.bypassAuthState||Bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rA(s,e){const i=oA(e),a=lA(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function aA(s,e){Bo.set(s._key(),e)}function lA(s){return Pn(s._redirectPersistence)}function oA(s){return Ho(iA,s.config.apiKey,s.name)}async function uA(s,e,i=!1){if(Qt(s.app))return Promise.reject(Bn(s));const a=fs(s),o=ZR(a,e),f=await new sA(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=10*60*1e3;class fA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!IE(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(gn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(e))}saveEventToCache(e){this.cachedEventUids.add(Ov(e)),this.lastProcessedEventTime=Date.now()}}function Ov(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function IE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(s,e={}){return Li(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mA=/^https?/;async function gA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await dA(s);for(const i of e)try{if(_A(i))return}catch{}on(s,"unauthorized-domain")}function _A(s){const e=Ih(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!mA.test(i))return!1;if(pA.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new il(3e4,6e4);function Iv(){const s=_n().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function yA(s){return new Promise((e,i)=>{var a,o,u;function f(){Iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iv(),i(gn(s,"network-request-failed"))},timeout:vA.get()})}if(!((o=(a=_n().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=_n().gapi)===null||u===void 0)&&u.load)f();else{const d=cR("iframefcb");return _n()[d]=()=>{gapi.load?f():i(gn(s,"network-request-failed"))},pE(`${uR()}?onload=${d}`).catch(p=>i(p))}}).catch(e=>{throw jo=null,e})}let jo=null;function EA(s){return jo=jo||yA(s),jo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new il(5e3,15e3),bA="__/auth/iframe",TA="emulator/auth/iframe",CA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RA(s){const e=s.config;ne(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?fd(e,TA):`https://${s.config.authDomain}/${bA}`,a={apiKey:e.apiKey,appName:s.name,v:yr},o=wA.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${vr(a).slice(1)}`}async function AA(s){const e=await EA(s),i=_n().gapi;return ne(i,s,"internal-error"),e.open({where:document.body,url:RA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CA,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=gn(s,"network-request-failed"),d=_n().setTimeout(()=>{u(f)},SA.get());function p(){_n().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OA=500,IA=600,DA="_blank",MA="http://localhost";class Dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xA(s,e,i,a=OA,o=IA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},NA),{width:a.toString(),height:o.toString(),top:u,left:f}),m=Et().toLowerCase();i&&(d=lE(m)?DA:i),rE(m)&&(e=e||MA,p.scrollbars="yes");const v=Object.entries(p).reduce((y,[R,C])=>`${y}${R}=${C},`,"");if(eR(m)&&d!=="_self")return kA(e||"",d),new Dv(null);const E=window.open(e||"",d,v);ne(E,s,"popup-blocked");try{E.focus()}catch{}return new Dv(E)}function kA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__/auth/handler",UA="emulator/auth/handler",PA=encodeURIComponent("fac");async function Mv(s,e,i,a,o,u){ne(s.config.authDomain,s,"auth-domain-config-required"),ne(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:yr,eventId:o};if(e instanceof _E){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Ch(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))f[v]=E}if(e instanceof rl){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(f.scopes=v.join(","))}s.tenantId&&(f.tid=s.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await s._getAppCheckToken(),m=p?`#${PA}=${encodeURIComponent(p)}`:"";return`${zA(s)}?${vr(d).slice(1)}${m}`}function zA({config:s}){return s.emulator?fd(s,UA):`https://${s.authDomain}/${LA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="webStorageSupport";class HA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=uA,this._overrideRedirectResult=aA}async _openPopup(e,i,a,o){var u;qn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Mv(e,i,a,Ih(),o);return xA(e,f,gd())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await Mv(e,i,a,Ih(),o);return GR(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(qn(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await AA(e),a=new fA(e);return i.register("authEvent",o=>(ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ph,{type:ph},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ph];f!==void 0&&i(!!f),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=gA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return hE()||aE()||dd()}}const BA=HA;var xv="@firebase/auth",kv="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VA(s){or(new rs("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;ne(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(s)},m=new aR(a,o,u,p);return gR(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),or(new rs("auth-internal",e=>{const i=fs(e.getProvider("auth").getImmediate());return(a=>new jA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(xv,kv,GA(s)),Ai(xv,kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=5*60,YA=jy("authIdTokenMaxAge")||qA;let Lv=null;const FA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>YA)return;const o=i==null?void 0:i.token;Lv!==o&&(Lv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KA(s=Qy()){const e=od(s,"auth");if(e.isInitialized())return e.getImmediate();const i=mR(s,{popupRedirectResolver:BA,persistence:[$R,HR,CE]}),a=jy("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=FA(u.toString());kR(i,f,()=>f(i.currentUser)),xR(i,d=>f(d))}}const o=Hy("auth");return o?_R(i,`http://${o}`):yu("Auth",!1),i}function QA(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}lR({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=gn("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",QA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VA("Browser");var Uv={};const Pv="@firebase/database",zv="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DE="";function WA(s){DE=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ba(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new XA(e)}}catch{}return new $A},is=ME("localStorage"),ZA=ME("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new ad("@firebase/database"),JA=function(){let s=1;return function(){return s++}}(),xE=function(s){const e=w1(s),i=new S1;i.update(e);const a=i.digest();return id.encodeByteArray(a)},ll=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=ll.apply(null,a):typeof a=="object"?e+=et(a):e+=a,e+=" "}return e};let ka=null,Hv=!0;const eN=function(s,e){j(!0,"Can't turn on custom loggers persistently."),rr.logLevel=De.VERBOSE,ka=rr.log.bind(rr)},ft=function(...s){if(Hv===!0&&(Hv=!1,ka===null&&ZA.get("logging_enabled")===!0&&eN()),ka){const e=ll.apply(null,s);ka(e)}},ol=function(s){return function(...e){ft(s,...e)}},kh=function(...s){const e="FIREBASE INTERNAL ERROR: "+ll(...s);rr.error(e)},Yn=function(...s){const e=`FIREBASE FATAL ERROR: ${ll(...s)}`;throw rr.error(e),new Error(e)},yt=function(...s){const e="FIREBASE WARNING: "+ll(...s);rr.warn(e)},tN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vd=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},nN=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ur="[MIN_NAME]",os="[MAX_NAME]",hs=function(s,e){if(s===e)return 0;if(s===ur||e===os)return-1;if(e===ur||s===os)return 1;{const i=Bv(s),a=Bv(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},iN=function(s,e){return s===e?0:s<e?-1:1},wa=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+et(e))},yd=function(s){if(typeof s!="object"||s===null)return et(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=et(e[a]),i+=":",i+=yd(s[e[a]]);return i+="}",i},kE=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function ht(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const LE=function(s){j(!vd(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,u,f,d,p;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=d+a,f=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-a-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(o?1:0),m.reverse();const v=m.join("");let E="";for(p=0;p<64;p+=8){let y=parseInt(v.substr(p,8),2).toString(16);y.length===1&&(y="0"+y),E=E+y}return E.toLowerCase()},sN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function aN(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const lN=new RegExp("^-?(0*)\\d{1,10}$"),oN=-2147483648,uN=2147483647,Bv=function(s){if(lN.test(s)){const e=Number(s);if(e>=oN&&e<=uN)return e}return null},Sr=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw yt("Exception was thrown by user callback.",i),e},Math.floor(0))}},cN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},La=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Qt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class Go{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="5",UE="v",PE="s",zE="r",HE="f",BE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jE="ls",GE="p",Lh="ac",VE="websocket",qE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,i,a,o,u=!1,f="",d=!1,p=!1,m=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function dN(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function FE(s,e,i){j(typeof e=="string","typeof type must == string"),j(typeof i=="object","typeof params must == object");let a;if(e===VE)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===qE)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dN(s)&&(i.ns=s.namespace);const o=[];return ht(i,(u,f)=>{o.push(u+"="+f)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.counters_={}}incrementCounter(e,i=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return e1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh={},gh={};function Sd(s){const e=s.toString();return mh[e]||(mh[e]=new pN),mh[e]}function mN(s,e){const i=s.toString();return gh[i]||(gh[i]=e()),gh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Sr(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="start",_N="close",vN="pLPCommand",yN="pRTLPCB",KE="id",QE="pw",WE="ser",EN="cb",SN="seg",bN="ts",TN="d",CN="dframe",XE=1870,$E=30,wN=XE-$E,RN=25e3,AN=3e4;class tr{constructor(e,i,a,o,u,f,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ol(e),this.stats_=Sd(i),this.urlFn=p=>(this.appCheckToken&&(p[Lh]=this.appCheckToken),FE(i,qE,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new gN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AN)),nN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bd((...u)=>{const[f,d,p,m,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===jv)this.id=d,this.password=p;else if(f===_N)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[jv]="t",a[WE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[EN]=this.scriptTagHolder.uniqueCallbackIdentifier),a[UE]=Ed,this.transportSessionId&&(a[PE]=this.transportSessionId),this.lastSessionId&&(a[jE]=this.lastSessionId),this.applicationId&&(a[GE]=this.applicationId),this.appCheckToken&&(a[Lh]=this.appCheckToken),typeof location<"u"&&location.hostname&&BE.test(location.hostname)&&(a[zE]=HE);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tr.forceAllow_=!0}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){return tr.forceAllow_?!0:!tr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sN()&&!rN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=et(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Py(i),o=kE(a,wN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[CN]="t",a[KE]=e,a[QE]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=et(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class bd{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JA(),window[vN+this.uniqueCallbackIdentifier]=e,window[yN+this.uniqueCallbackIdentifier]=i,this.myIFrame=bd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){ft("frame writing exception"),d.stack&&ft(d.stack),ft(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ft("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[KE]=this.myID,e[QE]=this.myPW,e[WE]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$E+a.length<=XE;){const f=this.pendingSegs.shift();a=a+"&"+SN+o+"="+f.seg+"&"+bN+o+"="+f.ts+"&"+TN+o+"="+f.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(RN)),u=()=>{clearTimeout(o),a()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=16384,ON=45e3;let tu=null;typeof MozWebSocket<"u"?tu=MozWebSocket:typeof WebSocket<"u"&&(tu=WebSocket);class nn{constructor(e,i,a,o,u,f,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ol(this.connId),this.stats_=Sd(i),this.connURL=nn.connectionURL_(i,f,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,u){const f={};return f[UE]=Ed,typeof location<"u"&&location.hostname&&BE.test(location.hostname)&&(f[zE]=HE),i&&(f[PE]=i),a&&(f[jE]=a),o&&(f[Lh]=o),u&&(f[GE]=u),FE(e,VE,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let a;d1(),this.mySock=new tu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&tu!==null&&!nn.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Ba(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=et(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=kE(i,NN);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ON))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nn.responsesRequiredToBeHealthy=2;nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static get ALL_TRANSPORTS(){return[tr,nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=nn&&nn.isAvailable();let a=i&&!nn.previouslyFailed();if(e.webSocketOnly&&(i||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[nn];else{const o=this.transports_=[];for(const u of qa.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=6e4,DN=5e3,MN=10*1024,xN=100*1024,_h="t",Gv="d",kN="s",Vv="r",LN="e",qv="o",Yv="a",Fv="n",Kv="p",UN="h";class PN{constructor(e,i,a,o,u,f,d,p,m,v){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ol("c:"+this.id+":"),this.transportManager_=new qa(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=La(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(_h in e){const i=e[_h];i===Yv?this.upgradeIfSecondaryHealthy_():i===Vv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===qv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=wa("t",e),a=wa("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=wa("t",e),a=wa("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=wa(_h,e);if(Gv in e){const a=e[Gv];if(i===UN){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Fv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===kN?this.onConnectionShutdown_(a):i===Vv?this.onReset_(a):i===LN?kh("Server Error: "+a):i===qv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kh("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ed!==a&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),La(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(IN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):La(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(e){j(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends JE{static getInstance(){return new nu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=32,Wv=768;class Me{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Te(){return new Me("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ii(s){return s.pieces_.length-s.pieceNum_}function Pe(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Me(s.pieces_,e)}function Td(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function zN(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function Ya(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function eS(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Me(e,0)}function Ye(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Me)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Me(i,0)}function me(s){return s.pieceNum_>=s.pieces_.length}function vt(s,e){const i=fe(s),a=fe(e);if(i===null)return e;if(i===a)return vt(Pe(s),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function HN(s,e){const i=Ya(s,0),a=Ya(e,0);for(let o=0;o<i.length&&o<a.length;o++){const u=hs(i[o],a[o]);if(u!==0)return u}return i.length===a.length?0:i.length<a.length?-1:1}function Cd(s,e){if(Ii(s)!==Ii(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function Wt(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Ii(s)>Ii(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class BN{constructor(e,i){this.errorPrefix_=i,this.parts_=Ya(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Su(this.parts_[a]);tS(this)}}function jN(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=Su(e),tS(s)}function GN(s){const e=s.parts_.pop();s.byteLength_-=Su(e),s.parts_.length>0&&(s.byteLength_-=1)}function tS(s){if(s.byteLength_>Wv)throw new Error(s.errorPrefix_+"has a key path longer than "+Wv+" bytes ("+s.byteLength_+").");if(s.parts_.length>Qv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qv+") or object contains a cycle "+ns(s))}function ns(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends JE{static getInstance(){return new wd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=1e3,VN=60*5*1e3,Xv=30*1e3,qN=1.3,YN=3e4,FN="server_kill",$v=3;class jn extends ZE{constructor(e,i,a,o,u,f,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=jn.nextPersistentConnectionId_++,this.log_=ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ra,this.maxReconnectDelay_=VN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(et(u)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new el,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,a,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,m=d.s;jn.warnOnListenWarnings_(p,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&En(e,"w")){const a=lr(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||E1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=y1(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";o&&(u.q=a,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,u){this.initConnection_();const f={p:i,d:a};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):kh("Unrecognized action received from server: "+et(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YN&&(this.reconnectDelay_=Ra),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+jn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,a())},m=function(E){j(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(E)};this.realtime_={close:p,sendRequest:m};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,y]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=y&&y.token,d=new PN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,R=>{yt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(FN)},u))}catch(E){this.log_("Failed to get token: "+E),f||(this.repoInfo_.nodeAdmin&&yt(E),p())}}}interrupt(e){ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ch(this.interruptReasons_)&&(this.reconnectDelay_=Ra,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(u=>yd(u)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new Me(e).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){ft("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$v&&(this.reconnectDelay_=Xv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ft("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$v&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+DE.replace(/\./g,"-")]=1,rd()?e["framework.cordova"]=1:Vy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nu.getInstance().currentlyOnline();return Ch(this.interruptReasons_)&&e}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new he(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new he(ur,e),o=new he(ur,i);return this.compare(a,o)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class nS extends wu{static get __EMPTY_NODE(){return Mo}static set __EMPTY_NODE(e){Mo=e}compare(e,i){return hs(e.name,i.name)}isDefinedOn(e){throw _r("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return he.MIN}maxPost(){return new he(os,Mo)}makePost(e,i){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,Mo)}toString(){return".key"}}const ar=new nS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?a(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class lt{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??lt.RED,this.left=o??At.EMPTY_NODE,this.right=u??At.EMPTY_NODE}copy(e,i,a,o,u){return new lt(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}lt.RED=!0;lt.BLACK=!1;class KN{copy(e,i,a,o,u){return this}insert(e,i,a){return new lt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(e,i=At.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new At(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,lt.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lt.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new xo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new xo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new xo(this.root_,null,this.comparator_,!0,e)}}At.EMPTY_NODE=new KN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(s,e){return hs(s.name,e.name)}function Rd(s,e){return hs(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh;function WN(s){Uh=s}const iS=function(s){return typeof s=="number"?"number:"+LE(s):"string:"+s},sS=function(s){if(s.isLeafNode()){const e=s.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else j(s===Uh||s.isEmpty(),"priority of unexpected type.");j(s===Uh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zv;class rt{static set __childrenNodeConstructor(e){Zv=e}static get __childrenNodeConstructor(){return Zv}constructor(e,i=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:fe(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=fe(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(j(a!==".priority"||Ii(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iS(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=LE(this.value_):e+=this.value_,this.lazyHash_=xE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=rt.VALUE_TYPE_ORDER.indexOf(i),u=rt.VALUE_TYPE_ORDER.indexOf(a);return j(o>=0,"Unknown leaf type: "+i),j(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rS,aS;function XN(s){rS=s}function $N(s){aS=s}class ZN extends wu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?hs(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(os,new rt("[PRIORITY-POST]",aS))}makePost(e,i){const a=rS(e);return new he(i,new rt("[PRIORITY-POST]",a))}toString(){return".priority"}}const Fe=new ZN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=Math.log(2);class eO{constructor(e){const i=u=>parseInt(Math.log(u)/JN,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const iu=function(s,e,i,a){s.sort(e);const o=function(p,m){const v=m-p;let E,y;if(v===0)return null;if(v===1)return E=s[p],y=i?i(E):E,new lt(y,E.node,lt.BLACK,null,null);{const R=parseInt(v/2,10)+p,C=o(p,R),M=o(R+1,m);return E=s[R],y=i?i(E):E,new lt(y,E.node,lt.BLACK,C,M)}},u=function(p){let m=null,v=null,E=s.length;const y=function(C,M){const L=E-C,H=E;E-=C;const G=o(L+1,H),K=s[L],re=i?i(K):K;R(new lt(re,K.node,M,null,G))},R=function(C){m?(m.left=C,m=C):(v=C,m=C)};for(let C=0;C<p.count;++C){const M=p.nextBitIsOne(),L=Math.pow(2,p.count-(C+1));M?y(L,lt.BLACK):(y(L,lt.BLACK),y(L,lt.RED))}return v},f=new eO(s.length),d=u(f);return new At(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh;const Js={};class zn{static get Default(){return j(Js&&Fe,"ChildrenNode.ts has not been loaded"),vh=vh||new zn({".priority":Js},{".priority":Fe}),vh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=lr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof At?i:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,i){j(e!==ar,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(he.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),a.push(f),f=u.getNext();let d;o?d=iu(a,e.getCompare()):d=Js;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const v=Object.assign({},this.indexes_);return v[p]=d,new zn(v,m)}addToIndexes(e,i){const a=Ko(this.indexes_,(o,u)=>{const f=lr(this.indexSet_,u);if(j(f,"Missing index implementation for "+u),o===Js)if(f.isDefinedOn(e.node)){const d=[],p=i.getIterator(he.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),iu(d,f.getCompare())}else return Js;else{const d=i.get(e.name);let p=o;return d&&(p=p.remove(new he(e.name,d))),p.insert(e,e.node)}});return new zn(a,this.indexSet_)}removeFromIndexes(e,i){const a=Ko(this.indexes_,o=>{if(o===Js)return o;{const u=i.get(e.name);return u?o.remove(new he(e.name,u)):o}});return new zn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa;class ie{static get EMPTY_NODE(){return Aa||(Aa=new ie(new At(Rd),null,zn.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&sS(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Aa}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Aa:i}}getChild(e){const i=fe(e);return i===null?this:this.getImmediateChild(i).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(j(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new he(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(a,this.children_));const f=o.isEmpty()?Aa:this.priorityNode_;return new ie(o,f,u)}}updateChild(e,i){const a=fe(e);if(a===null)return i;{j(fe(e)!==".priority"||Ii(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Pe(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(Fe,(f,d)=>{i[f]=d.val(e),a++,u&&ie.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*a){const f=[];for(const d in i)f[d]=i[d];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+iS(this.getPriority().val())+":"),this.forEachChild(Fe,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":xE(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new he(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new he(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new he(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,he.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ul?-1:0}withIndex(e){if(e===ar||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ar||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Fe),o=i.getIterator(Fe);let u=a.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=a.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ar?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tO extends ie{constructor(){super(new At(Rd),ie.EMPTY_NODE,zn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const ul=new tO;Object.defineProperties(he,{MIN:{value:new he(ur,ie.EMPTY_NODE)},MAX:{value:new he(os,ul)}});nS.__EMPTY_NODE=ie.EMPTY_NODE;rt.__childrenNodeConstructor=ie;WN(ul);$N(ul);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=!0;function Je(s,e=null){if(s===null)return ie.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new rt(i,Je(e))}if(!(s instanceof Array)&&nO){const i=[];let a=!1;if(ht(s,(f,d)=>{if(f.substring(0,1)!=="."){const p=Je(d);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),i.push(new he(f,p)))}}),i.length===0)return ie.EMPTY_NODE;const u=iu(i,QN,f=>f.name,Rd);if(a){const f=iu(i,Fe.getCompare());return new ie(u,Je(e),new zn({".priority":f},{".priority":Fe}))}else return new ie(u,Je(e),zn.Default)}else{let i=ie.EMPTY_NODE;return ht(s,(a,o)=>{if(En(s,a)&&a.substring(0,1)!=="."){const u=Je(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(Je(e))}}XN(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends wu{constructor(e){super(),this.indexPath_=e,j(!me(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?hs(e.name,i.name):u}makePost(e,i){const a=Je(e),o=ie.EMPTY_NODE.updateChild(this.indexPath_,a);return new he(i,o)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,ul);return new he(os,e)}toString(){return Ya(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO extends wu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?hs(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,i){const a=Je(e);return new he(i,a)}toString(){return".value"}}const rO=new sO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(s){return{type:"value",snapshotNode:s}}function cr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Fa(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Ka(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function aO(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.index_=e}updateChild(e,i,a,o,u,f){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(f!=null&&(a.isEmpty()?e.hasChild(i)?f.trackChildChange(Fa(i,d)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(cr(i,a)):f.trackChildChange(Ka(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(Fe,(o,u)=>{i.hasChild(o)||a.trackChildChange(Fa(o,u))}),i.isLeafNode()||i.forEachChild(Fe,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||a.trackChildChange(Ka(o,u,f))}else a.trackChildChange(cr(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.indexedFilter_=new Ad(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qa.getStartPost_(e),this.endPost_=Qa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,u,f){return this.matches(new he(i,a))||(a=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,u,f)}updateFullNode(e,i,a){i.isLeafNode()&&(i=ie.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ie.EMPTY_NODE);const u=this;return i.forEachChild(Fe,(f,d)=>{u.matches(new he(f,d))||(o=o.updateImmediateChild(f,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Qa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,u,f){return this.rangedFilter_.matches(new he(i,a))||(a=ie.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,u,f):this.fullLimitUpdateChild_(e,i,a,u,f)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ie.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ie.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:o=o.updateImmediateChild(d.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,u){let f;if(this.reverse_){const E=this.index_.getCompare();f=(y,R)=>E(R,y)}else f=this.index_.getCompare();const d=e;j(d.numChildren()===this.limit_,"");const p=new he(i,a),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(d.hasChild(i)){const E=d.getImmediateChild(i);let y=o.getChildAfterChild(this.index_,m,this.reverse_);for(;y!=null&&(y.name===i||d.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const R=y==null?1:f(y,p);if(v&&!a.isEmpty()&&R>=0)return u!=null&&u.trackChildChange(Ka(i,a,E)),d.updateImmediateChild(i,a);{u!=null&&u.trackChildChange(Fa(i,E));const M=d.updateImmediateChild(i,ie.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(u!=null&&u.trackChildChange(cr(y.name,y.node)),M.updateImmediateChild(y.name,y.node)):M}}else return a.isEmpty()?e:v&&f(m,p)>=0?(u!=null&&(u.trackChildChange(Fa(m.name,m.node)),u.trackChildChange(cr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(m.name,ie.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new Nd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oO(s){return s.loadsAllData()?new Ad(s.getIndex()):s.hasLimit()?new lO(s):new Qa(s)}function Jv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Fe?i="$priority":s.index_===rO?i="$value":s.index_===ar?i="$key":(j(s.index_ instanceof iO,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=et(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=et(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+et(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=et(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+et(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function ey(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Fe&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends ZE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=ol("p:rest:"),this.listens_={}}listen(e,i,a,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=su.getListenId_(e,a),d={};this.listens_[f]=d;const p=Jv(e._queryParams);this.restRequest_(u+".json",p,(m,v)=>{let E=v;if(m===404&&(E=null,m=null),m===null&&this.onDataUpdate_(u,E,!1,a),lr(this.listens_,f)===d){let y;m?m===401?y="permission_denied":y="rest_error:"+m:y="ok",o(y,null)}})}unlisten(e,i){const a=su.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Jv(e._queryParams),a=e._path.toString(),o=new el;return this.restRequest_(a+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vr(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Ba(d.responseText)}catch{yt("Failed to parse JSON response for "+f+": "+d.responseText)}a(null,p)}else d.status!==401&&d.status!==404&&yt("Got unsuccessful REST response for "+f+" Status: "+d.status),a(d.status);a=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){return{value:null,children:new Map}}function oS(s,e,i){if(me(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=fe(e);s.children.has(a)||s.children.set(a,ru());const o=s.children.get(a);e=Pe(e),oS(o,e,i)}}function Ph(s,e,i){s.value!==null?i(e,s.value):cO(s,(a,o)=>{const u=new Me(e.toString()+"/"+a);Ph(o,u,i)})}function cO(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&ht(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=10*1e3,hO=30*1e3,dO=5*60*1e3;class pO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new fO(e);const a=ty+(hO-ty)*Math.random();La(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;ht(e,(o,u)=>{u>0&&En(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),La(this.reportStats_.bind(this),Math.floor(Math.random()*2*dO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function Od(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Id(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Dd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=rn.ACK_USER_WRITE,this.source=Od()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(e));return new au(Te(),i,this.revert)}}else return j(fe(this.path)===e,"operationForChild called for unrelated child."),new au(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,i){this.source=e,this.path=i,this.type=rn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new Wa(this.source,Te()):new Wa(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=rn.OVERWRITE}operationForChild(e){return me(this.path)?new us(this.source,Te(),this.snap.getImmediateChild(e)):new us(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=rn.MERGE}operationForChild(e){if(me(this.path)){const i=this.children.subtree(new Me(e));return i.isEmpty()?null:i.value?new us(this.source,Te(),i.value):new fr(this.source,Te(),i)}else return j(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fr(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const i=fe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gO(s,e,i,a){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(aO(f.childName,f.snapshotNode))}),Na(s,o,"child_removed",e,a,i),Na(s,o,"child_added",e,a,i),Na(s,o,"child_moved",u,a,i),Na(s,o,"child_changed",e,a,i),Na(s,o,"value",e,a,i),o}function Na(s,e,i,a,o,u){const f=a.filter(d=>d.type===i);f.sort((d,p)=>vO(s,d,p)),f.forEach(d=>{const p=_O(s,d,u);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,s.query_))})})}function _O(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function vO(s,e,i){if(e.childName==null||i.childName==null)throw _r("Should only compare child_ events.");const a=new he(e.childName,e.snapshotNode),o=new he(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(s,e){return{eventCache:s,serverCache:e}}function Ua(s,e,i,a){return Ru(new Di(e,i,a),s.serverCache)}function uS(s,e,i,a){return Ru(s.eventCache,new Di(e,i,a))}function lu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function cs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh;const yO=()=>(yh||(yh=new At(iN)),yh);class Ue{static fromObject(e){let i=new Ue(null);return ht(e,(a,o)=>{i=i.set(new Me(a),o)}),i}constructor(e,i=yO()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Te(),value:this.value};if(me(e))return null;{const a=fe(e),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Pe(e),i);return u!=null?{path:Ye(new Me(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const i=fe(e),a=this.children.get(i);return a!==null?a.subtree(Pe(e)):new Ue(null)}}set(e,i){if(me(e))return new Ue(i,this.children);{const a=fe(e),u=(this.children.get(a)||new Ue(null)).set(Pe(e),i),f=this.children.insert(a,u);return new Ue(this.value,f)}}remove(e){if(me(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const i=fe(e),a=this.children.get(i);if(a){const o=a.remove(Pe(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ue(null):new Ue(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const i=fe(e),a=this.children.get(i);return a?a.get(Pe(e)):null}}setTree(e,i){if(me(e))return i;{const a=fe(e),u=(this.children.get(a)||new Ue(null)).setTree(Pe(e),i);let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),new Ue(this.value,f)}}fold(e){return this.fold_(Te(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(Ye(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,Te(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(me(e))return null;{const u=fe(e),f=this.children.get(u);return f?f.findOnPath_(Pe(e),Ye(i,u),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Te(),i)}foreachOnPath_(e,i,a){if(me(e))return this;{this.value&&a(i,this.value);const o=fe(e),u=this.children.get(o);return u?u.foreachOnPath_(Pe(e),Ye(i,o),a):new Ue(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(Ye(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.writeTree_=e}static empty(){return new an(new Ue(null))}}function Pa(s,e,i){if(me(e))return new an(new Ue(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let u=a.value;const f=vt(o,e);return u=u.updateChild(f,i),new an(s.writeTree_.set(o,u))}else{const o=new Ue(i),u=s.writeTree_.setTree(e,o);return new an(u)}}}function zh(s,e,i){let a=s;return ht(i,(o,u)=>{a=Pa(a,Ye(e,o),u)}),a}function ny(s,e){if(me(e))return an.empty();{const i=s.writeTree_.setTree(e,new Ue(null));return new an(i)}}function Hh(s,e){return ds(s,e)!=null}function ds(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(vt(i.path,e)):null}function iy(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Fe,(a,o)=>{e.push(new he(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new he(a,o.value))}),e}function Ni(s,e){if(me(e))return s;{const i=ds(s,e);return i!=null?new an(new Ue(i)):new an(s.writeTree_.subtree(e))}}function Bh(s){return s.writeTree_.isEmpty()}function hr(s,e){return cS(Te(),s.writeTree_,e)}function cS(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(j(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=cS(Ye(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Ye(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(s,e){return pS(e,s)}function EO(s,e,i,a,o){j(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Pa(s.visibleWrites,e,i)),s.lastWriteId=a}function SO(s,e,i,a){j(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:a,visible:!0}),s.visibleWrites=zh(s.visibleWrites,e,i),s.lastWriteId=a}function bO(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function TO(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);j(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const d=s.allWrites[f];d.visible&&(f>=i&&CO(d,a.path)?o=!1:Wt(a.path,d.path)&&(u=!0)),f--}if(o){if(u)return wO(s),!0;if(a.snap)s.visibleWrites=ny(s.visibleWrites,a.path);else{const d=a.children;ht(d,p=>{s.visibleWrites=ny(s.visibleWrites,Ye(a.path,p))})}return!0}else return!1}function CO(s,e){if(s.snap)return Wt(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Wt(Ye(s.path,i),e))return!0;return!1}function wO(s){s.visibleWrites=fS(s.allWrites,RO,Te()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function RO(s){return s.visible}function fS(s,e,i){let a=an.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const f=u.path;let d;if(u.snap)Wt(i,f)?(d=vt(i,f),a=Pa(a,d,u.snap)):Wt(f,i)&&(d=vt(f,i),a=Pa(a,Te(),u.snap.getChild(d)));else if(u.children){if(Wt(i,f))d=vt(i,f),a=zh(a,d,u.children);else if(Wt(f,i))if(d=vt(f,i),me(d))a=zh(a,Te(),u.children);else{const p=lr(u.children,fe(d));if(p){const m=p.getChild(Pe(d));a=Pa(a,Te(),m)}}}else throw _r("WriteRecord should have .snap or .children")}}return a}function hS(s,e,i,a,o){if(!a&&!o){const u=ds(s.visibleWrites,e);if(u!=null)return u;{const f=Ni(s.visibleWrites,e);if(Bh(f))return i;if(i==null&&!Hh(f,Te()))return null;{const d=i||ie.EMPTY_NODE;return hr(f,d)}}}else{const u=Ni(s.visibleWrites,e);if(!o&&Bh(u))return i;if(!o&&i==null&&!Hh(u,Te()))return null;{const f=function(m){return(m.visible||o)&&(!a||!~a.indexOf(m.writeId))&&(Wt(m.path,e)||Wt(e,m.path))},d=fS(s.allWrites,f,e),p=i||ie.EMPTY_NODE;return hr(d,p)}}}function AO(s,e,i){let a=ie.EMPTY_NODE;const o=ds(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Fe,(u,f)=>{a=a.updateImmediateChild(u,f)}),a;if(i){const u=Ni(s.visibleWrites,e);return i.forEachChild(Fe,(f,d)=>{const p=hr(Ni(u,new Me(f)),d);a=a.updateImmediateChild(f,p)}),iy(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}else{const u=Ni(s.visibleWrites,e);return iy(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}}function NO(s,e,i,a,o){j(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=Ye(e,i);if(Hh(s.visibleWrites,u))return null;{const f=Ni(s.visibleWrites,u);return Bh(f)?o.getChild(i):hr(f,o.getChild(i))}}function OO(s,e,i,a){const o=Ye(e,i),u=ds(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const f=Ni(s.visibleWrites,o);return hr(f,a.getNode().getImmediateChild(i))}else return null}function IO(s,e){return ds(s.visibleWrites,e)}function DO(s,e,i,a,o,u,f){let d;const p=Ni(s.visibleWrites,e),m=ds(p,Te());if(m!=null)d=m;else if(i!=null)d=hr(p,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const v=[],E=f.getCompare(),y=u?d.getReverseIteratorFrom(a,f):d.getIteratorFrom(a,f);let R=y.getNext();for(;R&&v.length<o;)E(R,a)!==0&&v.push(R),R=y.getNext();return v}else return[]}function MO(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function ou(s,e,i,a){return hS(s.writeTree,s.treePath,e,i,a)}function Md(s,e){return AO(s.writeTree,s.treePath,e)}function sy(s,e,i,a){return NO(s.writeTree,s.treePath,e,i,a)}function uu(s,e){return IO(s.writeTree,Ye(s.treePath,e))}function xO(s,e,i,a,o,u){return DO(s.writeTree,s.treePath,e,i,a,o,u)}function xd(s,e,i){return OO(s.writeTree,s.treePath,e,i)}function dS(s,e){return pS(Ye(s.treePath,e),s.writeTree)}function pS(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;j(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),j(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,Ka(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,Fa(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,cr(a,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,Ka(a,e.snapshotNode,o.oldSnap));else throw _r("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const mS=new LO;class kd{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xd(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cs(this.viewCache_),u=xO(this.writes_,o,i,1,a,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(s){return{filter:s}}function PO(s,e){j(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function zO(s,e,i,a,o){const u=new kO;let f,d;if(i.type===rn.OVERWRITE){const m=i;m.source.fromUser?f=jh(s,e,m.path,m.snap,a,o,u):(j(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!me(m.path),f=cu(s,e,m.path,m.snap,a,o,d,u))}else if(i.type===rn.MERGE){const m=i;m.source.fromUser?f=BO(s,e,m.path,m.children,a,o,u):(j(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),f=Gh(s,e,m.path,m.children,a,o,d,u))}else if(i.type===rn.ACK_USER_WRITE){const m=i;m.revert?f=VO(s,e,m.path,a,o,u):f=jO(s,e,m.path,m.affectedTree,a,o,u)}else if(i.type===rn.LISTEN_COMPLETE)f=GO(s,e,i.path,a,u);else throw _r("Unknown operation type: "+i.type);const p=u.getChanges();return HO(e,f,p),{viewCache:f,changes:p}}function HO(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=lu(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(lS(lu(e)))}}function gS(s,e,i,a,o,u){const f=e.eventCache;if(uu(a,i)!=null)return e;{let d,p;if(me(i))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=cs(e),v=m instanceof ie?m:ie.EMPTY_NODE,E=Md(a,v);d=s.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const m=ou(a,cs(e));d=s.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=fe(i);if(m===".priority"){j(Ii(i)===1,"Can't have a priority with additional path components");const v=f.getNode();p=e.serverCache.getNode();const E=sy(a,i,v,p);E!=null?d=s.filter.updatePriority(v,E):d=f.getNode()}else{const v=Pe(i);let E;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const y=sy(a,i,f.getNode(),p);y!=null?E=f.getNode().getImmediateChild(m).updateChild(v,y):E=f.getNode().getImmediateChild(m)}else E=xd(a,m,e.serverCache);E!=null?d=s.filter.updateChild(f.getNode(),m,E,v,o,u):d=f.getNode()}}return Ua(e,d,f.isFullyInitialized()||me(i),s.filter.filtersNodes())}}function cu(s,e,i,a,o,u,f,d){const p=e.serverCache;let m;const v=f?s.filter:s.filter.getIndexedFilter();if(me(i))m=v.updateFullNode(p.getNode(),a,null);else if(v.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(i,a);m=v.updateFullNode(p.getNode(),R,null)}else{const R=fe(i);if(!p.isCompleteForPath(i)&&Ii(i)>1)return e;const C=Pe(i),L=p.getNode().getImmediateChild(R).updateChild(C,a);R===".priority"?m=v.updatePriority(p.getNode(),L):m=v.updateChild(p.getNode(),R,L,C,mS,null)}const E=uS(e,m,p.isFullyInitialized()||me(i),v.filtersNodes()),y=new kd(o,E,u);return gS(s,E,i,o,y,d)}function jh(s,e,i,a,o,u,f){const d=e.eventCache;let p,m;const v=new kd(o,e,u);if(me(i))m=s.filter.updateFullNode(e.eventCache.getNode(),a,f),p=Ua(e,m,!0,s.filter.filtersNodes());else{const E=fe(i);if(E===".priority")m=s.filter.updatePriority(e.eventCache.getNode(),a),p=Ua(e,m,d.isFullyInitialized(),d.isFiltered());else{const y=Pe(i),R=d.getNode().getImmediateChild(E);let C;if(me(y))C=a;else{const M=v.getCompleteChild(E);M!=null?Td(y)===".priority"&&M.getChild(eS(y)).isEmpty()?C=M:C=M.updateChild(y,a):C=ie.EMPTY_NODE}if(R.equals(C))p=e;else{const M=s.filter.updateChild(d.getNode(),E,C,y,v,f);p=Ua(e,M,d.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function ry(s,e){return s.eventCache.isCompleteForChild(e)}function BO(s,e,i,a,o,u,f){let d=e;return a.foreach((p,m)=>{const v=Ye(i,p);ry(e,fe(v))&&(d=jh(s,d,v,m,o,u,f))}),a.foreach((p,m)=>{const v=Ye(i,p);ry(e,fe(v))||(d=jh(s,d,v,m,o,u,f))}),d}function ay(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Gh(s,e,i,a,o,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;me(i)?m=a:m=new Ue(null).setTree(i,a);const v=e.serverCache.getNode();return m.children.inorderTraversal((E,y)=>{if(v.hasChild(E)){const R=e.serverCache.getNode().getImmediateChild(E),C=ay(s,R,y);p=cu(s,p,new Me(E),C,o,u,f,d)}}),m.children.inorderTraversal((E,y)=>{const R=!e.serverCache.isCompleteForChild(E)&&y.value===null;if(!v.hasChild(E)&&!R){const C=e.serverCache.getNode().getImmediateChild(E),M=ay(s,C,y);p=cu(s,p,new Me(E),M,o,u,f,d)}}),p}function jO(s,e,i,a,o,u,f){if(uu(o,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(me(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return cu(s,e,i,p.getNode().getChild(i),o,u,d,f);if(me(i)){let m=new Ue(null);return p.getNode().forEachChild(ar,(v,E)=>{m=m.set(new Me(v),E)}),Gh(s,e,i,m,o,u,d,f)}else return e}else{let m=new Ue(null);return a.foreach((v,E)=>{const y=Ye(i,v);p.isCompleteForPath(y)&&(m=m.set(v,p.getNode().getChild(y)))}),Gh(s,e,i,m,o,u,d,f)}}function GO(s,e,i,a,o){const u=e.serverCache,f=uS(e,u.getNode(),u.isFullyInitialized()||me(i),u.isFiltered());return gS(s,f,i,a,mS,o)}function VO(s,e,i,a,o,u){let f;if(uu(a,i)!=null)return e;{const d=new kd(a,e,o),p=e.eventCache.getNode();let m;if(me(i)||fe(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=ou(a,cs(e));else{const E=e.serverCache.getNode();j(E instanceof ie,"serverChildren would be complete if leaf node"),v=Md(a,E)}v=v,m=s.filter.updateFullNode(p,v,u)}else{const v=fe(i);let E=xd(a,v,e.serverCache);E==null&&e.serverCache.isCompleteForChild(v)&&(E=p.getImmediateChild(v)),E!=null?m=s.filter.updateChild(p,v,E,Pe(i),d,u):e.eventCache.getNode().hasChild(v)?m=s.filter.updateChild(p,v,ie.EMPTY_NODE,Pe(i),d,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=ou(a,cs(e)),f.isLeafNode()&&(m=s.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||uu(a,Te())!=null,Ua(e,m,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Ad(a.getIndex()),u=oO(a);this.processor_=UO(u);const f=i.serverCache,d=i.eventCache,p=o.updateFullNode(ie.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(ie.EMPTY_NODE,d.getNode(),null),v=new Di(p,f.isFullyInitialized(),o.filtersNodes()),E=new Di(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Ru(E,v),this.eventGenerator_=new mO(this.query_)}get query(){return this.query_}}function YO(s){return s.viewCache_.serverCache.getNode()}function FO(s){return lu(s.viewCache_)}function KO(s,e){const i=cs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!me(e)&&!i.getImmediateChild(fe(e)).isEmpty())?i.getChild(e):null}function ly(s){return s.eventRegistrations_.length===0}function QO(s,e){s.eventRegistrations_.push(e)}function oy(s,e,i){const a=[];if(i){j(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&a.push(f)})}if(e){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function uy(s,e,i,a){e.type===rn.MERGE&&e.source.queryId!==null&&(j(cs(s.viewCache_),"We should always have a full cache before handling merges"),j(lu(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=zO(s.processor_,o,e,i,a);return PO(s.processor_,u.viewCache),j(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,_S(s,u.changes,u.viewCache.eventCache.getNode(),null)}function WO(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Fe,(u,f)=>{a.push(cr(u,f))}),i.isFullyInitialized()&&a.push(lS(i.getNode())),_S(s,a,i.getNode(),e)}function _S(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return gO(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu;class vS{constructor(){this.views=new Map}}function XO(s){j(!fu,"__referenceConstructor has already been defined"),fu=s}function $O(){return j(fu,"Reference.ts has not been loaded"),fu}function ZO(s){return s.views.size===0}function Ld(s,e,i,a){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return j(u!=null,"SyncTree gave us an op for an invalid query."),uy(u,e,i,a)}else{let u=[];for(const f of s.views.values())u=u.concat(uy(f,e,i,a));return u}}function yS(s,e,i,a,o){const u=e._queryIdentifier,f=s.views.get(u);if(!f){let d=ou(i,o?a:null),p=!1;d?p=!0:a instanceof ie?(d=Md(i,a),p=!1):(d=ie.EMPTY_NODE,p=!1);const m=Ru(new Di(d,p,!1),new Di(a,o,!1));return new qO(e,m)}return f}function JO(s,e,i,a,o,u){const f=yS(s,e,a,o,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),QO(f,i),WO(f,i)}function eI(s,e,i,a){const o=e._queryIdentifier,u=[];let f=[];const d=Mi(s);if(o==="default")for(const[p,m]of s.views.entries())f=f.concat(oy(m,i,a)),ly(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=s.views.get(o);p&&(f=f.concat(oy(p,i,a)),ly(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!Mi(s)&&u.push(new($O())(e._repo,e._path)),{removed:u,events:f}}function ES(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Oi(s,e){let i=null;for(const a of s.views.values())i=i||KO(a,e);return i}function SS(s,e){if(e._queryParams.loadsAllData())return Nu(s);{const a=e._queryIdentifier;return s.views.get(a)}}function bS(s,e){return SS(s,e)!=null}function Mi(s){return Nu(s)!=null}function Nu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;function tI(s){j(!hu,"__referenceConstructor has already been defined"),hu=s}function nI(){return j(hu,"Reference.ts has not been loaded"),hu}let iI=1;class cy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=MO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TS(s,e,i,a,o){return EO(s.pendingWriteTree_,e,i,a,o),o?br(s,new us(Od(),e,i)):[]}function sI(s,e,i,a){SO(s.pendingWriteTree_,e,i,a);const o=Ue.fromObject(i);return br(s,new fr(Od(),e,o))}function Ci(s,e,i=!1){const a=bO(s.pendingWriteTree_,e);if(TO(s.pendingWriteTree_,e)){let u=new Ue(null);return a.snap!=null?u=u.set(Te(),!0):ht(a.children,f=>{u=u.set(new Me(f),!0)}),br(s,new au(a.path,u,i))}else return[]}function cl(s,e,i){return br(s,new us(Id(),e,i))}function rI(s,e,i){const a=Ue.fromObject(i);return br(s,new fr(Id(),e,a))}function aI(s,e){return br(s,new Wa(Id(),e))}function lI(s,e,i){const a=Pd(s,i);if(a){const o=zd(a),u=o.path,f=o.queryId,d=vt(u,e),p=new Wa(Dd(f),d);return Hd(s,u,p)}else return[]}function du(s,e,i,a,o=!1){const u=e._path,f=s.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||bS(f,e))){const p=eI(f,e,i,a);ZO(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!o){const v=m.findIndex(y=>y._queryParams.loadsAllData())!==-1,E=s.syncPointTree_.findOnPath(u,(y,R)=>Mi(R));if(v&&!E){const y=s.syncPointTree_.subtree(u);if(!y.isEmpty()){const R=cI(y);for(let C=0;C<R.length;++C){const M=R[C],L=M.query,H=AS(s,M);s.listenProvider_.startListening(za(L),Xa(s,L),H.hashFn,H.onComplete)}}}!E&&m.length>0&&!a&&(v?s.listenProvider_.stopListening(za(e),null):m.forEach(y=>{const R=s.queryToTagMap.get(Ou(y));s.listenProvider_.stopListening(za(y),R)}))}fI(s,m)}return d}function CS(s,e,i,a){const o=Pd(s,a);if(o!=null){const u=zd(o),f=u.path,d=u.queryId,p=vt(f,e),m=new us(Dd(d),p,i);return Hd(s,f,m)}else return[]}function oI(s,e,i,a){const o=Pd(s,a);if(o){const u=zd(o),f=u.path,d=u.queryId,p=vt(f,e),m=Ue.fromObject(i),v=new fr(Dd(d),p,m);return Hd(s,f,v)}else return[]}function Vh(s,e,i,a=!1){const o=e._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(y,R)=>{const C=vt(y,o);u=u||Oi(R,C),f=f||Mi(R)});let d=s.syncPointTree_.get(o);d?(f=f||Mi(d),u=u||Oi(d,Te())):(d=new vS,s.syncPointTree_=s.syncPointTree_.set(o,d));let p;u!=null?p=!0:(p=!1,u=ie.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((R,C)=>{const M=Oi(C,Te());M&&(u=u.updateImmediateChild(R,M))}));const m=bS(d,e);if(!m&&!e._queryParams.loadsAllData()){const y=Ou(e);j(!s.queryToTagMap.has(y),"View does not exist, but we have a tag");const R=hI();s.queryToTagMap.set(y,R),s.tagToQueryMap.set(R,y)}const v=Au(s.pendingWriteTree_,o);let E=JO(d,e,i,v,u,p);if(!m&&!f&&!a){const y=SS(d,e);E=E.concat(dI(s,e,y))}return E}function Ud(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(f,d)=>{const p=vt(f,e),m=Oi(d,p);if(m)return m});return hS(o,e,u,i,!0)}function uI(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(m,v)=>{const E=vt(m,i);a=a||Oi(v,E)});let o=s.syncPointTree_.get(i);o?a=a||Oi(o,Te()):(o=new vS,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=a!=null,f=u?new Di(a,!0,!1):null,d=Au(s.pendingWriteTree_,e._path),p=yS(o,e,d,u?f.getNode():ie.EMPTY_NODE,u);return FO(p)}function br(s,e){return wS(e,s.syncPointTree_,null,Au(s.pendingWriteTree_,Te()))}function wS(s,e,i,a){if(me(s.path))return RS(s,e,i,a);{const o=e.get(Te());i==null&&o!=null&&(i=Oi(o,Te()));let u=[];const f=fe(s.path),d=s.operationForChild(f),p=e.children.get(f);if(p&&d){const m=i?i.getImmediateChild(f):null,v=dS(a,f);u=u.concat(wS(d,p,m,v))}return o&&(u=u.concat(Ld(o,s,a,i))),u}}function RS(s,e,i,a){const o=e.get(Te());i==null&&o!=null&&(i=Oi(o,Te()));let u=[];return e.children.inorderTraversal((f,d)=>{const p=i?i.getImmediateChild(f):null,m=dS(a,f),v=s.operationForChild(f);v&&(u=u.concat(RS(v,d,p,m)))}),o&&(u=u.concat(Ld(o,s,a,i))),u}function AS(s,e){const i=e.query,a=Xa(s,i);return{hashFn:()=>(YO(e)||ie.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?lI(s,i._path,a):aI(s,i._path);{const u=aN(o,i);return du(s,i,null,u)}}}}function Xa(s,e){const i=Ou(e);return s.queryToTagMap.get(i)}function Ou(s){return s._path.toString()+"$"+s._queryIdentifier}function Pd(s,e){return s.tagToQueryMap.get(e)}function zd(s){const e=s.indexOf("$");return j(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Me(s.substr(0,e))}}function Hd(s,e,i){const a=s.syncPointTree_.get(e);j(a,"Missing sync point for query tag that we're tracking");const o=Au(s.pendingWriteTree_,e);return Ld(a,i,o,null)}function cI(s){return s.fold((e,i,a)=>{if(i&&Mi(i))return[Nu(i)];{let o=[];return i&&(o=ES(i)),ht(a,(u,f)=>{o=o.concat(f)}),o}})}function za(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(nI())(s._repo,s._path):s}function fI(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=Ou(a),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function hI(){return iI++}function dI(s,e,i){const a=e._path,o=Xa(s,e),u=AS(s,i),f=s.listenProvider_.startListening(za(e),o,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(a);if(o)j(!Mi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,v,E)=>{if(!me(m)&&v&&Mi(v))return[Nu(v).query];{let y=[];return v&&(y=y.concat(ES(v).map(R=>R.query))),ht(E,(R,C)=>{y=y.concat(C)}),y}});for(let m=0;m<p.length;++m){const v=p[m];s.listenProvider_.stopListening(za(v),Xa(s,v))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Bd(i)}node(){return this.node_}}class jd{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ye(this.path_,e);return new jd(this.syncTree_,i)}node(){return Ud(this.syncTree_,this.path_)}}const pI=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},fy=function(s,e,i){if(!s||typeof s!="object")return s;if(j(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return mI(s[".sv"],e,i);if(typeof s[".sv"]=="object")return gI(s[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},mI=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:j(!1,"Unexpected server value: "+s)}},gI=function(s,e,i){s.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&j(!1,"Unexpected increment value: "+a);const o=e.node();if(j(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const f=o.getValue();return typeof f!="number"?a:f+a},NS=function(s,e,i,a){return Gd(e,new jd(i,s),a)},OS=function(s,e,i){return Gd(s,new Bd(e),i)};function Gd(s,e,i){const a=s.getPriority().val(),o=fy(a,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,d=fy(f.getValue(),e,i);return d!==f.getValue()||o!==f.getPriority().val()?new rt(d,Je(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new rt(o))),f.forEachChild(Fe,(d,p)=>{const m=Gd(p,e.getImmediateChild(d),i);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function qd(s,e){let i=e instanceof Me?e:new Me(e),a=s,o=fe(i);for(;o!==null;){const u=lr(a.node.children,o)||{children:{},childCount:0};a=new Vd(o,a,u),i=Pe(i),o=fe(i)}return a}function Tr(s){return s.node.value}function IS(s,e){s.node.value=e,qh(s)}function DS(s){return s.node.childCount>0}function _I(s){return Tr(s)===void 0&&!DS(s)}function Iu(s,e){ht(s.node.children,(i,a)=>{e(new Vd(i,s,a))})}function MS(s,e,i,a){i&&e(s),Iu(s,o=>{MS(o,e,!0)})}function vI(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function fl(s){return new Me(s.parent===null?s.name:fl(s.parent)+"/"+s.name)}function qh(s){s.parent!==null&&yI(s.parent,s.name,s)}function yI(s,e,i){const a=_I(i),o=En(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,qh(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,qh(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=/[\[\].#$\/\u0000-\u001F\u007F]/,SI=/[\[\].#$\u0000-\u001F\u007F]/,Eh=10*1024*1024,Yd=function(s){return typeof s=="string"&&s.length!==0&&!EI.test(s)},xS=function(s){return typeof s=="string"&&s.length!==0&&!SI.test(s)},bI=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),xS(s)},TI=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!vd(s)||s&&typeof s=="object"&&En(s,".sv")},CI=function(s,e,i,a){Du(Eu(s,"value"),e,i)},Du=function(s,e,i){const a=i instanceof Me?new BN(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+ns(a));if(typeof e=="function")throw new Error(s+"contains a function "+ns(a)+" with contents = "+e.toString());if(vd(e))throw new Error(s+"contains "+e.toString()+" "+ns(a));if(typeof e=="string"&&e.length>Eh/3&&Su(e)>Eh)throw new Error(s+"contains a string greater than "+Eh+" utf8 bytes "+ns(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(ht(e,(f,d)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Yd(f)))throw new Error(s+" contains an invalid key ("+f+") "+ns(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jN(a,f),Du(s,d,a),GN(a)}),o&&u)throw new Error(s+' contains ".value" child '+ns(a)+" in addition to actual children.")}},wI=function(s,e){let i,a;for(i=0;i<e.length;i++){a=e[i];const u=Ya(a);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!Yd(u[f]))throw new Error(s+"contains an invalid key ("+u[f]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(HN);let o=null;for(i=0;i<e.length;i++){if(a=e[i],o!==null&&Wt(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},RI=function(s,e,i,a){const o=Eu(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];ht(e,(f,d)=>{const p=new Me(f);if(Du(o,d,Ye(i,p)),Td(p)===".priority"&&!TI(d))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),wI(o,u)},kS=function(s,e,i,a){if(!xS(i))throw new Error(Eu(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AI=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),kS(s,e,i)},NI=function(s,e){if(fe(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},OI=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Yd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!bI(i))throw new Error(Eu(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mu(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],u=o.getPath();i!==null&&!Cd(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function LS(s,e,i){Mu(s,i),US(s,a=>Cd(a,e))}function Xt(s,e,i){Mu(s,i),US(s,a=>Wt(a,e)||Wt(e,a))}function US(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;e(u)?(DI(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function DI(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();ka&&ft("event: "+i.toString()),Sr(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="repo_interrupt",xI=25;class kI{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new II,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ru(),this.transactionQueueTree_=new Vd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LI(s,e,i){if(s.stats_=Sd(s.repoInfo_),s.forceRestClient_||cN())s.server_=new su(s.repoInfo_,(a,o,u,f)=>{hy(s,a,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>dy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new jn(s.repoInfo_,e,(a,o,u,f)=>{hy(s,a,o,u,f)},a=>{dy(s,a)},a=>{PI(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=mN(s.repoInfo_,()=>new pO(s.stats_,s.server_)),s.infoData_=new uO,s.infoSyncTree_=new cy({startListening:(a,o,u,f)=>{let d=[];const p=s.infoData_.getNode(a._path);return p.isEmpty()||(d=cl(s.infoSyncTree_,a._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),Fd(s,"connected",!1),s.serverSyncTree_=new cy({startListening:(a,o,u,f)=>(s.server_.listen(a,u,o,(d,p)=>{const m=f(d,p);Xt(s.eventQueue_,a._path,m)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function UI(s){const i=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function xu(s){return pI({timestamp:UI(s)})}function hy(s,e,i,a,o){s.dataUpdateCount++;const u=new Me(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(a){const p=Ko(i,m=>Je(m));f=oI(s.serverSyncTree_,u,p,o)}else{const p=Je(i);f=CS(s.serverSyncTree_,u,p,o)}else if(a){const p=Ko(i,m=>Je(m));f=rI(s.serverSyncTree_,u,p)}else{const p=Je(i);f=cl(s.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=dr(s,u)),Xt(s.eventQueue_,d,f)}function dy(s,e){Fd(s,"connected",e),e===!1&&jI(s)}function PI(s,e){ht(e,(i,a)=>{Fd(s,i,a)})}function Fd(s,e,i){const a=new Me("/.info/"+e),o=Je(i);s.infoData_.updateSnapshot(a,o);const u=cl(s.infoSyncTree_,a,o);Xt(s.eventQueue_,a,u)}function Kd(s){return s.nextWriteId_++}function zI(s,e,i){const a=uI(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const u=Je(o).withIndex(e._queryParams.getIndex());Vh(s.serverSyncTree_,e,i,!0);let f;if(e._queryParams.loadsAllData())f=cl(s.serverSyncTree_,e._path,u);else{const d=Xa(s.serverSyncTree_,e);f=CS(s.serverSyncTree_,e._path,u,d)}return Xt(s.eventQueue_,e._path,f),du(s.serverSyncTree_,e,i,null,!0),u},o=>(hl(s,"get for query "+et(e)+" failed: "+o),Promise.reject(new Error(o))))}function HI(s,e,i,a,o){hl(s,"set",{path:e.toString(),value:i,priority:a});const u=xu(s),f=Je(i,a),d=Ud(s.serverSyncTree_,e),p=OS(f,d,u),m=Kd(s),v=TS(s.serverSyncTree_,e,p,m,!0);Mu(s.eventQueue_,v),s.server_.put(e.toString(),f.val(!0),(y,R)=>{const C=y==="ok";C||yt("set at "+e+" failed: "+y);const M=Ci(s.serverSyncTree_,m,!C);Xt(s.eventQueue_,e,M),Yh(s,o,y,R)});const E=Wd(s,e);dr(s,E),Xt(s.eventQueue_,E,[])}function BI(s,e,i,a){hl(s,"update",{path:e.toString(),value:i});let o=!0;const u=xu(s),f={};if(ht(i,(d,p)=>{o=!1,f[d]=NS(Ye(e,d),Je(p),s.serverSyncTree_,u)}),o)ft("update() called with empty data.  Don't do anything."),Yh(s,a,"ok",void 0);else{const d=Kd(s),p=sI(s.serverSyncTree_,e,f,d);Mu(s.eventQueue_,p),s.server_.merge(e.toString(),i,(m,v)=>{const E=m==="ok";E||yt("update at "+e+" failed: "+m);const y=Ci(s.serverSyncTree_,d,!E),R=y.length>0?dr(s,e):e;Xt(s.eventQueue_,R,y),Yh(s,a,m,v)}),ht(i,m=>{const v=Wd(s,Ye(e,m));dr(s,v)}),Xt(s.eventQueue_,e,[])}}function jI(s){hl(s,"onDisconnectEvents");const e=xu(s),i=ru();Ph(s.onDisconnect_,Te(),(o,u)=>{const f=NS(o,u,s.serverSyncTree_,e);oS(i,o,f)});let a=[];Ph(i,Te(),(o,u)=>{a=a.concat(cl(s.serverSyncTree_,o,u));const f=Wd(s,o);dr(s,f)}),s.onDisconnect_=ru(),Xt(s.eventQueue_,Te(),a)}function GI(s,e,i){let a;fe(e._path)===".info"?a=Vh(s.infoSyncTree_,e,i):a=Vh(s.serverSyncTree_,e,i),LS(s.eventQueue_,e._path,a)}function py(s,e,i){let a;fe(e._path)===".info"?a=du(s.infoSyncTree_,e,i):a=du(s.serverSyncTree_,e,i),LS(s.eventQueue_,e._path,a)}function VI(s){s.persistentConnection_&&s.persistentConnection_.interrupt(MI)}function hl(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ft(i,...e)}function Yh(s,e,i,a){e&&Sr(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;a&&(u+=": "+a);const f=new Error(u);f.code=o,e(f)}})}function PS(s,e,i){return Ud(s.serverSyncTree_,e,i)||ie.EMPTY_NODE}function Qd(s,e=s.transactionQueueTree_){if(e||ku(s,e),Tr(e)){const i=HS(s,e);j(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&qI(s,fl(e),i)}else DS(e)&&Iu(e,i=>{Qd(s,i)})}function qI(s,e,i){const a=i.map(m=>m.currentWriteId),o=PS(s,e,a);let u=o;const f=o.hash();for(let m=0;m<i.length;m++){const v=i[m];j(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const E=vt(e,v.path);u=u.updateChild(E,v.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;s.server_.put(p.toString(),d,m=>{hl(s,"transaction put response",{path:p.toString(),status:m});let v=[];if(m==="ok"){const E=[];for(let y=0;y<i.length;y++)i[y].status=2,v=v.concat(Ci(s.serverSyncTree_,i[y].currentWriteId)),i[y].onComplete&&E.push(()=>i[y].onComplete(null,!0,i[y].currentOutputSnapshotResolved)),i[y].unwatcher();ku(s,qd(s.transactionQueueTree_,e)),Qd(s,s.transactionQueueTree_),Xt(s.eventQueue_,e,v);for(let y=0;y<E.length;y++)Sr(E[y])}else{if(m==="datastale")for(let E=0;E<i.length;E++)i[E].status===3?i[E].status=4:i[E].status=0;else{yt("transaction at "+p.toString()+" failed: "+m);for(let E=0;E<i.length;E++)i[E].status=4,i[E].abortReason=m}dr(s,e)}},f)}function dr(s,e){const i=zS(s,e),a=fl(i),o=HS(s,i);return YI(s,o,a),a}function YI(s,e,i){if(e.length===0)return;const a=[];let o=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=vt(i,p.path);let v=!1,E;if(j(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,E=p.abortReason,o=o.concat(Ci(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=xI)v=!0,E="maxretry",o=o.concat(Ci(s.serverSyncTree_,p.currentWriteId,!0));else{const y=PS(s,p.path,f);p.currentInputSnapshot=y;const R=e[d].update(y.val());if(R!==void 0){Du("transaction failed: Data returned ",R,p.path);let C=Je(R);typeof R=="object"&&R!=null&&En(R,".priority")||(C=C.updatePriority(y.getPriority()));const L=p.currentWriteId,H=xu(s),G=OS(C,y,H);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=G,p.currentWriteId=Kd(s),f.splice(f.indexOf(L),1),o=o.concat(TS(s.serverSyncTree_,p.path,G,p.currentWriteId,p.applyLocally)),o=o.concat(Ci(s.serverSyncTree_,L,!0))}else v=!0,E="nodata",o=o.concat(Ci(s.serverSyncTree_,p.currentWriteId,!0))}Xt(s.eventQueue_,i,o),o=[],v&&(e[d].status=2,function(y){setTimeout(y,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(E==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(E),!1,null))))}ku(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)Sr(a[d]);Qd(s,s.transactionQueueTree_)}function zS(s,e){let i,a=s.transactionQueueTree_;for(i=fe(e);i!==null&&Tr(a)===void 0;)a=qd(a,i),e=Pe(e),i=fe(e);return a}function HS(s,e){const i=[];return BS(s,e,i),i.sort((a,o)=>a.order-o.order),i}function BS(s,e,i){const a=Tr(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Iu(e,o=>{BS(s,o,i)})}function ku(s,e){const i=Tr(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,IS(e,i.length>0?i:void 0)}Iu(e,a=>{ku(s,a)})}function Wd(s,e){const i=fl(zS(s,e)),a=qd(s.transactionQueueTree_,e);return vI(a,o=>{Sh(s,o)}),Sh(s,a),MS(a,o=>{Sh(s,o)}),i}function Sh(s,e){const i=Tr(e);if(i){const a=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(j(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(j(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(Ci(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&a.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?IS(e,void 0):i.length=u+1,Xt(s.eventQueue_,fl(e),o);for(let f=0;f<a.length;f++)Sr(a[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function KI(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):yt(`Invalid query segment '${i}' in query '${s}'`)}return e}const my=function(s,e){const i=QI(s),a=i.namespace;i.domain==="firebase.com"&&Yn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||tN();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new YE(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new Me(i.pathString)}},QI=function(s){let e="",i="",a="",o="",u="",f=!0,d="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(d=s.substring(0,m-1),s=s.substring(m+2));let v=s.indexOf("/");v===-1&&(v=s.length);let E=s.indexOf("?");E===-1&&(E=s.length),e=s.substring(0,Math.min(v,E)),v<E&&(o=FI(s.substring(v,E)));const y=KI(s.substring(Math.min(s.length,E)));m=e.indexOf(":"),m>=0?(f=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")i="localhost";else if(R.split(".").length<=2)i=R;else{const C=e.indexOf(".");a=e.substring(0,C).toLowerCase(),i=e.substring(C+1),u=a}"ns"in y&&(u=y.ns)}return{host:e,port:p,domain:i,subdomain:a,secure:f,scheme:d,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class XI{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return me(this._path)?null:Td(this._path)}get ref(){return new Fn(this._repo,this._path)}get _queryIdentifier(){const e=ey(this._queryParams),i=yd(e);return i==="{}"?"default":i}get _queryObject(){return ey(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof Xd))return!1;const i=this._repo===e._repo,a=Cd(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+zN(this._path)}}class Fn extends Xd{constructor(e,i){super(e,i,new Nd,!1)}get parent(){const e=eS(this._path);return e===null?null:new Fn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class $a{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Me(e),a=Fh(this.ref,e);return new $a(this._node.getChild(i),a,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new $a(o,Fh(this.ref,a),Fe)))}hasChild(e){const i=new Me(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tn(s,e){return s=St(s),s._checkNotDeleted("ref"),e!==void 0?Fh(s._root,e):s._root}function Fh(s,e){return s=St(s),fe(s._path)===null?AI("child","path",e):kS("child","path",e),new Fn(s._repo,Ye(s._path,e))}function pu(s,e){s=St(s),NI("set",s._path),CI("set",e,s._path);const i=new el;return HI(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function $I(s,e){RI("update",e,s._path);const i=new el;return BI(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}function gy(s){s=St(s);const e=new jS(()=>{}),i=new Lu(e);return zI(s._repo,s,i).then(a=>new $a(a,new Fn(s._repo,s._path),s._queryParams.getIndex()))}class Lu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new WI("value",this,new $a(e.snapshotNode,new Fn(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new XI(this,e,i):null}matches(e){return e instanceof Lu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ZI(s,e,i,a,o){let u;if(typeof a=="object"&&(u=void 0,o=a),typeof a=="function"&&(u=a),o&&o.onlyOnce){const p=i,m=(v,E)=>{py(s._repo,s,d),p(v,E)};m.userCallback=i.userCallback,m.context=i.context,i=m}const f=new jS(i,u||void 0),d=new Lu(f);return GI(s._repo,s,d),()=>py(s._repo,s,d)}function mu(s,e,i,a){return ZI(s,"value",e,i,a)}XO(Fn);tI(Fn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FIREBASE_DATABASE_EMULATOR_HOST",Kh={};let eD=!1;function tD(s,e,i,a){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=tl(u);s.repoInfo_=new YE(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function nD(s,e,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=my(u,o),d=f.repoInfo,p;typeof process<"u"&&Uv&&(p=Uv[JI]),p?(u=`http://${p}?ns=${d.namespace}`,f=my(u,o),d=f.repoInfo):f.repoInfo.secure;const m=new hN(s.name,s.options,e);OI("Invalid Firebase Database URL",f),me(f.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=sD(d,s,m,new fN(s,i));return new rD(v,s)}function iD(s,e){const i=Kh[e];(!i||i[s.key]!==s)&&Yn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),VI(s),delete i[s.key]}function sD(s,e,i,a){let o=Kh[e.name];o||(o={},Kh[e.name]=o);let u=o[s.toURLString()];return u&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new kI(s,eD,i,a),o[s.toURLString()]=u,u}class rD{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,yu("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fn(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yn("Cannot call "+e+" on a deleted database.")}}function Qh(s=Qy(),e){const i=od(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=a1("database");a&&aD(i,...a)}return i}function aD(s,e,i,a={}){s=St(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&ss(a,u.repoInfo_.emulatorOptions))return;Yn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Go(Go.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:l1(a.mockUserToken,s.app.options.projectId);f=new Go(d)}tl(e)&&(Gy(e),yu("Database",!0)),tD(u,o,a,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(s){WA(yr),or(new rs("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return nD(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ai(Pv,zv,s),Ai(Pv,zv,"esm2017")}jn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};jn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};lD();var oD="firebase",uD="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(oD,uD,"app");console.log("Initializing Firebase with config:",{projectId:Oa.projectId,authDomain:Oa.authDomain,apiKey:Oa.apiKey?"***"+Oa.apiKey.slice(-4):"missing"});const GS=Ky(Oa),ko=KA(GS),es=Qh(GS);console.log("Firebase initialized successfully");const cD=()=>Array.from({length:8},()=>rv.charAt(Math.floor(Math.random()*rv.length))).join("");function dl(){const[s,e]=I.useState(null),[i,a]=I.useState([]),[o,u]=I.useState({}),[f,d]=I.useState({}),[p,m]=I.useState(!1),[v,E]=I.useState(!1),[y,R]=I.useState(null),C=I.useRef(null),M=I.useCallback(()=>{C.current&&(clearTimeout(C.current),C.current=null),R(null)},[]),L=I.useCallback(W=>{C.current&&clearTimeout(C.current),R(W),W&&(C.current=setTimeout(()=>{R(null),C.current=null},qo.ERROR_TIMEOUT))},[]),H=async(W,J)=>{if(M(),!W||!J){L("Please enter both email and password.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(W)){L("Please enter a valid email address.");return}if(J.length<6){L("Password must be at least 6 characters long.");return}const ge=W.trim(),oe=J.trim();if(!ge||!oe){L("Please enter both email and password.");return}try{console.log("Attempting registration with:",{email:ge,passwordLength:oe.length});const _e=await DR(ko,ge,oe);_e.user&&console.log("User registered successfully:",_e.user.uid)}catch(_e){console.error("Registration error details:",{code:_e.code,message:_e.message,email:ge}),_e.code==="auth/email-already-in-use"?L("This email is already registered. Please try logging in instead."):_e.code==="auth/weak-password"?L("Password is too weak. Please use at least 6 characters."):_e.code==="auth/invalid-email"?L("Please enter a valid email address."):_e.code==="auth/operation-not-allowed"?L("Email/password accounts are not enabled. Please contact support."):_e.code==="auth/too-many-requests"?L("Too many failed attempts. Please try again later."):L("Registration failed. Please check your details and try again.")}},G=async(W,J)=>{if(M(),!W||!J){L("Please enter both email and password.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(W)){L("Please enter a valid email address.");return}const ge=W.trim(),oe=J.trim();if(!ge||!oe){L("Please enter both email and password.");return}try{console.log("Attempting login with:",{email:ge,passwordLength:oe.length}),await MR(ko,ge,oe),console.log("Login successful")}catch(_e){console.error("Login error details:",{code:_e.code,message:_e.message,email:ge}),_e.code==="auth/user-not-found"?L("User not found. Please check your email or register first."):_e.code==="auth/wrong-password"?L("Incorrect password. Please try again."):_e.code==="auth/invalid-email"?L("Invalid email format."):_e.code==="auth/invalid-credential"?L("Invalid credentials. Please check your email and password, or register first."):_e.code==="auth/too-many-requests"?L("Too many failed attempts. Please try again later."):_e.code==="auth/user-disabled"?L("This account has been disabled. Please contact support."):_e.code==="auth/operation-not-allowed"?L("Email/password login is not enabled. Please contact support."):L(`Login failed: ${_e.message}`)}},K=async()=>{M(),await UR(ko)},re=async W=>{const J=`tokens/${W}/buttonStatus`,Ee=await gy(tn(es,J)),oe=(Ee.exists()?Ee.val():_t.BUTTON_STATES.CLOSED)===_t.BUTTON_STATES.OPEN?_t.BUTTON_STATES.CLOSED:_t.BUTTON_STATES.OPEN;await pu(tn(es,J),oe)},Q=async(W,J)=>{if(!s||!i.includes(W))return;const Ee=`tokens/${W}/buttonName`;try{await pu(tn(es,Ee),J||null)}catch(ge){console.error("Error updating button name:",ge),L(_t.ERROR_MESSAGES.UPDATE_NAME_FAILED)}},we=I.useCallback(async W=>{const J=tn(es,`users/${W}/deviceTokens`),Ee=await gy(J);let ge=[];if(Ee.exists()&&Array.isArray(Ee.val()))ge=Ee.val();else{const oe=Array.from({length:qo.NUM_TOKENS},cD);ge=oe;const _e={[`/users/${W}/deviceTokens`]:ge};oe.forEach($t=>{_e[`/tokens/${$t}`]={owner:W,authorizedUsers:{[W]:!0},buttonStatus:_t.BUTTON_STATES.HELLO}}),await $I(tn(es),_e)}a(ge),m(!1),ve(ge)},[]),ve=W=>{const J={},Ee={};if(u({}),d({}),m(!1),W.length===0){m(!0);return}const ge=()=>{const oe=Object.keys(J).length===W.length,_e=Object.keys(Ee).length===W.length;oe&&_e&&m(!0)};W.forEach(oe=>{const _e=tn(es,`tokens/${oe}/buttonStatus`);mu(_e,ze=>{let x=ze.val();typeof x!="string"&&(x=_t.BUTTON_STATES.CLOSED),u(V=>({...V,[oe]:x})),J[oe]=!0,ge()},ze=>{console.error("Error listening to button status:",ze),J[oe]=!0,ge()});const $t=tn(es,`tokens/${oe}/buttonName`);mu($t,ze=>{const x=ze.val();d(V=>({...V,[oe]:x})),Ee[oe]=!0,ge()},ze=>{console.error("Error listening to button name:",ze),Ee[oe]=!0,ge()})})};return I.useEffect(()=>{const W=LR(ko,J=>{e(J),E(!0),J?we(J.uid):(a([]),u({}),d({}),m(!1))});return()=>W()},[we]),{user:s,token:i[0]||null,tokens:i,buttonState:o,isButtonDataLoaded:p,buttonNames:f,updateButtonName:Q,error:y,register:H,login:G,logout:K,toggleButton:re,clearError:M,showError:L,authChecked:v}}function Uu(){const s=I.useContext(ky);if(!s)throw new Error("useAppContext must be used within an AppProvider");return s}const Lo="/Starry/";function fD(){const s=_u(),e=yn(),i=a=>e.pathname===a;return B.jsxs("nav",{className:"navigation-bar",children:[B.jsx("button",{className:`nav-button ${i(at.HOME)?"active":""}`,onClick:()=>s(at.HOME),children:B.jsx("img",{src:`${Lo}icons/door.png`,alt:"Doors",className:"nav-icon"})}),B.jsx("button",{className:`nav-button ${i(at.SETTINGS)?"active":""}`,onClick:()=>s(at.SETTINGS),children:B.jsx("img",{src:`${Lo}icons/clock.webp`,alt:"Settings",className:"nav-icon"})}),B.jsx("button",{className:`nav-button ${i(at.CAMERA)?"active":""}`,onClick:()=>s(at.CAMERA),children:B.jsx("img",{src:`${Lo}icons/camera.png`,alt:"Camera",className:"nav-icon"})}),B.jsx("button",{className:`nav-button ${i(at.PROFILE)?"active":""}`,onClick:()=>s(at.PROFILE),children:B.jsx("img",{src:`${Lo}icons/profile.png`,alt:"Profile",className:"nav-icon"})})]})}function hD({children:s}){const{error:e,clearError:i}=Uu(),{user:a,authChecked:o}=dl(),[u,f]=I.useState(!1);return I.useEffect(()=>{if(e){f(!0);const d=setTimeout(()=>{f(!1),i()},3500);return()=>clearTimeout(d)}else f(!1)},[e,i]),B.jsxs("div",{id:"appContainer",className:"fade-in background",children:[e&&B.jsx("div",{className:`error-banner ${u?"visible":"fade-out"}`,children:e}),B.jsx("div",{className:"main-content page-transition",children:s}),a&&o&&B.jsx(fD,{})]})}function dD(){const[s,e]=I.useState(""),[i,a]=I.useState(""),{register:o,login:u}=dl(),f=async()=>{await o(s,i)},d=async()=>{await u(s,i)};return B.jsx("div",{id:"authSection",children:B.jsxs("div",{className:"auth-horizontal",children:[B.jsx("input",{type:"email",id:"email",placeholder:"Email",value:s,onChange:p=>e(p.target.value),onTouchStart:p=>p.target.focus()}),B.jsx("input",{type:"password",id:"password",placeholder:"Password",value:i,onChange:p=>a(p.target.value),onTouchStart:p=>p.target.focus()}),B.jsx("button",{id:"registerBtn",className:"register-btn",onClick:f,disabled:!s||!i,children:"Register"}),B.jsx("button",{id:"loginBtn",className:"login-btn",onClick:d,disabled:!s||!i,children:"Go"})]})})}const pD="/Starry/";function mD({tokens:s,buttonState:e,buttonNames:i,onToggle:a,onUpdateName:o}){const{addSettingsMessage:u}=Uu(),[f,d]=I.useState(!1),[p,m]=I.useState(!1),v=I.useRef([]);I.useEffect(()=>{v.current=v.current.slice(0,s.length)},[s]),I.useEffect(()=>{const R=()=>{m(window.innerWidth<=qo.MOBILE_BREAKPOINT)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),I.useEffect(()=>{const R=f;v.current.forEach(C=>{C&&(R?(C.classList.remove("vibration-ending"),C.classList.add("is-vibrating")):(C.classList.add("vibration-ending"),setTimeout(()=>{C.classList.remove("is-vibrating"),C.classList.remove("vibrating"),C.classList.remove("vibration-ending")},qo.VIBRATION_DURATION)))})},[f,p]);const E=R=>{a(R)},y=(R,C)=>{const L=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});u(`${R} ${C} at ${L}`)};return B.jsxs("div",{className:"control-panel-screen",children:[B.jsxs("div",{className:"control-panel-header",children:[B.jsx("h2",{className:"my-doors-title",children:"Doors"}),B.jsx("button",{className:"plus-button",onClick:()=>d(R=>!R)})]}),B.jsx("div",{style:{width:"100%",maxWidth:"800px",margin:"0 auto"},children:B.jsx("div",{className:"toggle-buttons",children:s.map((R,C)=>{const M=e[R];if(M!==_t.BUTTON_STATES.OPEN&&M!==_t.BUTTON_STATES.CLOSED)return null;const L=(i==null?void 0:i[R])||`Button ${C+1}`,H=M===_t.BUTTON_STATES.OPEN?_t.BUTTON_STATES.CLOSED:_t.BUTTON_STATES.OPEN;return B.jsx("div",{className:"toggle-btn-wrapper",children:B.jsxs("button",{ref:G=>v.current[C]=G,id:`toggle-${R}`,className:`toggle-btn ${M}`,style:{animationDelay:`${C*_t.ANIMATION_DELAYS.BUTTON_STAGGER}s`},onClick:()=>{if(f){const G=prompt(`Rename "${L}"`,L);G!=null&&o(R,G.trim())}else E(R),y(L,H)},children:[B.jsx("img",{src:`${pD}icons/House1.png`,alt:"House",className:"toggle-btn-icon"}),B.jsx("span",{className:"toggle-btn-text",children:L})]})},R)})})})]})}class VS extends vy.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){this.setState({errorInfo:i})}render(){return this.state.hasError?B.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#e74c3c",background:"#fff0f0"},children:[B.jsx("h2",{children:"Something went wrong."}),B.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"20px",color:"#b30000"},children:[this.state.error&&this.state.error.toString(),B.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function gD(){const{settingsMessages:s}=Uu(),e=I.useRef(null);return I.useEffect(()=>{e.current&&e.current.scrollIntoView({behavior:"smooth"})},[s]),B.jsx("div",{className:"settings-page-screen",children:B.jsx("div",{className:"settings-content",children:B.jsxs("div",{style:{marginTop:10,paddingBottom:"10px"},children:[(s==null?void 0:s.length)>0?s.map((i,a)=>B.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:B.jsx("div",{style:{backgroundColor:"#a575ee",padding:"10px 20px",borderRadius:"30px",maxWidth:"85%",color:"#0c001e",fontSize:"19px",fontWeight:470,boxShadow:"0 2px 8px rgba(0, 0, 0, 0)",lineHeight:"1.5"},children:i})},a)):B.jsx("p",{style:{color:"#8a6bb3",textAlign:"center"},children:"No activity yet"}),B.jsx("div",{ref:e})]})})})}function _D(){return B.jsx(VS,{children:B.jsx(gD,{})})}function vD(){console.log("CameraPage component is rendering");const[s,e]=I.useState({}),[i,a]=I.useState({}),[o,u]=I.useState(!0),{tokens:f,authChecked:d}=dl(),{setCameraLoading:p,isCameraFading:m}=Uu();I.useEffect(()=>{if(!d)return;p(!0);const y=Qh(),R=[],C={};if(f.length===0){u(!1),e({}),a({}),p(!1);return}return u(!0),f.forEach(M=>{const L=tn(y,`tokens/${M}/camera/imageUrl`),H=tn(y,`tokens/${M}/buttonName`);console.log("📡 Watching:",`tokens/${M}/camera/imageUrl`,`tokens/${M}/buttonName`),C[M]={imageUrlLoaded:!1,buttonNameLoaded:!1};const G=mu(L,re=>{const Q=re.val();e(ve=>{const W={...ve};return Q&&typeof Q=="string"&&Q.startsWith("http")?W[M]=Q+`&cb=${Date.now()}`:delete W[M],W}),C[M].imageUrlLoaded=!0,C[M].buttonNameLoaded&&(C[M]=!0),Object.values(C).every(ve=>ve===!0)&&(u(!1),p(!1))});R.push(G);const K=mu(H,re=>{const Q=re.val();a(ve=>{const W={...ve};return Q?W[M]=Q:delete W[M],W}),C[M].buttonNameLoaded=!0,C[M].imageUrlLoaded&&(C[M]=!0),Object.values(C).every(ve=>ve===!0)&&(u(!1),p(!1))});R.push(K)}),()=>{R.forEach(M=>M()),p(!1)}},[f,d,p]);const v=async()=>{const y=Qh();for(const R of f){const C=`tokens/${R}/photo`;try{await pu(tn(y,C),"snap"),console.log(`Sent 'snap' command to token: ${R}`),setTimeout(async()=>{await pu(tn(y,C),"hello"),console.log(`Sent 'hello' command to token: ${R}`)},1e3)}catch(M){console.error(`Error sending command to token ${R}:`,M)}}},E=Object.keys(s).length>0;return B.jsx("div",{className:"camera-page-screen",children:B.jsxs("div",{className:"camera-content",children:[B.jsx("button",{onClick:v,className:`refresh-button ${m?"fade-in-element":""}`,children:"Refresh"}),o?B.jsx("p",{className:`loading-text ${m?"fade-in-element delay-1":""}`,children:"Loading cameras..."}):E?B.jsx("div",{className:`camera-grid ${m?"fade-in-element delay-2":""}`,children:B.jsx("div",{className:"camera-grid-container",children:f.map((y,R)=>s[y]?B.jsx("div",{className:"camera-item",children:B.jsxs("div",{className:"camera-card",style:{animationDelay:`${R*.1}s`},children:[B.jsx("h3",{className:"camera-title",children:i[y]||`Camera ${R+1}`}),B.jsx("img",{src:s[y],alt:`Camera Snapshot for ${y}`,className:"camera-image"})]})},y):null)})}):B.jsx("p",{className:`no-images-text ${m?"fade-in-element delay-1":""}`,children:"No images available."})]})})}function yD(){const{user:s,logout:e}=dl(),i=_u(),a=async()=>{try{await e(),i(at.AUTH)}catch(u){console.error("Logout failed:",u)}},o=u=>{u==="Logout"&&a()};return B.jsx("div",{className:"profile-page-screen",children:B.jsxs("div",{className:"profile-content",children:[B.jsx("div",{style:{backgroundColor:"#ffc4e1",width:100,height:100,borderRadius:"50%",marginBottom:20}}),B.jsx("h2",{style:{margin:0,fontSize:24,color:"#2b2b2b"},children:"User"}),B.jsx("p",{style:{marginTop:4,color:"#666",fontSize:16},children:s?s.email:"Loading..."}),B.jsxs("div",{style:{marginTop:40,width:"100%"},children:[["Account","Notifications","Privacy"].map(u=>B.jsxs("div",{style:{backgroundColor:"#fff",padding:"18px 20px",borderRadius:16,marginBottom:16,fontSize:18,fontWeight:600,color:"#1e1e1e",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.01)",cursor:"pointer"},onClick:()=>o(u),children:[B.jsx("span",{children:u}),B.jsx("span",{style:{fontSize:20,color:"#888"},children:"›"})]},u)),B.jsxs("div",{style:{backgroundColor:"#fff",padding:"18px 20px",borderRadius:16,marginBottom:16,fontSize:18,fontWeight:600,color:"#e74c3c",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.01)",cursor:"pointer",border:"1px solid #e74c3c"},onClick:()=>a(),children:[B.jsx("span",{children:"Logout"}),B.jsx("span",{style:{fontSize:20,color:"#e74c3c"},children:"›"})]})]})]})})}window.navigator.standalone===!0&&document.documentElement.classList.add("ios-standalone");function ED(){const{user:s,tokens:e,buttonState:i,isButtonDataLoaded:a,buttonNames:o,updateButtonName:u,toggleButton:f,authChecked:d}=dl(),p=yn();if(!d)return B.jsx("div",{id:"containerEl",className:"container",children:B.jsx("div",{style:{textAlign:"center",padding:"50px 20px"},children:B.jsx("div",{style:{fontSize:"24px",marginBottom:"20px"},children:"Loading..."})})});if(!s)return B.jsxs("div",{id:"containerEl",className:"container",children:[B.jsx("h1",{className:"title",children:"Welcome to the future"}),B.jsx(dD,{})]});const m=p.pathname===at.CAMERA;return B.jsx("div",{id:"containerEl",className:m?"camera-page-screen":"control-panel-screen",children:B.jsxs(dC,{children:[B.jsx(yi,{path:at.AUTH,element:B.jsx(ah,{to:at.HOME,replace:!0})}),B.jsx(yi,{path:at.HOME,element:B.jsx(mD,{tokens:e,buttonState:i,buttonNames:o,isButtonDataLoaded:a,onToggle:f,onUpdateName:u})}),B.jsx(yi,{path:at.SETTINGS,element:B.jsx(_D,{})}),B.jsx(yi,{path:at.CAMERA,element:B.jsx(vD,{})}),B.jsx(yi,{path:at.PROFILE,element:B.jsx(yD,{})}),B.jsx(yi,{path:"/",element:B.jsx(ah,{to:at.HOME,replace:!0})}),B.jsx(yi,{path:"*",element:B.jsx(ah,{to:at.HOME,replace:!0})})]})})}function SD(){return B.jsx(XC,{children:B.jsx(PC,{basename:"/STARR",children:B.jsx(hD,{children:B.jsx(ED,{})})})})}window.navigator.standalone===!0&&document.documentElement.classList.add("ios-standalone");bT.createRoot(document.getElementById("root")).render(B.jsx(vy.StrictMode,{children:B.jsx(VS,{children:B.jsx(SD,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/Starry/service-worker.js").then(e=>{console.log("✅ Service Worker registered with scope:",e.scope),e.onupdatefound=()=>{const i=e.installing;i&&(i.onstatechange=()=>{i.state==="installed"&&navigator.serviceWorker.controller&&confirm("🚀 New version available! Reload now?")&&window.location.reload()})}}).catch(e=>{console.error("❌ Service Worker registration failed:",e)})});
